<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-03-24 Sun 09:04 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AlBasmala: @@html: &lt;br&gt;@@ Blogging with Emacs &amp; Org-mode (‚Ä¢ÃÄ·¥ó‚Ä¢ÃÅ)Ÿà</title>
<meta name="author" content="Musa Al-hassy" />
<meta name="description" content="How my blog is setup (‚Ä¢ÃÄ·¥ó‚Ä¢ÃÅ)Ÿà" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style> ul {list-style-type: " ‚úì"} </style>

          <style>
          /* From: https://endlessparentheses.com/public/css/endless.css */
          /* See also: https://meta.superuser.com/questions/4788/css-for-the-new-kbd-style */
          kbd
          {
            -moz-border-radius: 6px;
            -moz-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
            -webkit-border-radius: 6px;
            -webkit-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
            background-color: #f7f7f7;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
            color: #333;
            display: inline-block;
            font-family: 'Droid Sans Mono', monospace;
            font-size: 80%;
            font-weight: normal;
            line-height: inherit;
            margin: 0 .1em;
            padding: .08em .4em;
            text-shadow: 0 1px 0 #fff;
            word-spacing: -4px;
        
            box-shadow: 2px 2px 2px #222; /* MA: An extra I've added. */
          }
          </style>
          <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/tooltipster.bundle.min.css"/>
        
          <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-punk.min.css" />
        
          <script type="text/javascript">
              if (typeof jQuery == 'undefined') {
                  document.write(unescape('%3Cscript src="https://code.jquery.com/jquery-1.10.0.min.js"%3E%3C/script%3E'));
              }
          </script>
        
           <script type="text/javascript"            src="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/js/tooltipster.bundle.min.js"></script>
        
            <script>
                   $(document).ready(function() {
                       $('.tooltip').tooltipster({
                           theme: 'tooltipster-punk',
                           contentAsHTML: true,
                           animation: 'grow',
                           delay: [100,500],
                           // trigger: 'click'
                           trigger: 'custom',
                           triggerOpen: {
                               mouseenter: true
                           },
                           triggerClose: {
                               originClick: true,
                               scroll: true
                           }
           });
                   });
               </script>
        
          <style>
             abbr {color: red;}
        
             .tooltip { border-bottom: 1px dotted #000;
                        color:red;
                        text-decoration: none;}
          </style>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<div id="table-of-contents" role="doc-toc">
<h2>¬†<a href="javascript:window.scrollTo(0,0)" style="color: black !important; border-bottom: none !important;" class="tooltip" title="Go to the top of the page"> Œû </a>¬†</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#COMMENT-Typical-workflow-How-do-I-publish-an-article">1. <a href="#COMMENT-Typical-workflow-How-do-I-publish-an-article">Typical workflow: How do I publish an article?</a></a></li>
<li><a href="#Why-not-use-an-existing-blogging-platform">2. <a href="#Why-not-use-an-existing-blogging-platform">Why not use an existing blogging platform?</a></a></li>
<li><a href="#blog-new-article">3. <a href="#blog-new-article">‚ÄúGoal-driven development‚Äù &#x2014;or, Getting Started: doc:blog/new-article</a></a></li>
<li><a href="#Seamlessly-Previewing-Articles-within-Emacs">4. <i>Seamlessly</i> Previewing Articles <i>within</i> Emacs üò≤</a></li>
<li><a href="#HTML-Header">5. <i>Style</i>! ‚ú® What do we want to be inserted into the head of every page?</a>
<ul>
<li><a href="#Style-Header-Elements">5.1. <a href="#Style-Header-Elements">Style Header Elements</a></a></li>
<li><a href="#Script-Header-Elements">5.2. <a href="#Script-Header-Elements">Script Header Elements</a></a></li>
<li><a href="#Lisp-Header-Elements">5.3. <a href="#Lisp-Header-Elements">Lisp Header Elements</a></a></li>
<li><a href="#Blog-Banner">5.4. <a href="#Blog-Banner">Blog Banner and Dynamic Code Highlighting</a></a></li>
<li><a href="#org12bb817">5.5. Miscellaneous Styles</a></li>
</ul>
</li>
<li><a href="#Floating-TOC">6. <a href="#Floating-TOC">Œû: Floating <i>Table of Contents</i></a></a></li>
<li><a href="#orgda137c2">7. Clickable Sections with Sensible Anchors</a>
<ul>
<li><a href="#Ensuring-Useful-HTML-Anchors">7.1. <a href="#Ensuring-Useful-HTML-Anchors">Ensuring Useful HTML Anchors</a></a></li>
<li><a href="#Clickable-Headlines">7.2. <a href="#Clickable-Headlines">Clickable Headlines</a></a></li>
</ul>
</li>
<li><a href="#MathJax-Support">8. <a href="#MathJax-Support">MathJax Support &#x2014; \(e^{i \cdot \pi} + 1 = 0\)</a></a>
<ul>
<li><a href="#Unicode-Warning">8.1. <a href="#Unicode-Warning">Unicode Warning!</a></a></li>
<li><a href="#Rule-Resurrection">8.2. <a href="#Rule-Resurrection">Rule Resurrection</a></a></li>
<li><a href="#COMMENT-nice-math-spacing">8.3. <i>Making Math Stick-out with Spacing!</i></a></li>
</ul>
</li>
<li><a href="#Arabic-Font-Setup">9. <a href="#Arabic-Font-Setup">Arabic Font Setup</a></a></li>
<li><a href="#the-name">10. <a href="#the-name">The name: al-bas-mala</a></a></li>
<li><a href="#COMMENT-Using-a-Custom-Domain-alhassy-com"><a href="#COMMENT-Using-a-Custom-Domain-alhassy-com">Appendix: Using a Custom Domain: <code>alhassy.com</code></a></a></li>
</ul>
</div>
</div>
<p>
<div class="header">
  <a href="https://alhassy.github.io/" class="logo">Life & Computing Science</a>
  <br/>
  <a href="https://alhassy.github.io/AlBasmala">AlBasmala</a>
  <a href="https://alhassy.github.io/rss.xml">RSS</a>
  <a href="https://alhassy.github.io/about">About</a>
</div><meta name="author" content="Musa Al-hassy">
    <meta name="referrer" content="no-referrer"><link href="usual-org-front-matter.css" rel="stylesheet" type="text/css" /><link href="org-notes-style.css" rel="stylesheet" type="text/css" /><link href="floating-toc.css" rel="stylesheet" type="text/css" /><link href="blog-banner.css" rel="stylesheet" type="text/css" /><link rel="icon" href="images/favicon.png"><script type="text/javascript">
   /*
   @licstart  The following is the entire license notice for the
   JavaScript code in this tag.
   
   Copyright (C) 2012-2020 Free Software Foundation, Inc.
   
   The JavaScript code in this tag is free software: you can
   redistribute it and/or modify it under the terms of the GNU
   General Public License (GNU GPL) as published by the Free Software
   Foundation, either version 3 of the License, or (at your option)
   any later version.  The code is distributed WITHOUT ANY WARRANTY;
   without even the implied warranty of MERCHANTABILITY or FITNESS
   FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
   
   As additional permission under GNU GPL version 3 section 7, you
   may distribute non-source (e.g., minimized or compacted) forms of
   that code without the copy of the GNU GPL normally required by
   section 4, provided you include this license notice and a URL
   through which recipients can access the Corresponding Source.
   
   
   @licend  The above is the entire license notice
   for the JavaScript code in this tag.
   */
   <!--/*--><![CDATA[/*><!--*/
    function CodeHighlightOn(elem, id)
    {
      var target = document.getElementById(id);
      if(null != target) {
        elem.cacheClassElem = elem.className;
        elem.cacheClassTarget = target.className;
        target.className = "code-highlighted";
        elem.className   = "code-highlighted";
      }
    }
    function CodeHighlightOff(elem, id)
    {
      var target = document.getElementById(id);
      if(elem.cacheClassElem)
        elem.className = elem.cacheClassElem;
      if(elem.cacheClassTarget)
        target.className = elem.cacheClassTarget;
    }
   /*]]>*///-->
   </script><script type="text/x-mathjax-config">
       MathJax.Hub.Config({
           displayAlign: "center",
           displayIndent: "0em",
   
           "HTML-CSS": { scale: 100,
                           linebreaks: { automatic: "false" },
                           webFont: "TeX"
                          },
           SVG: {scale: 100,
                 linebreaks: { automatic: "false" },
                 font: "TeX"},
           NativeMML: {scale: 100},
           TeX: { equationNumbers: {autoNumber: "AMS"},
                  MultLineWidth: "85%",
                  TagSide: "right",
                  TagIndent: ".8em"
                }
   });
   </script>
   <script type="text/javascript"
           src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
   
   <script type="text/x-mathjax-config">
   MathJax.Hub.Config({
       "HTML-CSS": {
           styles: {
               ".MathJax nobr": {
                   padding: "0.5em 0.5em"
               },
           }
       }
   });
   </script>
   <link href="https://alhassy.github.io/org-notes-style.css" rel="stylesheet" type="text/css" /><link href="https://alhassy.github.io/floating-toc.css" rel="stylesheet" type="text/css" /><link href="https://alhassy.github.io/blog-banner.css" rel="stylesheet" type="text/css" /><br><center><h1 class="post-title">AlBasmala:  <br> Blogging with Emacs & Org-mode (‚Ä¢ÃÄ·¥ó‚Ä¢ÃÅ)Ÿà</h1></center> <script> window.parent.document.title =  window.parent.document.title.replace(/@@.*@@/, "") </script> 
</p>

<center><a href="https://alhassy.github.io/tags.html"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 16" width="15" height="16"><path fill-rule="evenodd" d="M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 000-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z"></path></svg> </a><a href="https://alhassy.com/tag-emacs.html"><img src="https://img.shields.io/badge/-emacs-grey?logo=nil"></a> <a href="https://alhassy.com/tag-org.html"><img src="https://img.shields.io/badge/-org-grey?logo=nil"></a> <a href="https://alhassy.com/tag-html.html"><img src="https://img.shields.io/badge/-html-grey?logo=nil"></a> <a href="https://alhassy.com/tag-css.html"><img src="https://img.shields.io/badge/-css-grey?logo=nil"></a> <a href="https://alhassy.com/tag-javascript.html"><img src="https://img.shields.io/badge/-javascript-grey?logo=nil"></a> <a href="https://alhassy.com/tag-git.html"><img src="https://img.shields.io/badge/-git-grey?logo=nil"></a> <a href="https://alhassy.com/tag-lisp.html"><img src="https://img.shields.io/badge/-lisp-grey?logo=nil"></a></center>
<center class="post-image"><a href="./images/org_logo.png" class="tooltip" title="Image credit ‚Äú./images/org_logo.png‚Äù"><img src="./images/org_logo.png" alt="Article image" width="150" height="150" align="top"/></a></center>

<div><a style="width: 1%;float: left; padding: 0px" id="imagelink" href="#imagelink">üîó</a> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Image Org Link                                          </font> </strong> </summary>

<p>
A quick way to embed clickable images, along with tooltip credits and other configs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">org-deflink</span> image
             <span style="color: #B4DCE7;">"Provide a quick way to insert images along with credits via tooltips.</span>

<span style="color: #B4DCE7;">Example usage:</span>

<span style="color: #B4DCE7;">image:https://upload.wikimedia.org/wikipedia/commons/3/33/Heisokudachi.svg|100|100</span>

<span style="color: #B4DCE7;">image:URL|WIDTH|HEIGHT|CENTER?|CREDIT?</span>
<span style="color: #B4DCE7;">"</span>
<span style="color: #91889B;">;;             </span><span style="color: #91889B;">(upcase (or o-description o-label))</span>
  (<span style="color: #40B4C4;">-let</span> [(image width height center? credit?) (s-split <span style="color: #B4DCE7;">"|"</span> o-label)]
    (<span style="color: #40B4C4;">-let</span> [unsplash (cl-second (s-match <span style="color: #B4DCE7;">".*unsplash.com/photos/</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">(</span><span style="color: #B4DCE7;">.*</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">)</span><span style="color: #B4DCE7;">"</span> image))]
      (<span style="color: #40B4C4;">let*</span> ((href (<span style="color: #40B4C4;">if</span> unsplash (concat <span style="color: #B4DCE7;">"https://unsplash.com/photos/"</span> unsplash) image))
            (title (format <span style="color: #B4DCE7;">"Image credit &#8220;%s&#8221;"</span> (<span style="color: #40B4C4;">or</span> credit? (<span style="color: #40B4C4;">if</span> unsplash (concat <span style="color: #B4DCE7;">"https://unsplash.com/photos/"</span> unsplash) image))))
            (src (<span style="color: #40B4C4;">if</span> unsplash (format <span style="color: #B4DCE7;">"https://source.unsplash.com/%s/%sx%s"</span> unsplash width height) image))
            (it (format <span style="color: #B4DCE7;">"&lt;a href=\"%s\" class=\"tooltip\" title=\"%s\"&gt;&lt;img src=\"%s\" alt=\"Article image\"</span>
<span style="color: #B4DCE7;">             width=\"%s\" height=\"%s\" align=\"top\"/&gt;&lt;/a&gt;"</span>
                        href title src width height)))
        (<span style="color: #40B4C4;">if</span> center?
            (format <span style="color: #B4DCE7;">"&lt;center&gt; %s &lt;/center&gt;"</span> it)
          it)))))
</pre>
</div>

<p>
This will eventually be part of <a href="http://alhassy.com/org-special-block-extras/">org-special-block-extras</a>.
</p>

</details> </div>

<div><a style="width: 1%;float: left; padding: 0px" id="deftag" href="#deftag">üîó</a> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Redefining Org Section for purposes of blocks              </font> </strong> </summary>

<p>
<center> <a href="https://i.redd.it/rre5ggpx9jya1.png" class="tooltip" title="Image credit ‚ÄúMusa‚Äù"><img src="https://i.redd.it/rre5ggpx9jya1.png" alt="Article image"
             width="100%" height="100%" align="top"/></a> </center>
(<a href="https://www.reddit.com/r/emacs/comments/13bdlck/tags_are_functions_of_org_sections_%E1%B4%97%D9%88/">Reddit Post</a>)
</p>

<p>
This will eventually be part of <a href="http://alhassy.com/org-special-block-extras/">org-special-block-extras</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defmacro</span> <span style="color: #EB64B9;">org-deftag</span> (name args docstring <span style="color: #FFE261;">&amp;rest</span> body)
  <span style="color: #919ea7;">"Re-render an Org section in any way you like, by tagging the section with NAME.</span>

<span style="color: #919ea7;">That is to say, we essentially treat tags as functions that act on Org headings:</span>
<span style="color: #919ea7;">We redefine Org sections for the same purposes as Org special blocks.</span>

<span style="color: #919ea7;">Anyhow:</span>
<span style="color: #919ea7;">ARGS are the sequence of items seperated by underscores after the NAME of the new tag.</span>
<span style="color: #919ea7;">BODY is a form that may anaphorically mention:</span>
<span style="color: #919ea7;">- O-BACKEND: The backend we are exporting to, such as `</span><span style="color: #B381C5;">latex</span><span style="color: #919ea7;">' or `</span><span style="color: #B381C5;">html</span><span style="color: #919ea7;">'.</span>
<span style="color: #919ea7;">- O-HEADING: The string denoting the title of the tagged section heading.</span>

<span style="color: #919ea7;">DOCSTRING is mandatory; everything should be documented for future maintainability.</span>

<span style="color: #919ea7;">The result of this anaphoric macro is a symbolic function name `</span><span style="color: #B381C5;">org-deftag/NAME</span><span style="color: #919ea7;">',</span>
<span style="color: #919ea7;">which is added to `</span><span style="color: #B381C5;">org-export-before-parsing-hook</span><span style="color: #919ea7;">'.</span>

<span style="color: #919ea7;">----------------------------------------------------------------------</span>

<span style="color: #919ea7;">Below is the motivating reason for inventing this macro. It is used:</span>

<span style="color: #919ea7;">     ** Interesting, but low-priority, content   :details_red:</span>
<span style="color: #919ea7;">     Blah blah blah blah blah blah blah blah blah blah blah.</span>
<span style="color: #919ea7;">     Blah blah blah blah blah blah blah blah blah blah blah.</span>

<span style="color: #919ea7;">Here is the actual implementation:</span>

<span style="color: #919ea7;">(org-deftag details (color)</span>
<span style="color: #919ea7;">   \"HTML export a heading as if it were a &lt;details&gt; block; COLOR is an optional</span>
<span style="color: #919ea7;">   argument indicating the background colour of the resulting block.\"</span>
<span style="color: #919ea7;">   (insert \"\n#+html:\"</span>
<span style="color: #919ea7;">           (format \"&lt;details style=\\\"background-color: %s\\\"&gt;\" color)</span>
<span style="color: #919ea7;">           \"&lt;summary&gt;\" (s-replace-regexp \"^</span><span style="color: #FFE261;">\</span><span style="color: #919ea7;">** \" \"\" heading) \"&lt;/summary&gt;\")</span>
<span style="color: #919ea7;">   (org-next-visible-heading 1)</span>
<span style="color: #919ea7;">   (insert \"#+html: &lt;/details&gt;\"))</span>

<span style="color: #919ea7;">"</span>
  (<span style="color: #40B4C4;">let</span> ((func-name (intern (format <span style="color: #B4DCE7;">"org-deftag/%s"</span> name))))
    <span style="color: #40B4C4;">`</span>(<span style="color: #40B4C4;">progn</span>
       (<span style="color: #40B4C4;">cl-defun</span> ,func-name (o-backend)
         ,docstring
         (outline-show-all)
         (org-map-entries
          (<span style="color: #40B4C4;">lambda</span> ()
            (kill-line)
            (<span style="color: #40B4C4;">let</span> ((o-heading (car kill-ring)))
              (<span style="color: #40B4C4;">if</span> (not (s-contains? (format <span style="color: #B4DCE7;">":%s"</span> (<span style="color: #40B4C4;">quote</span> ,name)) o-heading <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">ignoring-case</span>))
                  (insert o-heading)
                (<span style="color: #40B4C4;">-let</span> [,args (cdr (s-split <span style="color: #B4DCE7;">"_"</span> (car (s-match (format <span style="color: #B4DCE7;">"%s[</span><span style="color: #40B4C4; font-weight: bold;">^</span><span style="color: #B4DCE7;">:]*"</span> (<span style="color: #40B4C4;">quote</span> ,name)) o-heading))))]
                  (<span style="color: #40B4C4;">setq</span> o-heading (s-replace-regexp (format <span style="color: #B4DCE7;">":%s[</span><span style="color: #40B4C4; font-weight: bold;">^</span><span style="color: #B4DCE7;">:]*:"</span> (<span style="color: #40B4C4;">quote</span> ,name)) <span style="color: #B4DCE7;">""</span> o-heading))
                  ,@body)
                <span style="color: #91889B;">;; </span><span style="color: #91889B;">Otherwise we impede on the auto-inserted &#8220;* footer :ignore:&#8221;</span>
                (insert <span style="color: #B4DCE7;">"\n"</span>))))))
       (add-hook <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">org-export-before-parsing-hook</span> (<span style="color: #40B4C4;">quote</span> ,func-name))
       (<span style="color: #40B4C4;">quote</span> ,func-name))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">org-deftag</span> details (anchor color)
   <span style="color: #B4DCE7;">"HTML export a heading as if it were a &lt;details&gt; block; ANCHOR &amp; COLOR are optional</span>
<span style="color: #B4DCE7;">   arguments indicating the anchor for this block as well as the background colour of the resulting block.</span>

<span style="color: #B4DCE7;">For example, in my blog, I would use :details_rememberthis_#F47174: to mark a section as</span>
<span style="color: #B4DCE7;">friendly-soft-red to denote it as an &#8220;advanced&#8221; content that could be ignored</span>
<span style="color: #B4DCE7;">on a first reading of my article.</span>
<span style="color: #B4DCE7;">Incidentally, `</span><span style="color: #B381C5;">orange</span><span style="color: #B4DCE7;">' and `#f2b195' are also nice &#8216;</span><span style="color: #B381C5;">warning</span><span style="color: #B4DCE7;">&#8217; colours."</span>
   (insert <span style="color: #B4DCE7;">"\n#+html:"</span>
           (format <span style="color: #B4DCE7;">"&lt;div&gt;%s &lt;details class=\"float-child\" style=\"background-color: %s\"&gt;"</span>
                   (<span style="color: #40B4C4;">if</span> anchor (format <span style="color: #B4DCE7;">"&lt;a style=\"width: 1%%;float: left; padding: 0px\" id=\"%s\" href=\"#%s\"&gt;&#128279;&lt;/a&gt;"</span> anchor anchor) <span style="color: #B4DCE7;">""</span>)
                   color)
           <span style="color: #B4DCE7;">"&lt;summary&gt; &lt;strong&gt; &lt;font face=\"Courier\" size=\"3\" color=\"green\"&gt;"</span>
           (s-replace-regexp <span style="color: #B4DCE7;">"^</span><span style="color: #FFE261;">\</span><span style="color: #B4DCE7;">** "</span> <span style="color: #B4DCE7;">""</span> o-heading)
           <span style="color: #B4DCE7;">"&lt;/font&gt; &lt;/strong&gt; &lt;/summary&gt;"</span>)
   (org-next-visible-heading 1)
   (insert <span style="color: #B4DCE7;">"#+html: &lt;/details&gt; &lt;/div&gt;"</span>))
</pre>
</div>

</details> </div>
<div id="outline-container-COMMENT-Typical-workflow-How-do-I-publish-an-article" class="outline-2">
<h2 id="COMMENT-Typical-workflow-How-do-I-publish-an-article"><span class="section-number-2">1.</span> <a href="#COMMENT-Typical-workflow-How-do-I-publish-an-article">Typical workflow: How do I publish an article?</a></h2>
<div class="outline-text-2" id="text-COMMENT-Typical-workflow-How-do-I-publish-an-article">
<ol class="org-ol">
<li>Open an Org-mode buffer &#x2014;or invoke <abbr class="tooltip" title="Make a new article for my blog; prompting for the necessary ingredients.<br><br>If the filename entered already exists, we simply write to it.<br>The user notices this and picks a new name.<br><br>This sets up a new article based on existing tags and posts.<br>+ Use C-SPC to select multiple tag items<br><br>Moreover it also enables ‚Äòorg-preview-html-mode‚Äô so that on every alteration,<br>followed by a save, C-x C-s, will result in a live preview of the blog article,<br>nearly instantaneously.">blog/new-article</abbr>.</li>

<li><code class="src src-emacs-lisp">(org-babel-load-file <span style="color: #B4DCE7;">"~/blog/AlBasmala.org"</span>)</code></li>

<li>Invoke <abbr class="tooltip" title="Enable preview-on-save, and add blog/style-setup from Org‚Äôs export hook.">blog/preview</abbr> to get live WYSIWYG in an adjacent buffer after every
save <abbr class="tooltip" style="border: none; text-decoration: none;" title="C-x C-s ‚à∑ save-buffer<br>Save current buffer in visited file if modified.<br>Variations are described below.<br><br>By default, makes the previous version into a backup file<br> if previously requested or if this is the first save.<br>Prefixed with one C-u, marks this version<br> to become a backup when the next save is done.<br>Prefixed with two C-u‚Äôs,<br> makes the previous version into a backup file.<br>Prefixed with three C-u‚Äôs, marks this version<br> to become a backup when the next save is done,<br> and makes the previous version into a backup file.<br><br>With a numeric prefix argument of 0, never make the previous version<br>into a backup file.<br><br>Note that the various variables that control backups, such<br>as ‚Äòversion-control‚Äô, ‚Äòbackup-enable-predicate‚Äô, ‚Äòvc-make-backup-files‚Äô,<br>and ‚Äòbackup-inhibited‚Äô, to name just the more popular ones, still<br>control whether a backup will actually be produced, even when you<br>invoke this command prefixed with two or three C-u‚Äôs.<br><br>If a file‚Äôs name is FOO, the names of its numbered backup versions are<br> FOO.<code>i</code> for various integers i.&emsp;A non-numbered backup file is called FOO<code>.<br>Numeric backups (rather than FOO</code>) will be made if value of<br> ‚Äòversion-control‚Äô is not the atom ‚Äònever‚Äô and either there are already<br> numeric versions of the file being backed up, or ‚Äòversion-control‚Äô is<br> non-nil.<br>We don‚Äôt want excessive versions piling up, so there are variables<br> ‚Äòkept-old-versions‚Äô, which tells Emacs how many oldest versions to keep,<br> and ‚Äòkept-new-versions‚Äô, which tells how many newest versions to keep.<br> Defaults are 2 old versions and 2 new.<br>‚Äòdired-kept-versions‚Äô controls dired‚Äôs clean-directory (.) command.<br>If ‚Äòdelete-old-versions‚Äô is nil, system will query user<br> before trimming versions.&emsp;Otherwise it does it silently.<br><br>If ‚Äòvc-make-backup-files‚Äô is nil, which is the default,<br> no backup files are made for files managed by version control.<br> (This is because the version control system itself records previous versions.)<br><br>See the subroutine ‚Äòbasic-save-buffer‚Äô for more information.<br><br>(fn &optional ARG)"><kbd style="border-color: red">C-x C-s</kbd></abbr>.</li>

<li><p>
Until content:
</p>
<ol class="org-ol">
<li>Write, write, and write!</li>
<li><abbr class="tooltip" style="border: none; text-decoration: none;" title="C-x C-s ‚à∑ save-buffer<br>Save current buffer in visited file if modified.<br>Variations are described below.<br><br>By default, makes the previous version into a backup file<br> if previously requested or if this is the first save.<br>Prefixed with one C-u, marks this version<br> to become a backup when the next save is done.<br>Prefixed with two C-u‚Äôs,<br> makes the previous version into a backup file.<br>Prefixed with three C-u‚Äôs, marks this version<br> to become a backup when the next save is done,<br> and makes the previous version into a backup file.<br><br>With a numeric prefix argument of 0, never make the previous version<br>into a backup file.<br><br>Note that the various variables that control backups, such<br>as ‚Äòversion-control‚Äô, ‚Äòbackup-enable-predicate‚Äô, ‚Äòvc-make-backup-files‚Äô,<br>and ‚Äòbackup-inhibited‚Äô, to name just the more popular ones, still<br>control whether a backup will actually be produced, even when you<br>invoke this command prefixed with two or three C-u‚Äôs.<br><br>If a file‚Äôs name is FOO, the names of its numbered backup versions are<br> FOO.<code>i</code> for various integers i.&emsp;A non-numbered backup file is called FOO<code>.<br>Numeric backups (rather than FOO</code>) will be made if value of<br> ‚Äòversion-control‚Äô is not the atom ‚Äònever‚Äô and either there are already<br> numeric versions of the file being backed up, or ‚Äòversion-control‚Äô is<br> non-nil.<br>We don‚Äôt want excessive versions piling up, so there are variables<br> ‚Äòkept-old-versions‚Äô, which tells Emacs how many oldest versions to keep,<br> and ‚Äòkept-new-versions‚Äô, which tells how many newest versions to keep.<br> Defaults are 2 old versions and 2 new.<br>‚Äòdired-kept-versions‚Äô controls dired‚Äôs clean-directory (.) command.<br>If ‚Äòdelete-old-versions‚Äô is nil, system will query user<br> before trimming versions.&emsp;Otherwise it does it silently.<br><br>If ‚Äòvc-make-backup-files‚Äô is nil, which is the default,<br> no backup files are made for files managed by version control.<br> (This is because the version control system itself records previous versions.)<br><br>See the subroutine ‚Äòbasic-save-buffer‚Äô for more information.<br><br>(fn &optional ARG)"><kbd style="border-color: red">C-x C-s</kbd></abbr></li>
<li>Preview</li>
</ol>

<p>
ü§î Consider using <abbr class="tooltip" style="border: none; text-decoration: none;" title="C-x n s ‚à∑ org-narrow-to-subtree<br>Narrow buffer to the current subtree.<br><br>(fn &optional ELEMENT)"><kbd style="border-color: red">C-x n s</kbd></abbr>, or <abbr class="tooltip" style="border: none; text-decoration: none;" title="C-x n n ‚à∑ narrow-to-region<br>Restrict editing in this buffer to the current region.<br>The rest of the text becomes temporarily invisible and untouchable<br>but is not deleted; if you save the buffer in a file, the invisible<br>text is included in the file.&emsp;C-x n w makes all visible again.<br>See also ‚Äòsave-restriction‚Äô.<br><br>When calling from Lisp, pass two arguments START and END:<br>positions (integers or markers) bounding the text that should<br>remain visible.<br><br>However, when restrictions have been set by ‚Äòwith-restriction‚Äô with a<br>label, ‚Äònarrow-to-region‚Äô can be used only within the limits of these<br>restrictions.&emsp;If the START or END arguments are outside these limits,<br>the corresponding limit set by ‚Äòwith-restriction‚Äô is used instead of the<br>argument.&emsp;To gain access to other portions of the buffer, use<br>‚Äòwithout-restriction‚Äô with the same label.<br><br>This function has :around advice: ‚Äòad-Advice-narrow-to-region‚Äô.<br><br>(fn START END)"><kbd style="border-color: red">C-x n n</kbd></abbr>, to focus your attention on a
particular section, <i>thereby</i> dramatically increasing the speed at which the
preview renders.
</p></li>

<li>Execute <abbr class="tooltip" title="Place HTML files in the right place, update arhives, index, rss, tags; git push!">blog/publish-current-article</abbr> when you're done.
<ul class="org-ul">
<li>This gets the new article showing up in index, RSS, archive, and updates
the tags.</li>
<li>NOTE: It takes about 20secs ~ 1min for the changes to be live on github pages.</li>
</ul></li>
</ol>
</div>
</div>

<div id="outline-container-Why-not-use-an-existing-blogging-platform" class="outline-2">
<h2 id="Why-not-use-an-existing-blogging-platform"><span class="section-number-2">2.</span> <a href="#Why-not-use-an-existing-blogging-platform">Why not use an existing blogging platform?</a></h2>
<div class="outline-text-2" id="text-Why-not-use-an-existing-blogging-platform">
<p>
I dislike coding in any website's primitive textarea, likewise for general
writing.
</p>

<p>
For a brief period, I used Hashnode: I'd write in Emacs, then
<kbd style="">C-c C-e C-b h h</kbd> to export current body as HTML, then paste that into
Hashnode. However, Hashnode does not respect my CSS nor my inline JS.  This was
problematic, since I wanted to write a tiny <a href="https://alhassy.com/arabic-roots.html">root-meaning program to learn Arabic</a>
and to have a <a href="https://alhassy.com/cartoon">tiny web-app for Arabic shows for my kids</a>.
</p>
</div>
</div>

<div id="outline-container-blog-new-article" class="outline-2">
<h2 id="blog-new-article"><span class="section-number-2">3.</span> <a href="#blog-new-article">‚ÄúGoal-driven development‚Äù &#x2014;or, Getting Started: <abbr class="tooltip" title="Make a new article for my blog; prompting for the necessary ingredients.<br><br>If the filename entered already exists, we simply write to it.<br>The user notices this and picks a new name.<br><br>This sets up a new article based on existing tags and posts.<br>+ Use C-SPC to select multiple tag items<br><br>Moreover it also enables ‚Äòorg-preview-html-mode‚Äô so that on every alteration,<br>followed by a save, C-x C-s, will result in a live preview of the blog article,<br>nearly instantaneously.">blog/new-article</abbr></a></h2>
<div class="outline-text-2" id="text-blog-new-article">
<p>
<a id="org8d94c98"></a>
</p>

<p>
<a id="org9fa62f0"></a>
</p>

<p>
Here's what an example article source looks like:
</p>
<pre class="example" id="orgf0cc051">
#+title: Example Article
#+author: Musa Al-hassy
#+email: alhassy@gmail.com
#+filetags: demo math
#+fileimage: emacs-birthday-present.png
#+description: This is an example article.

* Abstract :ignore:
Here is the extended abstract, which is rather concrete,
regarding the goals of this article.

* Body
I like maths.

* Conclusion
I like programming.
</pre>

<p>
Almost all <code>#+keyword:‚ãØ</code> lines become part of the JSON file
<a href="https://alhassy.com/posts.json">https://alhassy.com/posts.json</a>, that I'll use to generate the index landing
page.
</p>

<div style="overflow-y: scroll; height:250px;">
<pre class="example" id="org8a01880">
[
  {
    "file": "java-cheat-sheet",
    "title": "Java CheatSheet",
    "date": "2023-12-25 Mon",
    "image": "modern-java.png 88% 88%",
    "description": "Quick reference for an old-school-cool high-level language ^_^",
    "tags": "java cheat-sheet",
    "url": "https://alhassy.com/java-cheat-sheet",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/java-cheat-sheet.org",
    "abstract": "\n#+begin_center\n#+html: This is a quick reference of concepts in modern Java.\n\nbadge:PDF|colorful_cheat_sheet|success|https://alhassy.com/java-cheat-sheet.pdf|read-the-docs\n\n# badge:license|GNU_3|informational|https://www.gnu.org/licenses/gpl-3.0.en.html|read-the-docs\ntweet:https://alhassy.com/java-cheat-sheet\nbadge:|buy_me_a_coffee|gray|https://www.buymeacoffee.com/alhassy|buy-me-a-coffee\nbadge:contributions|welcome|green|https://github.com/alhassy/alhassy.github.io/issues\n# badge:author|musa_al-hassy|purple|https://alhassy.github.io/|nintendo-3ds\n# badge:Warning|Incomplete_DRAFT|red||codeigniter\n#+end_center\n\n# @@html: &lt;br&gt; @@\n\nModern Java is a strongly-typed, eagery evaluated, case sensative, yet\nwhitespace insensative language. It uses hierarchies of classes/types\nto structure data, but also has first-class support for\nfunctional-style algebraic datatypes.\n\nJava programs are made up of ‚Äòclasses‚Äô, classes contain methods, and methods contain commands.  To just try out a\nsnippet of code, we can\n+ Open a terminal and enter ~jshell~; then enter:\n     #+begin_src java\n1 + 2 // The jshell lets you try things out!\n\n// Say hello in a fancy way\nimport javax.swing.*;\nJOptionPane.showMessageDialog(new JFrame(), \"Hello, World!\");\n\n#+end_src\n\n+ Alternatively, in IntelliJ, click /Tools/ then /Groovy Console/ to try things out!\n+ Finally, [[http://alhassy.com/making-vscode-itself-a-java-repl.html][VSCode]] allows arbitrary Java code to be sent to a ~jshell~\n  in the background(!) and it echoes the result in a friendly way.\n\n# A program cannot consist of only commands. Java commands must be inside functions, and functions must be inside classes.\n#\n# Imagine a sofa. A sofa cannot exist on its own. It exist in a room somewhere. And a room also cannot exist on its own. A room is located in some house. Or, you could say that the house is divided into rooms, and those rooms contain things.\n#\n# Java programs are made up of classes, classes contain methods, and methods contain commands.\n\n# A minimal program must consist of at least one class, which must have at least\n# one method (function) that marks the program's starting point. This method must\n# be named main.\n\n:MWE:\nIn order to run a java program, it must have a main method as an entry point.\n\n#+begin_src java\n  public class LearnJava {\n      // In order to run a java program, it must have a main method as an entry\n      // point.\n      public static void main(String[] args) {\n          System.out.println(\"Hello World!\");\n\n          // Use System.out.printf() for easy formatted printing.\n          System.out.printf(\"pi = %.5f\", Math.PI); // =&gt; pi = 3.14159\n      }\n  }\n#+end_src\n:End:\n\n** Web reference                                                     :ignore:\n\n#+macro: begin-ignore-html #+html: &lt;!--\n#+macro: end-ignore-html #+html: --&gt;\n\n#+latex: \\vspace{-1em}\n{{{begin-ignore-html()}}}\nTo be terse, lots of content is not shown in this [[http://alhassy.com/java-cheat-sheet.pdf][PDF]], but is shown in the *[[https://alhassy.com/java-cheat-sheet][HTML]]*\nversion.\n{{{end-ignore-html()}}}\n"
  },
  {
    "file": "repl-driven-development",
    "title": "üíê Repl Driven Development: /Editor Integrated REPLs for all languages/ üîÅ",
    "date": "2023-09-08 Fri",
    "image": "rdd-benefits.png",
    "description": "Press ‚ÄúC-x C-e‚Äù to send any piece of code (in any language) to a REPL in the background, within Emacs!",
    "tags": "repl-driven-development vscode emacs javascript java python lisp clojure haskell arend purescript idris racket",
    "url": "https://alhassy.com/repl-driven-development",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/repl-driven-development.org",
    "abstract": "\n#+begin_center\nbadge:Warning|Incomplete_DRAFT|red||codeigniter\n#+end_center\n\nThe melpa:repl-driven-development package makes the philosophy of REPL Driven\nDevelopment (RDD) accessible to any language that has a primitive CLI repl: /The\nresult is an Emacs interface for the language, where code of your choosing is/\n/evaluated, and results are echoed at your cursor in overlays./\n\nThat is, with Repl *green:aided* development, you make software by starting with\nan already working program (i.e., the repl) then *green:incrementlly* ‚Äúteach it‚Äù\nto be the program you want, by defining &amp; redefining things.  Until satisfied,\nloop: Type/modify code *[[green:in your editor]]*, press some keys to evaluate what you\nwrote/modified /in the currently running system/, and explore/test the resulting\nruntime.\n# Eventually, save your code as a clean text file.\n\n/RDD is programming emphasising fast &amp; rich feedback from a running system./ RDD\nis fantastic for quickly /teaching/exploring/ an idea; as such, the running\nexample of this article will be on servers ---no prior experience with servers\nis assumed.\nThe main examples will be in JavaScript, Python, and Java.  (Since /JavaScript is\njust Lisp in C clothing/, we will not discuss Lisp.)  Since Java is verbose, the\npower of REPLs really pays off when exploring a new idea. We see how many\nimports and setup-code simply disappear in the RDD approach, letting you focus\non the core idea you're exploring/teaching.  For comparison, a traditional\nself-contained Java server program is ~30 lines long whereas the focused RDD\napproach is ~4 lines long.\n#\n# + We begin with JavaScript: Write some code, and see it interact with your browser.\n# + Then Python: Write some code, and see it interact with the terminal.\n\n# badge:repl-driven-development|1.4|informational|https://github.com/alhassy/repl-driven-development|Gnu-Emacs\n\n#+begin_center\nbadge:license|GNU_3|informational|https://www.gnu.org/licenses/gpl-3.0.en.html|read-the-docs\ntweet:https://alhassy.com/repl-driven-development\nbadge:|buy_me_a_coffee|gray|https://www.buymeacoffee.com/alhassy|buy-me-a-coffee\n@@TODO: FIX contributions URL@@\nbadge:contributions|welcome|green|https://github.com/alhassy/alhassy.github.io/issues\n#+end_center\n\n# @@html: &lt;br&gt; @@\n\n/tdlr:/ This library provides the Emacs built-in kbd:C-x_C-e behaviour for\narbitrary languages, provided they have a primitive cli REPL.\n"
  },
  {
    "file": "arabic-cheat-sheet",
    "title": "Arabic CheatSheet",
    "date": "2023-06-14 Wed",
    "image": "arabic-irab.png 100% 100%",
    "description": "Quick reference for the Arabic language; Modern Standard Arabic",
    "tags": "arabic cheat-sheet",
    "url": "https://alhassy.com/arabic-cheat-sheet",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/arabic-cheat-sheet.org",
    "abstract": "\n#+latex: \\iffalse\n\n#+begin_center\n#+html: This is a quick reference of concepts in the Arabic language.\n\nbadge:PDF|colorful_cheat_sheet|success|https://alhassy.com/arabic-cheat-sheet.pdf|read-the-docs\n\n# badge:license|GNU_3|informational|https://www.gnu.org/licenses/gpl-3.0.en.html|read-the-docs\ntweet:https://alhassy.com/arabic-cheat-sheet\nbadge:|buy_me_a_coffee|gray|https://www.buymeacoffee.com/alhassy|buy-me-a-coffee\n#+end_center\n\n# @@html: &lt;br&gt; @@\n\n#+latex: \\fi\n"
  },
  {
    "file": "family-tree",
    "title": "My Family Tree",
    "date": "2023-02-02 Thu",
    "image": "../images/family-tree.png 88% 88%",
    "description": "ŸÖŸÜ ŸáŸà ŸÅŸä ÿ¥ÿ¨ÿ±ÿ© ÿßŸÑÿπÿßÿ¶ŸÑÿ© ÿßŸÑŸÇÿØŸäŸÖÿ©",
    "tags": "family",
    "url": "https://alhassy.com/family-tree",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/family-tree.org",
    "abstract": "\n#+begin_center\nbadge:Warning|Incomplete_DRAFT|red||codeigniter\n#+end_center\n\nWho's who in the old family tree\n"
  },
  {
    "file": "karate",
    "title": "A Brisk Introduction to Karate",
    "date": "2023-02-02 Thu",
    "image": "https://www.usadojo.com/wp-content/uploads/2013/08/Goju-Ryu-Karate-600x300.png 88% 88%",
    "description": "Discovering what be ka-ra-te",
    "tags": "karate",
    "url": "https://alhassy.com/karate",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/karate.org",
    "abstract": "\n#+begin_center\nbadge:Warning|Incomplete_DRAFT|red||codeigniter\n#+end_center\n\nWhat are the basic forms of Karate? What is Karate?\n\n/‚ÄúThe ultimate aim of karate lies not in victory or defeat but in the perfection\nof the character of its participants ‚Ä¶ to subdue the enemy without fighting is/\n/the highest skill, know your enemy and know yourself, in a hundred battles you\nwill not be defeated‚Äù/ says Gichin Funakoshi ---known as The Father of Modern Karate.\n\n/Karate/ means ‚Äúempty hand‚Äù and was developed on the island of Okinawa ---part of\nmodern-day Japan.  The major styles (‚ÄúRyu‚Äù) are Shotokan, Wado-ryu,\nShito-ryu, and Goju-ryu ---many other styles of Karate are derived from these\nfour. I'm focusing on Goju-Ryu in this article: Goju-Ryu was founded by Chojun\nMiyagi; whose colleague, Gichin Funakosi, founded Shotokan-Ryu.\n\n#+begin_center\nimage:http://www.traditionalshotokankarate.co.uk/kara-te-do.gif\n#+end_center\n\nOccasionally one sees /Karate-Do/, which means ‚Äúthe way of the empty hand‚Äù.\nThis usage is a reminder that Karate is not just about fighting, but is also\na spiritual discipline.\n\nThe basic form of Goju-Ryu karate is Sanchin, ‚Äú3 battles‚Äù: The battles of the\nmind, the body, and the spirit.  However, this was considered a bit difficult\nfor beginners, and so new forms were needed as a way of introducing fundamental\nkarate forms to a wider audience.  There are the ‚Äúpeaceful and safe‚Äù forms known\nas Pinan/Heian, the ‚Äúfirst course‚Äù or Taikyoku forms, the ‚Äúpopularising forms‚Äù\nknown as Fukyugata ---the second of which was rebranded as ‚Äúattack &amp; smash‚Äù,\nGekaisai--- and, finally, there is the so-called Dachi-waza form. This last one\nis relatively new, and aims to be a smooth introduction to the world of\nforms/Kata.\n\nIn this article, I'd like to discuss the basic forms and their relationships.\n#+begin_center\nimage:https://www.sullivanskarateschool.com/wp-content/uploads/2019/07/saifa.gif\n#+end_center\n"
  },
  {
    "file": "arabic-word-order",
    "title": "A Brisk Introduction to the Fundamentals of Arabic Grammar, ŸÜÿ≠Ÿà",
    "date": "2022-11-03 Thu",
    "image": "arabic-irab.png 100% 100%",
    "description": "Discovering how to say ‚Äúa/an/the‚Äù in Arabic leads onto a zany adventure into case markings, gender, annexation, non-verbal sentences, plurals, and concludes with whether ‚ÄúMuslims‚Äù is ŸÖÿ≥ŸÑŸÖŸàŸÜ or ŸÖÿ≥ŸÑŸÖ€åŸÜ ---it's both!",
    "tags": "arabic",
    "url": "https://alhassy.com/arabic-word-order",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/arabic-word-order.org",
    "abstract": "\n# I'd like to discuss the importance of Arabic's short vowels and their use to give Arabic flexible word order.\n\nIn short: In English sometimes we mess-up between ‚ÄúI/me/my‚Äù, likewise in Arabic we might mess up with ‚Äúÿßÿ®Ÿà / ÿßÿ®ÿß / ÿßÿ®Ÿä‚Äù:\nThese are just ÿßÿ® followed by one of ÿß/Ÿä/Ÿà (which are the pronounced case endings!)\n\n#+begin_center\n~ ~ ~ ~ ~ ~ ~\n#+end_center\n\n How do Arabs say the English ‚Äúa/an/the‚Äù, as in ‚Äúan apple‚Äù or ‚Äúthe chair‚Äù? Easy! By default, all words are /indefinite/\n (‚Äúa/an‚Äù); and made /definite/ (‚Äúthe‚Äù) by adding ÿßŸÑŸÄ to the front of the word.\n\n But... there's some subtleties, which first require us to discuss vowel markings... which also change if the /feminine\n marker/ ÿ© is used, so we also need to briefly discuss gender.\n\nEnglish relies on /word order/ for meaning; for example, /Jim hit Bob/ is a sentence where the person doing the action is\n/Jim/ and we know it has to be /Jim/, and not /Bob/, since /Jim/ is the word /before/ the action /hit/. However, in Arabic words can\nbe ordered in almost any way you like! Then how do we identifiy who does an action? We use *[[green:case markings]]*: We add small\nsymbols to the end of words to indiciate the role they play in a sentence.\n\nWith vowel markings, we can finally flesh-out the nature of\n‚Äúa/an/the‚Äù in Arabic... but then something wild happens if we stick\nan (in)definite /followed by/ a definite! We get the concepts of ownership and complete sentences that don't need a verb!\n\nFinally, we conclude with an explanation of why in the world English Qurans use the single word /muslim/ where's Arabic\nQurans use both ŸÖÿ≥ŸÑŸÖŸàŸÜ and ŸÖÿ≥ŸÑŸÖŸäŸÜ.\n"
  },
  {
    "file": "arabic-roots",
    "title": "Arabic Roots: The Power of Patterns",
    "date": "2022-11-02 Wed",
    "image": "https://unsplash.com/photos/Ejdemp9O7Po",
    "description": "Let's learn about how the Arabic language makes use of ‚Äúroots‚Äù to obtain various words",
    "tags": "arabic javascript emacs",
    "url": "https://alhassy.com/arabic-roots",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/arabic-roots.org",
    "abstract": "\nI want to quickly introduce the Arabic language, through its ‚Äúroot system‚Äù ---i.e., most words have 3-letters at their\ncore--- and how these roots can be placed in ‚Äúpatterns‚Äù to obtain new words.\n\nI'd like to take a glance at Arabic's Verb Forms: These give you 10 words for each root!\n\nSome *green:interesting* concepts will also be mentioned, for those curious, but should be ignored on a first\nreading. These will be hidden away in /clickable/foldable/ regions.\n\nThese are notes of things that I'm learning; there's likely errors.\n"
  },
  {
    "file": "arabic-glossary",
    "title": "Glossary of Arabic Linguistic Terms",
    "date": "2022-11-01 Tue",
    "image": "arabic-irab.png 100% 100%",
    "description": "Definitions, and discussions, of jargon relating to learning the Arabic language.",
    "tags": "arabic",
    "url": "https://alhassy.com/arabic-glossary",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/arabic-glossary.org",
    "abstract": "Definitions, and discussions, of jargon relating to learning the Arabic language."
  },
  {
    "file": "cartoon",
    "title": "Arabic Cartoons",
    "date": "2022-10-21 Fri 11:20",
    "image": "https://upload.wikimedia.org/wikipedia/en/6/64/Dora_and_Boots.jpg 350 300",
    "description": "A simple interface to watch the engaging Arabic cartoons",
    "tags": "family arabic javascript",
    "url": "https://alhassy.com/cartoon",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/cartoon.org",
    "abstract": "\nA simple interface to watch the engaging Arabic cartoons.\n"
  },
  {
    "file": "making-vscode-itself-a-java-repl",
    "title": "üíê Making VSCode itself a Java REPL üîÅ",
    "date": "2022-09-05 Mon",
    "image": "https://github.com/alhassy/easy-extensibility/blob/main/graphics/repl-java.gif?raw=true 90% 90%",
    "description": "VSCode evaluates Java code wherever it sees it, by sending it to a JShell in the background, and echos the results in a friendly way!",
    "tags": "repl-driven-development vscode emacs javascript java python ruby clojure typescript haskell lisp",
    "url": "https://alhassy.com/making-vscode-itself-a-java-repl",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/making-vscode-itself-a-java-repl.org",
    "abstract": "\nVSCode evaluates Java code wherever it sees it, by sending it to a JShell in the background, and echos the results in a\nfriendly way!\n\nThis is achieved with a [[https://github.com/alhassy/easy-extensibility][meta-extension for VSCode]] that makes VSCode into a living, breathing, JS interpreter: It can\nexecute arbitrary JS that alters VSCode on-the-fly.  /(Inspired by using Emacs and Lisp!)/\n\nThe relevant docs show how to make a similar REPL for [[https://github.com/alhassy/easy-extensibility/blob/65572a283e4864d9bef157b438c33f4e47276e3a/vscodejs/index.js#L1417-L1420][Python]], [[https://github.com/alhassy/easy-extensibility/blob/65572a283e4864d9bef157b438c33f4e47276e3a/vscodejs/index.js#L1459-L1462][Ruby]], [[https://github.com/alhassy/easy-extensibility/blob/65572a283e4864d9bef157b438c33f4e47276e3a/vscodejs/index.js#L1475-L1479][Clojure]], [[https://github.com/alhassy/easy-extensibility/blob/65572a283e4864d9bef157b438c33f4e47276e3a/vscodejs/index.js#L1490-L1494][Common Lisp]], [[https://github.com/alhassy/easy-extensibility/blob/65572a283e4864d9bef157b438c33f4e47276e3a/vscodejs/index.js#L1509-L1515][JavaScript]], [[https://github.com/alhassy/easy-extensibility/blob/65572a283e4864d9bef157b438c33f4e47276e3a/vscodejs/index.js#L1527-L1536][Typescript]],\n[[https://github.com/alhassy/easy-extensibility/blob/65572a283e4864d9bef157b438c33f4e47276e3a/vscodejs/index.js#L1553-L1557][Haskell]], and of-course [[https://github.com/alhassy/easy-extensibility/blob/65572a283e4864d9bef157b438c33f4e47276e3a/vscodejs/index.js#L1575-L1585][Java]].\n"
  },
  {
    "file": "vscode-is-itself-a-javascript-repl",
    "title": "üíê VSCode is itself a JavaScript REPL üîÅ",
    "date": "2022-08-17 Wed",
    "image": "https://raw.githubusercontent.com/alhassy/easy-extensibility/main/graphics/repl.gif 90% 90%",
    "description": "A meta-extension for VSCode that makes VSCode into a living, breathing, JS interpreter: It can execute arbitrary JS that alters VSCode on-the-fly. A gateway into the world of Editor Crafting!",
    "tags": "repl-driven-development vscode emacs javascript",
    "url": "https://alhassy.com/vscode-is-itself-a-javascript-repl",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/vscode-is-itself-a-javascript-repl.org",
    "abstract": "\nA meta-extension for VSCode that makes VSCode into a living, breathing, JS interpreter: It can execute arbitrary JS that\nalters VSCode on-the-fly. A gateway into the world of Editor Crafting!\n\n| /(Inspired by using Emacs and Lisp!)/ |\n"
  },
  {
    "file": "TypedLisp",
    "title": "Typed Lisp, A Primer",
    "date": "2019-08-21 19:29",
    "image": "emacs-birthday-present.png",
    "description": "Exploring Lisp's fine-grained type hierarchy.",
    "tags": "types lisp program-proving emacs",
    "url": "https://alhassy.com/TypedLisp",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/TypedLisp.org",
    "abstract": "\n#+TOC: headlines 2\n\nLet's explore Lisp's fine-grained type hierarchy!\n\nWe begin with a shallow comparison to Haskell, a rapid tour of type theory,\ntry in vain to defend dynamic approaches, give a somewhat humorous account of history,\nnote that you've been bamboozled ---type's have always been there---,\nthen go into technical details of some Lisp types, and finally conclude by showing\nhow /macros permit typing/.\n\n# Lisp types are fine-grained; e.g., rather than ~int~ we may use a spefied range of numbers,\n# or a set of specfiied elements, intersections, unions, and complements of types, and\n# even arbitrary predicates!\n\nGoals for this article:\n\n1. Multiple examples of type constructions in Lisp.\n2. Comparing Lisp type systems with modern languages, such as Haskell.\n3. Show how algebraic polymorphic types like ~Pair~ and ~Maybe~ can be defined in Lisp.\n   Including heterogeneously typed lists!\n4. Convey a passion for an elegant language.\n5. Augment Lisp with functional Haskell-like type declarations ;-)\n\nUnless suggested otherwise, the phrase ‚ÄúLisp‚Äù refers to\n[[https://www.gnu.org/software/emacs/manual/html_mono/cl.html#index-cl_002ddeftype-14][Common Lisp as supported by Emacs Lisp]]. As such, the resulting discussion\nis applicable to a number of Lisp dialects\n---I'm ignoring editing types such as buffers and keymaps, for now.\n"
  },
  {
    "file": "three-minute-thesis",
    "title": "Have you ever packaged anything?",
    "date": "2019-03-12 19:29",
    "image": "packages.png 250 250",
    "description": "I learned something neat, and wanted to share!",
    "tags": "packages dependent-types",
    "url": "https://alhassy.com/three-minute-thesis",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/three-minute-thesis.org",
    "abstract": "\n#+TOC: headlines 2\n\n# copied from the repo\n\nHerein I try to make my current doctoral research accessible to the average person:\nExtending dependently-typed languages to implement module system features in the core\nlanguage. It's something I can direct my family to, if they're inclined to know what it is\nI've been doing lately.\n\nThe technical matter can be seen at the associated website\n‚îÄ[[https://alhassy.github.io/next-700-module-systems-proposal/][The Next 700 Module Systems]]‚îÄ which includes a poster, slides, and a demo.\n\nExcluding the abstract, this is my thesis proposal in /three minutes/ (‚Ä¢ÃÄ·¥ó‚Ä¢ÃÅ)Ÿà\n"
  },
  {
    "file": "InteractiveWayToC",
    "title": "An Interactive Way To C",
    "date": "2019-01-12 19:29",
    "image": "interactive_way_to_c.png 450 450",
    "description": "Learning C program proving using Emacs --reminiscent of Coq proving with Proof General.",
    "tags": "program-proving c emacs frama-c",
    "url": "https://alhassy.com/InteractiveWayToC",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/InteractiveWayToC.org",
    "abstract": "\n#+TOC: headlines 2\n\n# copied from the repo\n\nDo you know what the above program accomplishes?\nIf you do, did you also spot a special edge case?\n\nWe aim to present an approach to program proving in C using a minimal Emacs setup\nso that one may produce literate C programs and be able to prove them correct\n--or execute them-- using a single button press; moreover the output is again in Emacs.\n\nThe goal is to learn program proving using the Frama-C tool\n--without necessarily invoking its gui-- by loading the source of this file into\nEmacs then editing, executing, &amp; proving as you read along.\nOne provides for the formal specification of properties of C programs --e.g., using ACSL--\n which can then be verified for the implementations using tools that interpret such annotation\n--e.g., Frama-C invoked from within our Emacs setup.\n\nRead on, and perhaps you'll figure out how to solve the missing ~FixMe~ pieces üòâ\n\nThe intent is for rapid editing and checking.\nIndeed, the Frama-c gui does not permit editing in the gui, so one must switch between\ntheir text editor and the gui.\n[[https://orgmode.org/worg/org-tutorials/org4beginners.html][Org mode beginning at the basics]] is a brief tutorial that covers a lot of Org and,\nfrom the get-go, covers ‚Äúthe absolute minimum you need to know about Emacs!‚Äù\n\nIf anything, this effort can be construed as a gateway into interactive theorem proving\nsuch as with Isabelle, Coq, or Agda.\n\nThe article /aims/ to be self-contained ---not even assuming familiarity with any C!\n\n\n#+BEGIN_QUOTE\n  The presentation and examples are largely inspired by\n\n  + Gilles Dowek's exquisite text [[https://www.springer.com/gp/book/9781848820319][Principles of Programming Languages]].\n     - It is tremendously accessible!\n\n  + Allan Blanchard's excellent tutorial\n    [[https://allan-blanchard.fr/publis/frama-c-wp-tutorial-en.pdf][Introduction to C Program Proof using Frama-C and its WP Plugin]].\n\n  Another excellent and succinct tutorial is Virgile Prevosto's [[https://frama-c.com/download/acsl-tutorial.pdf][ACSL Mini-Tutorial]].\n  In contrast, the tutorial [[https://www.cs.umd.edu/class/spring2016/cmsc838G/frama-c/ACSL-by-Example-12.1.0.pdf][ACSL By Example]] aims to provide a variety of algorithms\n  rendered in ACSL.\n#+END_QUOTE\n\nThere are no solutions since it's too easy to give up and look at the solutions that're\nnearby. Moreover, I intend to use some of the exercises for a class I'm teaching ;-)\n"
  },
  {
    "file": "PathCat",
    "title": "Graphs are to categories as lists are to monoids",
    "date": "2018-12-24 19:29",
    "image": "PathCat.png 300 300",
    "description": "A fast-paced introduction to Category Theory based on the notion of graphs.",
    "tags": "category-theory agda types",
    "url": "https://alhassy.com/PathCat",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/PathCat.org",
    "abstract": "\n#+TOC: headlines 2\n\nNumbers are the lengths of lists which are the flattenings of trees which are\nthe spannings of graphs.\nUnlike the first three, graphs have /two/ underlying types of interest\n--the vertices and the edges-- and it is getting to grips with this complexity\nthat we attempt to tackle by considering their ‚Äòalgebraic‚Äô counterpart: Categories.\n\n# trees are just those graphs for which arbitrary points are connected by a unique undirected path.\n\nIn our exploration of what graphs could possibly be and their relationships to lists are,\nwe shall /mechanise,/ or /implement,/ our claims since there will be many details and it is easy\nto make mistakes --moreover as a self-learning project, I'd feel more confident to make"
  },
  {
    "file": "HeytingAlgebra",
    "title": "Discovering Heyting Algebra",
    "date": "2018-11-14 19:29",
    "image": "HeytingAlgebra.png 350 350",
    "description": "How do friends communicate secretly using non-invertible operations such as minimum? An introduction to Heyting Algebra --an instance of Cartesian Closed Categories!",
    "tags": "order-theory category-theory",
    "url": "https://alhassy.com/HeytingAlgebra",
    "history": "https://github.com/alhassy/alhassy.github.io/commits/master/posts/HeytingAlgebra.org",
    "abstract": "\n#+toc: headlines 2\n\nWe attempt to motivate the structure of a Heyting Algebra\nby considering ‚Äòinverse problems‚Äô.\n\nFor example,\n+ You have a secret number $x$ and your friend has a secret number $y$, which you've\n  communicated to each other in person.\n+ You communicate a ‚Äòmessage‚Äô to each other\n  by adding onto your secret number.\n+ Hence, if I receive a number $z$, then I can /undo/ the addition operation to find the ‚Äòmessage‚Äô $m = z - y$.\n\nWhat if we decided, for security, to change our protocol from using addition to using\nminimum. That is, we encode our message $m$ as $z = x ‚Üì m$. Since minimum is not\ninvertible, we decide to send our encoded messages with a ‚Äòcontext‚Äô $c$ as a pair $(z, c)$.\nFrom this pair, a unique number $m‚Ä≤$ can be extracted, which is not necessarily the original $m$.\nRead on, and perhaps you'll figure out which messages can be communicated üòâ\n\n# For example, we wrote our message on a piece of paper and placed it on a cafe bulletin board --a context!\n\nThis exploration demonstrates that relative pseudo-complements\n+ Are admitted by the usual naturals precisely when infinity is considered a number;\n+ Are /exactly/ implication for the Booleans;\n+ /Internalises/ implication for sets;\n+ Yield /the largest complementary subgraph/ when considering subgraphs.\n# + Generalise the /deduction theorem/.\n\nIn some sense, the pseudo-complement is the ‚Äúbest approximate inverse‚Äù to forming meets, minima, intersections.\n\nAlong the way we develop a number of the theorems describing the relationships\nbetween different structural components of Heyting Algebras;\nmost notably the internalisation of much of its own structure.\n\nThe article aims to be self-contained, however it may be helpful to\nlook at [[https://alhassy.github.io/CatsCheatSheet/LatticesCheatSheet.pdf][this lattice cheat sheet]] (‚Ä¢ÃÄ·¥ó‚Ä¢ÃÅ)Ÿà\n"
  }
]
</pre>

</div>

<p>
<a id="org7ad5c00"></a>
</p>

<p>
The <code>#+description</code> is exported, by standard Org-mode, as HTML meta-data which is
used to ‚Äòunfurl‚Äô a link to an article: When a link to an article is pasted in a
social media website, it <i>unfurls</i> into a little card showing some information
about the link, such as its image, description, and author.
</p>
<ul class="org-ul">
<li>For long descriptions, one can use multiple <code>#+description</code> lines;
I'd like to have a terse one-liner with a longer description in the
<code>Abstract</code> heading.</li>
</ul>

<p>
Below are the methods to make a new article, to get the meta-data about each
article, to create the JSON file, and to load it.
</p>


<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Use-package declarations </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr">1: </span>(<span style="color: #40B4C4;">use-package</span> <span style="color: #B381C5;">org-static-blog</span>)
<span class="linenr">2: </span>(<span style="color: #40B4C4;">use-package</span> <span style="color: #B381C5;">lf</span>) <span style="color: #91889B;">;; </span><span style="color: #91889B;">So we can use `</span><span style="color: #B381C5;">lf-string</span><span style="color: #91889B;">' for multi-line strings supporting interpolation:</span>
<span class="linenr">3: </span><span style="color: #91889B;">;; </span><span style="color: #91889B;">(lf-string "100/2 is ${ (/ 100 2) }; neato!") ;; &#8658; "100/2 is 50; neato!"</span>
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Basic facts (global variables) of my blog                        </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defvar</span> <span style="color: #FFFFFF;">blog/title</span> <span style="color: #B4DCE7;">"Life &amp; Computing Science"</span>
  <span style="color: #919ea7;">"Title of the blog."</span>)

(<span style="color: #40B4C4;">defvar</span> <span style="color: #FFFFFF;">blog/url</span> <span style="color: #B4DCE7;">"https://alhassy.com"</span>
  <span style="color: #919ea7;">"URL of the blog."</span>)

(<span style="color: #40B4C4;">defvar</span> <span style="color: #FFFFFF;">blog/publish-directory</span> <span style="color: #B4DCE7;">"~/blog/"</span>
  <span style="color: #919ea7;">"Directory containing published HTML files."</span>)

(<span style="color: #40B4C4;">defvar</span> <span style="color: #FFFFFF;">blog/posts-directory</span> <span style="color: #B4DCE7;">"~/blog/posts"</span>
  <span style="color: #919ea7;">"Directory containing source Org files.</span>

<span style="color: #919ea7;">When publishing, posts are rendered as HTML and included in the index and RSS feed.</span>
<span style="color: #919ea7;">See `</span><span style="color: #B381C5;">blog/make-index-page</span><span style="color: #919ea7;">' and `</span><span style="color: #B381C5;">blog/publish-directory</span><span style="color: #919ea7;">'."</span>)
</pre>
</div>
</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">blog/new-article: Helper function to make a new article          </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/new-article</span> ()
<span class="linenr"> 2: </span><span style="color: #919ea7;">"Make a new article for my blog; prompting for the necessary ingredients.</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #919ea7;">If the filename entered already exists, we simply write to it.</span>
<span class="linenr"> 5: </span><span style="color: #919ea7;">The user notices this and picks a new name.</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #919ea7;">This sets up a new article based on existing tags and posts.</span>
<span class="linenr"> 8: </span><span style="color: #919ea7;">+ Use C-SPC to select multiple tag items</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #919ea7;">Moreover it also enables `</span><span style="color: #B381C5;">org-preview-html-mode</span><span style="color: #919ea7;">' so that on every alteration,</span>
<span class="linenr">11: </span><span style="color: #919ea7;">followed by a save, C-x C-s, will result in a live preview of the blog article,</span>
<span class="linenr">12: </span><span style="color: #919ea7;">nearly instantaneously."</span>
<span class="linenr">13: </span>  (<span style="color: #40B4C4;">interactive</span>)
<span class="linenr">14: </span>  (<span style="color: #40B4C4;">let</span> (file desc)
<span class="linenr">15: </span>
<span class="linenr">16: </span>    (<span style="color: #40B4C4;">thread-last</span> blog/posts-directory
<span class="linenr">17: </span>      f-entries
<span class="linenr">18: </span>      (mapcar <span style="color: #40B4C4;">#'</span><span style="color: #FFE261;">f-filename</span>)
<span class="linenr">19: </span>      (completing-read <span style="color: #B4DCE7;">"Filename (Above are existing): "</span>)
<span class="linenr">20: </span>      (concat blog/posts-directory)
<span class="linenr">21: </span>      (<span style="color: #40B4C4;">setq</span> file))
<span class="linenr">22: </span>
<span class="linenr">23: </span>    <span style="color: #91889B;">;; </span><span style="color: #91889B;">For some reason, &#8216;</span><span style="color: #B381C5;">find-file</span><span style="color: #91889B;">&#8217; in the thread above</span>
<span class="linenr">24: </span>    <span style="color: #91889B;">;; </span><span style="color: #91889B;">wont let the completing-read display the possible completions.</span>
<span class="linenr">25: </span>    (find-file file)
<span class="linenr">26: </span>
<span class="linenr">27: </span>    (insert <span style="color: #B4DCE7;">"#+title: "</span> (read-string <span style="color: #B4DCE7;">"Title: "</span>)
<span class="linenr">28: </span>            <span style="color: #B4DCE7;">"\n#+author: "</span> user-full-name
<span class="linenr">29: </span>            <span style="color: #B4DCE7;">"\n#+email: "</span>  user-mail-address
<span class="linenr">30: </span>            <span style="color: #91889B;">;; </span><span style="color: #91889B;">"\n#+date: " (format-time-string "&lt;%Y-%m-%d %H:%M&gt;")</span>
<span class="linenr">31: </span>            <span style="color: #B4DCE7;">"\n#+filetags: "</span> (s-join <span style="color: #B4DCE7;">" "</span> (helm-comp-read <span style="color: #B4DCE7;">"Tags: "</span>
<span class="linenr">32: </span>                                                         blog/tags
<span class="linenr">33: </span>                                                         <span style="color: #EB64B9;">:marked-candidates</span> t))
<span class="linenr">34: </span>            <span style="color: #B4DCE7;">"\n#+fileimage: emacs-birthday-present.png"</span>
<span class="linenr">35: </span>            <span style="color: #91889B;">;; </span><span style="color: #91889B;">"\n#+fileimage: " (completing-read</span>
<span class="linenr">36: </span>            <span style="color: #91889B;">;;                    </span><span style="color: #91889B;">"Image: "</span>
<span class="linenr">37: </span>            <span style="color: #91889B;">;;                    </span><span style="color: #91889B;">(mapcar #'f-filename (f-entries "~/blog/images/")))</span>
<span class="linenr">38: </span>            <span style="color: #91889B;">;; </span><span style="color: #91889B;">"\n#+include: ../MathJaxPreamble.org" ;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">. Is this someting I actually want here? If so, then consider tangling it from AlBasmala! (and add the whitespace-MathJax setup from above!)</span>
<span class="linenr">39: </span>            <span style="color: #B4DCE7;">"\n#+description: "</span>
<span class="linenr">40: </span>               (<span style="color: #40B4C4;">setq</span> desc (read-string <span style="color: #B4DCE7;">"Article Purpose: "</span>))
<span class="linenr">41: </span>            <span style="color: #B4DCE7;">"\n\n* Abstract :ignore: \n"</span> desc
<span class="linenr">42: </span>            <span style="color: #B4DCE7;">"\n\n* ???"</span>)
<span class="linenr">43: </span>    (save-buffer)
<span class="linenr">44: </span>    (blog/preview)))
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">blog/create-posts-json-file                                      </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/create-posts-json-file</span> ()
<span class="linenr"> 2: </span>  <span style="color: #919ea7;">"Create cache info about posts."</span>
<span class="linenr"> 3: </span>  (<span style="color: #40B4C4;">interactive</span>)
<span class="linenr"> 4: </span>  (<span style="color: #40B4C4;">require</span> <span style="color: #40B4C4;">'</span><span style="color: #B381C5;">json</span>)
<span class="linenr"> 5: </span>  (<span style="color: #40B4C4;">cl-loop</span> for file in (f-files <span style="color: #B4DCE7;">"~/blog/posts"</span>)
<span class="linenr"> 6: </span>           when (s-ends-with? <span style="color: #B4DCE7;">".org"</span> file)
<span class="linenr"> 7: </span>           collect (blog/info file) into posts
<span class="linenr"> 8: </span>           finally
<span class="linenr"> 9: </span>           <span style="color: #91889B;">;; </span><span style="color: #91889B;">Sorted in descending time; i.e., the latest article should be first</span>
<span class="linenr">10: </span>           (<span style="color: #40B4C4;">setq</span> posts (sort posts (<span style="color: #40B4C4;">lambda</span> (newer older) (time-less-p (date-to-time (@date older)) (date-to-time (@date newer))))))
<span class="linenr">11: </span>           (f-write-text (json-encode posts)  <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">utf-8</span> (f-expand <span style="color: #B4DCE7;">"~/blog/posts.json"</span>))
<span class="linenr">12: </span>           (find-file <span style="color: #B4DCE7;">"~/blog/posts.json"</span>)
<span class="linenr">13: </span>           (json-pretty-print-buffer)
<span class="linenr">14: </span>           (write-file <span style="color: #B4DCE7;">"~/blog/posts.json"</span>)))
<span class="linenr">15: </span>
<span class="linenr">16: </span>
<span class="linenr">17: </span>(<span style="color: #40B4C4;">defvar</span> <span style="color: #FFFFFF;">blog/posts</span> (<span style="color: #40B4C4;">with-temp-buffer</span> (insert-file-contents <span style="color: #B4DCE7;">"~/blog/posts.json"</span>) (json-parse-buffer))
<span class="linenr">18: </span>  <span style="color: #919ea7;">"Load cached info about posts"</span>)
<span class="linenr">19: </span>
<span class="linenr">20: </span>
<span class="linenr">21: </span>(<span style="color: #40B4C4;">defvar</span> <span style="color: #FFFFFF;">blog/tags</span> (sort (seq-uniq (-flatten (seq-map (<span style="color: #40B4C4;">lambda</span> (it) (s-split <span style="color: #B4DCE7;">" "</span> (map-elt it <span style="color: #B4DCE7;">"tags"</span>))) blog/posts))) <span style="color: #40B4C4;">#'</span><span style="color: #FFE261;">string&lt;</span>)
<span class="linenr">22: </span>  <span style="color: #919ea7;">"Tags for my blog articles."</span>)
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Convenient accessor methods: Given a JSON hashmap, get the specified key values </font> </strong> </summary>

<p>
Since ‚Äúaccessor‚Äù begins with ‚Äòa‚Äô, and ‚Äò@‚Äô looks like an ‚Äòa‚Äô, all these methods
start with ‚Äò@‚Äô.
</p>
<ul class="org-ul">
<li>The final 3 below not only access, but also produce HTMLized renditions of
what they access. This is useful for when we want to organise an index landing
page of all of my posts.</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #91889B;">;; </span><span style="color: #91889B;">Convenient accessor methods: Given a JSON hashmap, get the specified key values.</span>
<span style="color: #91889B;">;; </span><span style="color: #91889B;">Later, we redefine these, for example `</span><span style="color: #B381C5;">@image</span><span style="color: #91889B;">' will actually produces the HTML for the image.</span>
<span style="color: #91889B;">;; </span><span style="color: #91889B;">Example usage: (@title (seq-elt posts 0))  &#8658;  "Java CheatSheet"</span>

<span style="color: #91889B;">;; </span><span style="color: #91889B;">Extract the &#8216;#+title:&#8216; from POST-FILENAME.</span>
(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">@title</span>       (json) (map-elt json <span style="color: #B4DCE7;">"title"</span>))

<span style="color: #91889B;">;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Consider using: (format-time-string "%d %b %Y" &#8943;) to have the same format across all articles.</span>
(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">@date</span> (json)
  <span style="color: #919ea7;">"Extract the &#8220;#+date:&#8221; from JSON."</span>
  (map-elt json <span style="color: #B4DCE7;">"date"</span>))

(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">@file</span>        (json) (map-elt json <span style="color: #B4DCE7;">"file"</span>))
(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">@description</span> (json) (map-elt json <span style="color: #B4DCE7;">"description"</span>))
(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">@abstract</span>    (json) (map-elt json <span style="color: #B4DCE7;">"abstract"</span>))

<span style="color: #91889B;">;; </span><span style="color: #91889B;">Returns absolute URL to the published POST-FILENAME.</span>
<span style="color: #91889B;">;;</span>
<span style="color: #91889B;">;; </span><span style="color: #91889B;">This function concatenates publish URL and generated custom filepath to the</span>
<span style="color: #91889B;">;; </span><span style="color: #91889B;">published HTML version of the post.</span>
<span style="color: #91889B;">;;</span>
(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">@url</span>         (json) (map-elt json <span style="color: #B4DCE7;">"url"</span>))
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">@history: Get an HTML badge that points to the Github history of a given file name, in my blog </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">@history</span> (json)
  <span style="color: #919ea7;">"Get an HTML badge that points to the Github history of a given file name, in my blog."</span>
  (concat
   <span style="color: #B4DCE7;">"&lt;a class=\"tooltip\" title=\"See the various edits to this article over time\" href=\""</span>
   (map-elt json <span style="color: #B4DCE7;">"history"</span>)
   <span style="color: #B4DCE7;">"\"&gt;&lt;img src=\"https://img.shields.io/badge/-History-informational?logo=github\"&gt;&lt;/a&gt;"</span>))

</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">@tags: Get an HTML listing of tags, as shields.io bages, associated with the given file </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">@tags</span> (json)
  <span style="color: #919ea7;">"Get an HTML listing of tags, as shields.io bages, associated with the given file.</span>

<span style="color: #919ea7;">Example use:  (@tags (seq-elt blog/posts 0))</span>
<span style="color: #919ea7;">"</span>
  (concat
   <span style="color: #91889B;">;; </span><span style="color: #91889B;">Straightforward implementation.</span>
   <span style="color: #91889B;">;; </span><span style="color: #91889B;">"&lt;div class=\"taglist\"&gt;"</span>
   <span style="color: #91889B;">;; </span><span style="color: #91889B;">(org-static-blog-post-taglist file-name)</span>
   <span style="color: #91889B;">;; </span><span style="color: #91889B;">"&lt;/div&gt;"</span>

  <span style="color: #91889B;">;; </span><span style="color: #91889B;">Badges implementation</span>
   (concat
    (format <span style="color: #B4DCE7;">"&lt;a href=\"https://alhassy.github.io/tags.html\"&gt; %s &lt;/a&gt;"</span>
            (org-link/octoicon <span style="color: #B4DCE7;">"tag"</span> nil <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">html</span>))
    (s-join <span style="color: #B4DCE7;">" "</span>
            (<span style="color: #40B4C4;">--map</span>  (org-link/badge
                     (format <span style="color: #B4DCE7;">"|%s|grey|%stag-%s.html"</span>
                             (s-replace <span style="color: #B4DCE7;">"-"</span> <span style="color: #B4DCE7;">"_"</span> it)
                             <span style="color: #B4DCE7;">"https://alhassy.com/"</span> it)
                     nil <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">html</span>)
                    (s-split <span style="color: #B4DCE7;">" "</span> (map-elt json <span style="color: #B4DCE7;">"tags"</span>)))))))
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">@image </font> </strong> </summary>
<p>
<a id="orgb38fc43"></a>
</p>

<p>
Every article declaratively has an associated image ^_^
</p>
<ul class="org-ul">
<li>Images are loaded from the <code>~/blog/images/</code> directory, but may be explicit paths or URLs.</li>
<li><p>
If none declared, we use <code>emacs-birthday-present.png</code> :-)
</p>
<center> <img src="http://alhassy.com/images/emacs-birthday-present.png" width=100 height=100> </center></li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">cl-defun</span> <span style="color: #EB64B9;">@image</span> (json <span style="color: #FFE261;">&amp;optional</span> explicit-image-path-prefix)
  <span style="color: #919ea7;">"Assemble the value of &#8216;#+fileimage: image width height border?&#8217; as an HTML form.</span>

<span style="color: #919ea7;">By default, the image should be located in the top-level `</span><span style="color: #B381C5;">images/</span><span style="color: #919ea7;">' directory.</span>
<span style="color: #919ea7;">If the image is located elsewhere, or is a URL, is dictated by the presence of a `</span><span style="color: #B381C5;">/</span><span style="color: #919ea7;">'</span>
<span style="color: #919ea7;">in the image path.</span>

<span style="color: #919ea7;">Example use:  (@image (seq-elt blog/posts 0))</span>

<span style="color: #919ea7;">Here are 4 example uses:</span>

<span style="color: #919ea7;">#+fileimage: emacs-birthday-present.png</span>
<span style="color: #919ea7;">#+fileimage: ../images/emacs-birthday-present.png</span>
<span style="color: #919ea7;">#+fileimage: https://upload.wikimedia.org/wikipedia/en/6/64/Dora_and_Boots.jpg 350 300</span>
<span style="color: #919ea7;">#+fileimage: https://unsplash.com/photos/Vc2dD4l57og</span>

<span style="color: #919ea7;">+ Notice that the second indicates explicit width and height.</span>
<span style="color: #919ea7;">+ (To make the first approach work with local previews,</span>
<span style="color: #919ea7;">   we need the variable EXPLICIT-IMAGE-PATH-PREFIX which is used for local previews in `</span><span style="color: #B381C5;">my/blog/style-setup</span><span style="color: #919ea7;">'. This requires a slash at the end.)</span>
<span style="color: #919ea7;">+ The unsplash approach is specific: It shows the *main* image in the provided URL, and links to the provided URL.</span>
<span style="color: #919ea7;">"</span>
  (<span style="color: #40B4C4;">-let</span> [(image width height no-border?) (s-split <span style="color: #B4DCE7;">" "</span> (map-elt json <span style="color: #B4DCE7;">"image"</span>))]
    (<span style="color: #40B4C4;">setq</span> width (<span style="color: #40B4C4;">or</span> width 350))
    (<span style="color: #40B4C4;">setq</span> height (<span style="color: #40B4C4;">or</span> height 350))
    (<span style="color: #40B4C4;">setq</span> no-border? (<span style="color: #40B4C4;">if</span> no-border? <span style="color: #B4DCE7;">""</span> <span style="color: #B4DCE7;">"style=\"border: 2px solid black;\""</span>))
    (<span style="color: #40B4C4;">cond</span>
     ((s-contains? <span style="color: #B4DCE7;">"/"</span> image) t) <span style="color: #91889B;">;; </span><span style="color: #91889B;">It's a URL, or explicit path, do nothing to it.</span>
     (explicit-image-path-prefix (<span style="color: #40B4C4;">setq</span> image (format <span style="color: #B4DCE7;">"%s%s"</span>  explicit-image-path-prefix image)))
     ((not (s-contains? <span style="color: #B4DCE7;">"/"</span> image)) (<span style="color: #40B4C4;">setq</span> image (format <span style="color: #B4DCE7;">"images/%s"</span> image))))
    (<span style="color: #40B4C4;">-let</span> [unsplash (cl-second (s-match <span style="color: #B4DCE7;">".*unsplash.com/photos/</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">(</span><span style="color: #B4DCE7;">.*</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">)</span><span style="color: #B4DCE7;">"</span> image))]
      (<span style="color: #40B4C4;">setq</span> href (<span style="color: #40B4C4;">if</span> unsplash (concat <span style="color: #B4DCE7;">"https://unsplash.com/photos/"</span> unsplash) image))
      (<span style="color: #40B4C4;">setq</span> title (format <span style="color: #B4DCE7;">"Image credit &#8220;%s&#8221;"</span> (<span style="color: #40B4C4;">if</span> unsplash (concat <span style="color: #B4DCE7;">"https://unsplash.com/photos/"</span> unsplash) image)))
      (<span style="color: #40B4C4;">setq</span> src (<span style="color: #40B4C4;">if</span> unsplash (format <span style="color: #B4DCE7;">"https://source.unsplash.com/%s/%sx%s"</span> unsplash width height) image))
      (s-collapse-whitespace
       (format <span style="color: #B4DCE7;">"&lt;center class=\"post-image\"&gt;&lt;a href=\"%s\" class=\"tooltip\" title=\"%s\"&gt;&lt;img src=\"%s\" alt=\"Article image\"</span>
<span style="color: #B4DCE7;">             %s width=\"%s\" height=\"%s\" align=\"top\"/&gt;&lt;/a&gt;&lt;/center&gt;"</span>
              href title src no-border? width height)))))
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">blog/info: Core helper to get the plist/JSON metadata about each post </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/info</span> (post-filename)
  <span style="color: #919ea7;">"Extract the `#+BLOG_KEYWORD: VALUE` pairs from POST-FILENAME.</span>

<span style="color: #919ea7;">Example use: (blog/info \"~/blog/posts/HeytingAlgebra.org\")</span>
<span style="color: #919ea7;">"</span>
  (<span style="color: #40B4C4;">let</span> ((case-fold-search t))
    (<span style="color: #40B4C4;">with-temp-buffer</span>
      (insert-file-contents post-filename)
      (-snoc
       (cons
       (cons <span style="color: #B4DCE7;">"file"</span> (f-base post-filename))
      (<span style="color: #40B4C4;">cl-loop</span> for (prop.name prop.regex prop.default) on
            <span style="color: #40B4C4;">`</span>(<span style="color: #B4DCE7;">"title"</span> <span style="color: #B4DCE7;">"^\\#\\+title:[ ]*</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">(</span><span style="color: #B4DCE7;">.+</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">)</span><span style="color: #B4DCE7;">$"</span> ,post-filename
                     <span style="color: #B4DCE7;">"date"</span> <span style="color: #B4DCE7;">"^\\#\\+date:[ ]*&lt;</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">(</span><span style="color: #B4DCE7;">[</span><span style="color: #40B4C4; font-weight: bold;">^</span><span style="color: #B4DCE7;">]&gt;]+</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">)</span><span style="color: #B4DCE7;">&gt;$"</span> ,(time-since 0)
                     <span style="color: #B4DCE7;">"image"</span> <span style="color: #B4DCE7;">"^\\#\\+fileimage: </span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">(</span><span style="color: #B4DCE7;">.*</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">)</span><span style="color: #B4DCE7;">"</span> <span style="color: #B4DCE7;">"emacs-birthday-present.png 350 350"</span>
                     <span style="color: #B4DCE7;">"description"</span> <span style="color: #B4DCE7;">"^\\#\\+description:[ ]*</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">(</span><span style="color: #B4DCE7;">.+</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">)</span><span style="color: #B4DCE7;">$"</span> <span style="color: #B4DCE7;">"I learned something neat, and wanted to share!"</span>
                     <span style="color: #B4DCE7;">"tags"</span> <span style="color: #B4DCE7;">"^\\#\\+filetags:[ ]*</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">(</span><span style="color: #B4DCE7;">.+</span><span style="color: #40B4C4; font-weight: bold;">\\</span><span style="color: #40B4C4; font-weight: bold;">)</span><span style="color: #B4DCE7;">$"</span> <span style="color: #B4DCE7;">""</span> <span style="color: #91889B;">;; </span><span style="color: #91889B;">String; Space separated sequence of tags</span>
                     )
            by <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">cdddr</span>
            <span style="color: #91889B;">;; </span><span style="color: #91889B;">See: https://stackoverflow.com/questions/19774603/convert-alist-to-from-regular-list-in-elisp</span>
            do (goto-char (point-min))
            collect (cons prop.name
                          (<span style="color: #40B4C4;">if</span> (search-forward-regexp prop.regex nil t)
                              (match-string 1)
                            prop.default))))
       (cons <span style="color: #B4DCE7;">"url"</span> (concat <span style="color: #B4DCE7;">"https://alhassy.com/"</span> (f-base post-filename)))
       (cons <span style="color: #B4DCE7;">"history"</span> (format <span style="color: #B4DCE7;">"https://github.com/alhassy/alhassy.github.io/commits/master/posts/%s.org"</span>
                              (f-base post-filename)))
       (cons <span style="color: #B4DCE7;">"abstract"</span> (<span style="color: #40B4C4;">progn</span>
                  (goto-char (point-min))
                  (<span style="color: #40B4C4;">when</span> (re-search-forward <span style="color: #B4DCE7;">"^</span><span style="color: #FFE261;">\</span><span style="color: #B4DCE7;">* Abstract"</span> nil t)
                    (beginning-of-line)
                    (<span style="color: #40B4C4;">-let</span> [start (point)]
                      (org-narrow-to-subtree)
                      (org-fold-show-entry)
                      (re-search-forward <span style="color: #B4DCE7;">"^ *:END:"</span> nil t) <span style="color: #91889B;">;; </span><span style="color: #91889B;">Ignore :PROPERTIES: drawer, if any.</span>
                      (forward-line)
                      (buffer-substring-no-properties (point) (point-max))))))))))
</pre>
</div>
</details> </div>

<div><a style="width: 1%;float: left; padding: 0px" id="orange" href="#orange">üîó</a> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">The <code>#+begin_abstract</code> is an Org-mode Special Block </font> </strong> </summary>

<p>
Every article is intended to have a section named <code>Abstract</code>, whose contents are
used as the preview of the article, in the index landing page.
See ¬ß<a href="#org8d94c98">3</a> for a template.
</p>

<p>
Below is an alteration from the examples of the docstring of <abbr class="tooltip" title="Declare a new special block, and link, in the style of DEFUN.<br><br>A full featured example is at the end of this documentation string.<br><br>This is an anaphoric macro that provides export support for<br>special blocks <strong>and</strong> links named NAME. Just as an Org-mode<br>src-block consumes as main argument the language for the src<br>block, our special blocks too consume a MAIN-ARG; it may be a<br>symbol or a cons-list consisting of a symbolic name (with which<br>to refer to the main argument in the definition of the block)<br>followed by a default value, then, optionally, any information<br>for a one-time setup of the associated link type.<br><br>The main arg may be a sequence of symbols separated by spaces,<br>and a few punctuation with the exception of comma ‚Äò,‚Äô since it is<br>a special Lisp operator. In doubt, enclose the main arg in<br>quotes.<br><br>Then, just as Org-mode src blocks consume key-value pairs, our<br>special blocks consume a number of KWDS, which is a list of the<br>form (key‚ÇÄ value‚ÇÄ ‚Ä¶ key‚Çô value‚Çô).<br><br>After that is an optional DOCSTRING, a familar feature of DEFUN.<br>The docstring is displayed as part of the tooltip for the<br>produced link type.<br><br>Finally, the BODY is a (sequence of) Lisp forms ---no progn<br>needed--- that may refer to the names BACKEND and CONTENTS which<br>refer to the current export backend and the contents of the<br>special block ---or the description clause of a link.<br><br>CONTENTS refers to an Org-mode parsed string; i.e., Org-markup is<br>acknowledged.<br><br>In, hopefully, rare circumstances, one may refer to RAW-CONTENTS<br>to look at the fully unparsed contents.<br><br>Finally, this macro exposes two functions:<br>+ ORG-EXPORT: Wrap the argument in an export block for the current backend.<br>+ ORG-PARSE: This should ONLY be called within an ORG-EXPORT call,<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp; to escape text to Org, and out of the export block.<br><br>‚áÑ We use ‚Äú@@html:‚ãØ:@@‚Äù when altering CONTENTS, but otherwise use raw HTML <strong>around</strong> CONTENTS.<br>‚áÑ For example: (format ''<div>%s</div>'' (s-replace ''#+columnbreak:'' ''@@html:<hr>@@'' contents))<br><br><hr><br><br>The relationship between links and special blocks:<br><br>&emsp;[ [type:label][description]]<br>‚âà<br>&emsp; #+begin_type label<br>&emsp;&emsp;description<br>&emsp; #+end_type<br><br><hr><br><br>Example declaration, with all possible features shown:<br><br>&emsp; ;; We can use variable values when defining new blocks<br>&emsp; (setq angry-red ‚Äô(:foreground ''red'' :weight bold))<br><br>&emsp; (org-defblock remark<br>&emsp;&emsp; (editor ''Editor Remark'' :face angry-red) (color ''red'' signoff '''')<br>&emsp;&emsp; ''Top level (HTML & LaTeX)O-RESPECT-NEWLINES? editorial remarks; in Emacs they‚Äôre angry red.''<br>&emsp;&emsp; (format (if (equal backend ‚Äôhtml)<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp; ''<strong style=\''color: %s;\''>‚ü¶%s:&emsp;%s%s‚üß</strong>''<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp; ''{\color{%s}\bfseries %s:&emsp;%s%s}'')<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp; color editor contents signoff))<br><br>&emsp; ;; I don‚Äôt want to change the definition, but I‚Äôd like to have<br>&emsp; ;; the following as personalised defaults for the ‚Äúremark‚Äù block.<br>&emsp; ;; OR, I‚Äôd like to set this for links, which do not have argument options.<br>&emsp; (defblock-header-args remark :main-arg ''Jasim Jameson'' :signoff ''( Aim for success! )'')<br><br>Three example uses:<br><br>&emsp;&emsp;;; ‚ü®0‚ü© As a special blocks with arguments given.<br>&emsp;&emsp;#+begin_remark Bobbert Barakallah :signoff ''Thank-you for pointing this out!'' :color green<br>&emsp;&emsp;I was trying to explain that <em>{large (n √ó (n + 1) over 2}</em> is always an integer.<br>&emsp;&emsp;#+end_remark<br><br>&emsp;&emsp;;; ‚ü®1‚ü© As a terse link, using default values for the args.<br>&emsp;&emsp;;;&emsp;&emsp; Notice that Org-mode formatting is recoqgnised even in links.<br>&emsp;&emsp;[ [remark:Jasim Jameson][Why are you taking about ‚Äú<em>mathsf{even}</em>‚Äù here?]]<br><br>&emsp;&emsp;;; ‚ü®2‚ü© So terse that no editor name is provided.<br>&emsp;&emsp;[ [remark:][Please improve your transition sentences.]]<br><br>&emsp;&emsp;;; ‚ü®‚òÖ‚ü© Unlike 0, examples 1 and 2 will have the default SIGNOFF<br>&emsp;&emsp;;; catenated as well as the default red color.<br><br>(fn NAME KWDS &optional LINK-DISPLAY DOCSTRING &rest BODY)">org-defblock</abbr>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">org-defblock</span> abstract (main) nil
  <span style="color: #B4DCE7;">"Render a block in a slightly narrowed blueish box, titled \"Abstract\".</span>

<span style="color: #B4DCE7;">   Supported backends: HTML. "</span>
   (format (concat
            <span style="color: #B4DCE7;">"&lt;div class=\"abstract\" style=\"border: 1px solid black;"</span>
            <span style="color: #B4DCE7;">"padding: 1%%; margin-top: 1%%; margin-bottom: 1%%;"</span>
            <span style="color: #B4DCE7;">"margin-right: 10%%; margin-left: 10%%; background-color: lightblue;\"&gt;"</span>
            <span style="color: #B4DCE7;">"&lt;center&gt; &lt;strong class=\"tooltip\""</span>
            <span style="color: #B4DCE7;">"title=\"What's the goal of this article?\"&gt; Abstract &lt;/strong&gt; &lt;/center&gt;"</span>
            <span style="color: #B4DCE7;">"%s &lt;/div&gt;"</span>)
           contents))
</pre>
</div>

<br><center> ‚òÖ ¬†¬†¬† ‚òÖ ¬†¬†¬† ‚òÖ </center>

<p>
For example, the source:
</p>
<pre class="example" id="org3f09032">
#+begin_abstract
In this article, we learn to have fun!
#+end_abstract
</pre>
<p>
Results in:
</p>
<div class="abstract" style="border: 1px solid black;padding: 1%; margin-top: 1%; margin-bottom: 1%;margin-right: 10%; margin-left: 10%; background-color: lightblue;"><center> <strong class="tooltip"title="What's the goal of this article?"> Abstract </strong> </center>
<p>
In this article, we learn to have fun!
</p>

</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Generating the Index Page </font> </strong> </summary>

<p>
<a id="org445f25c"></a>
</p>

<p>
The actual look and feel of <code>index.html</code> is due to the method
<abbr class="tooltip" title="Assemble the blog index page.<br><br>The index page contains blurbs of all of my articles.<br><br>Precondition: ‚Äòblog/posts‚Äô refers to all posts, in reverse chronological order.<br><br>You can view the generated ~<em>blog</em>index.html by invoking:<br><br>&emsp;(blog/make-index-page)<br>">blog/make-index-page</abbr>. It summarises all of my articles by their title, data
&amp; image, ‚Äòabstract‚Äô, and a read-more badge.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #40B4C4;">cl-defun</span> <span style="color: #EB64B9;">blog/make-index-page</span> ()
<span class="linenr"> 2: </span>  <span style="color: #919ea7;">"Assemble the blog index page.</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #919ea7;">The index page contains blurbs of all of my articles.</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #919ea7;">Precondition: `</span><span style="color: #B381C5;">blog/posts</span><span style="color: #919ea7;">' refers to all posts, in reverse chronological order.</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #919ea7;">You can view the generated ~/blog/index.html by invoking:</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #919ea7;">  (blog/make-index-page)</span>
<span class="linenr">11: </span><span style="color: #919ea7;">"</span>
<span class="linenr">12: </span>  (<span style="color: #40B4C4;">interactive</span>)
<span class="linenr">13: </span>  (blog/make-tags-page <span style="color: #EB64B9;">:export-file-name</span> <span style="color: #B4DCE7;">"~/blog/index.html"</span>))
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">blog/make-tags-page & blog/make-all-tag-pages: Generating ‚Äútag-ùëª.html‚Äù pages            </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/make-all-tag-pages</span> ()
  <span style="color: #919ea7;">"Make tag pages for all of my tags"</span>
  (<span style="color: #40B4C4;">interactive</span>)
  (<span style="color: #40B4C4;">loop</span> for total = (length blog/tags)
        for tag in blog/tags
        for n from 0
        for progress = (* (/ (* n 1.0) total) 100)
        do
        (<span style="color: #40B4C4;">let</span> ((inhibit-message t)) (blog/make-tags-page <span style="color: #EB64B9;">:tag</span> tag))
        (message <span style="color: #B4DCE7;">"Progress ... %d%%"</span> progress)
        <span style="color: #91889B;">;; </span><span style="color: #91889B;">Slightly faster to generate all pages, /then/ to git add them all.</span>
        finally (shell-command <span style="color: #B4DCE7;">"cd ~/blog; git add \"tag-*.html\""</span>)))
        <span style="color: #91889B;">;; </span><span style="color: #d0bf8f; font-weight: bold;">NOTE</span><span style="color: #91889B;">: Slightly faster if I get rid of the &#8220;Progress&#8230;&#8221; notifications.</span>
</pre>
</div>

<p>
where
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">cl-defun</span> <span style="color: #EB64B9;">blog/make-tags-page</span>
    (<span style="color: #FFE261;">&amp;key</span>
     (tag nil)
     (title (<span style="color: #40B4C4;">if</span> tag (format <span style="color: #B4DCE7;">"Posts &#160; tagged &#160; &#8220;%s&#8221;"</span> tag) <span style="color: #B4DCE7;">""</span>))
     (greeting (format <span style="color: #B4DCE7;">"Here are some of my latest thoughts %s... badge:Made_with|Lisp|success|https://alhassy.github.io/ElispCheatSheet/CheatSheet.pdf|Gnu-Emacs such as doc:thread-first and doc:loop (&#8226;&#768;&#7447;&#8226;&#769;)&#1608; tweet:https://alhassy.com </span><span style="color: #FFE261;">@@html</span><span style="color: #B4DCE7;">:&lt;br&gt;&lt;br&gt;@@"</span>

                       (<span style="color: #40B4C4;">if</span> tag (concat <span style="color: #B4DCE7;">"on "</span> tag) <span style="color: #B4DCE7;">""</span>)))
     (export-file-name
      (concat-to-dir blog/publish-directory
                     (<span style="color: #40B4C4;">if</span> tag (concat <span style="color: #B4DCE7;">"tag-"</span> (downcase tag) <span style="color: #B4DCE7;">".html"</span>)
                       <span style="color: #B4DCE7;">"index.html"</span>))))
  <span style="color: #919ea7;">"Assemble a page of only articles tagged TAG blog index page.</span>

<span style="color: #919ea7;">The page contains blurbs of all of my articles tagged TAG.</span>

<span style="color: #919ea7;">Precondition: `</span><span style="color: #B381C5;">blog/posts</span><span style="color: #919ea7;">' refers to all posts, in reverse chronological order.</span>

<span style="color: #919ea7;">Example uses:</span>
<span style="color: #919ea7;">1. (blog/make-tags-page :export-file-name \"~/blog/index.html\" :title \"Hello world\" :tag \"arabic\")</span>
<span style="color: #919ea7;">2. (blog/make-tags-page :tag \"arabic\")</span>
<span style="color: #919ea7;">"</span>
  (<span style="color: #40B4C4;">interactive</span>)
  (view-echo-area-messages)
  (blog/preview/disable)
  (<span style="color: #40B4C4;">with-temp-buffer</span>
    (insert
     (s-join
      <span style="color: #B4DCE7;">"\n"</span>
      (list
       <span style="color: #91889B;">;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Actually look at this concat result and notice that osbe is adding</span>
       <span style="color: #91889B;">;; </span><span style="color: #91889B;">way too much content to the header!</span>
       <span style="color: #91889B;">;; </span><span style="color: #91889B;">(progn (org-special-block-extras-mode -1) "")</span>
       (<span style="color: #40B4C4;">setq</span> org-html-head-extra <span style="color: #B4DCE7;">""</span>)
       <span style="color: #91889B;">;; </span><span style="color: #91889B;">Org-mode header</span>
       (concat <span style="color: #B4DCE7;">"#+EXPORT_FILE_NAME: "</span> export-file-name)
       <span style="color: #B4DCE7;">"#+options: toc:nil title:nil html-postamble:nil"</span>
       <span style="color: #B4DCE7;">"#+begin_export html"</span>
       <span style="color: #91889B;">;; </span><span style="color: #dc8cc3; font-weight: bold;">MA</span><span style="color: #91889B;">: Not ideal, the sizes I've set in the actual article are best.</span>
       <span style="color: #91889B;">;; </span><span style="color: #91889B;">"&lt;style&gt;"</span>
       <span style="color: #91889B;">;; </span><span style="color: #91889B;">".post-image { margin: auto; width: 30em !important; height: 30em !important; }"</span>
       <span style="color: #91889B;">;; </span><span style="color: #91889B;">"&lt;/style&gt;"</span>
       org-static-blog-page-preamble
       org-static-blog-page-header
       <span style="color: #B4DCE7;">"#+end_export"</span>
       (concat <span style="color: #B4DCE7;">"#+html: &lt;br&gt;&lt;center style=\"font-size: 3em; font-weight: bolder;\"&gt;"</span> title <span style="color: #B4DCE7;">"&lt;/center&gt;"</span>)
       <span style="color: #91889B;">;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Delete the following comment when things work and are done.</span>
       <span style="color: #91889B;">;; </span><span style="color: #91889B;">Extra styling of abstracts.</span>
       <span style="color: #91889B;">;; </span><span style="color: #91889B;">Works; but not needed.</span>
       <span style="color: #91889B;">;; </span><span style="color: #91889B;">"\n#+HTML_HEAD_EXTRA: &lt;style&gt; div.abstract {background-color: pink !important;} &lt;/style&gt;"</span>

       <span style="color: #91889B;">;; </span><span style="color: #91889B;">The greeting message that informs viewers what this page is about.</span>
       <span style="color: #B4DCE7;">"#+html: &lt;br&gt;"</span> greeting <span style="color: #B4DCE7;">"#+html: &lt;br&gt;"</span>

       <span style="color: #91889B;">;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Add this loop body to the info of each post, for future use via AngularJS view-by-tags.</span>
       <span style="color: #91889B;">;; </span><span style="color: #91889B;">Blurbs of posts</span>
       (s-join <span style="color: #B4DCE7;">"\n"</span> (<span style="color: #40B4C4;">--map</span>
        (<span style="color: #40B4C4;">if</span> (<span style="color: #40B4C4;">and</span> tag (not (seq-contains-p (s-split <span style="color: #B4DCE7;">" "</span> (map-elt it <span style="color: #B4DCE7;">"tags"</span>)) tag)))
            <span style="color: #B4DCE7;">""</span>
          (concat
           (<span style="color: #40B4C4;">progn</span> (message <span style="color: #B4DCE7;">"Processing %s..."</span> it) <span style="color: #B4DCE7;">""</span>) <span style="color: #91889B;">;; </span><span style="color: #91889B;">Progress indicator</span>

           <span style="color: #91889B;">;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Make this concat of &#10216;0&#10217;-&#10216;4&#10217; into a method `</span><span style="color: #B381C5;">@preview</span><span style="color: #91889B;">'</span>

           <span style="color: #91889B;">;; </span><span style="color: #91889B;">&#10216;0&#10217; Title and link to article</span>
           (format <span style="color: #B4DCE7;">"#+HTML: &lt;h2 class=\"title\"&gt;&lt;a href=\"%s\"&gt; %s&lt;/a&gt;&lt;/h2&gt;"</span> (@url it) (@title it))
           <span style="color: #91889B;">;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Look at all uses of @title and maybe move this @@html@@ into it.</span>
           <span style="color: #91889B;">;; </span><span style="color: #d0bf8f; font-weight: bold;">NOTE</span><span style="color: #91889B;">: This is still a Phase Split since the JSON has the raw data, and the @ABC methods produce @@html&#8943;@@ code ^_^</span>

           <span style="color: #91889B;">;; </span><span style="color: #91889B;">&#10216;1&#10217; Tags and reading time</span>
           (format <span style="color: #B4DCE7;">"\n#+begin_export html\n&lt;center&gt;%s\n&lt;/center&gt;\n#+end_export"</span> (<span style="color: #FFE261;">@tags it)) ;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Look at all uses of @tags and maybe move this @@html@@ into it.</span>

           <span style="color: #91889B;">;; </span><span style="color: #91889B;">&#10216;2&#10217; Article image</span>
           (format <span style="color: #B4DCE7;">"\n</span><span style="color: #FFE261;">@@html:%s@@\n" (@image it)) ;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Look at all uses of @image and maybe move this @@html@@ into it.</span>

           <span style="color: #91889B;">;; </span><span style="color: #91889B;">&#10216;3&#10217; Preview</span>
           (@abstract it)

           <span style="color: #91889B;">;; </span><span style="color: #91889B;">&#10216;4&#10217; &#8220;Read more&#8221; link</span>
           <span style="color: #91889B;">;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Make a @read-more method.</span>
           (format (concat <span style="color: #B4DCE7;">"\n</span><span style="color: #FFE261;">@@html:&lt;p style=\"text-align:right\"&gt;@@" " badge:Read|more|green|%s|read-the-docs @@html</span><span style="color: #B4DCE7;">:&lt;/p&gt;@@"</span>) (@url it))))
          (seq--into-list blog/posts)))

       <span style="color: #91889B;">;; </span><span style="color: #91889B;">&#8220;Show older posts&#8221;</span>
       <span style="color: #91889B;">;; </span><span style="color: #91889B;">This is the bottom-most matter in the index.html page</span>
       <span style="color: #B4DCE7;">"#+begin_export html"</span>
       <span style="color: #B4DCE7;">"&lt;hr&gt; &lt;center&gt; &lt;em&gt; Thanks for reading everything! &#128513; Bye! &#128075; &lt;/em&gt; &lt;/center&gt; &lt;br/&gt;"</span>
       (blog/license) <span style="color: #91889B;">;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Add a &#8220;proudly created with Emacs&#8217; Org-mode&#8221; tagline?</span>
       <span style="color: #B4DCE7;">"\n#+end_export"</span>
       )))
    (org-mode)
    (org-html-export-to-html)))




</pre>
</div>

</details> </div>
</div>
</div>
<div id="outline-container-Seamlessly-Previewing-Articles-within-Emacs" class="outline-2">
<h2 id="Seamlessly-Previewing-Articles-within-Emacs"><span class="section-number-2">4.</span> <a href="#org67b16e0"><i>Seamlessly</i> Previewing Articles <i>within</i> Emacs üò≤</a></h2>
<div class="outline-text-2" id="text-Seamlessly-Previewing-Articles-within-Emacs">
<p>
Whenever I <i>save</i>, <abbr class="tooltip" style="border: none; text-decoration: none;" title="C-x C-s ‚à∑ save-buffer<br>Save current buffer in visited file if modified.<br>Variations are described below.<br><br>By default, makes the previous version into a backup file<br> if previously requested or if this is the first save.<br>Prefixed with one C-u, marks this version<br> to become a backup when the next save is done.<br>Prefixed with two C-u‚Äôs,<br> makes the previous version into a backup file.<br>Prefixed with three C-u‚Äôs, marks this version<br> to become a backup when the next save is done,<br> and makes the previous version into a backup file.<br><br>With a numeric prefix argument of 0, never make the previous version<br>into a backup file.<br><br>Note that the various variables that control backups, such<br>as ‚Äòversion-control‚Äô, ‚Äòbackup-enable-predicate‚Äô, ‚Äòvc-make-backup-files‚Äô,<br>and ‚Äòbackup-inhibited‚Äô, to name just the more popular ones, still<br>control whether a backup will actually be produced, even when you<br>invoke this command prefixed with two or three C-u‚Äôs.<br><br>If a file‚Äôs name is FOO, the names of its numbered backup versions are<br> FOO.<code>i</code> for various integers i.&emsp;A non-numbered backup file is called FOO<code>.<br>Numeric backups (rather than FOO</code>) will be made if value of<br> ‚Äòversion-control‚Äô is not the atom ‚Äònever‚Äô and either there are already<br> numeric versions of the file being backed up, or ‚Äòversion-control‚Äô is<br> non-nil.<br>We don‚Äôt want excessive versions piling up, so there are variables<br> ‚Äòkept-old-versions‚Äô, which tells Emacs how many oldest versions to keep,<br> and ‚Äòkept-new-versions‚Äô, which tells how many newest versions to keep.<br> Defaults are 2 old versions and 2 new.<br>‚Äòdired-kept-versions‚Äô controls dired‚Äôs clean-directory (.) command.<br>If ‚Äòdelete-old-versions‚Äô is nil, system will query user<br> before trimming versions.&emsp;Otherwise it does it silently.<br><br>If ‚Äòvc-make-backup-files‚Äô is nil, which is the default,<br> no backup files are made for files managed by version control.<br> (This is because the version control system itself records previous versions.)<br><br>See the subroutine ‚Äòbasic-save-buffer‚Äô for more information.<br><br>(fn &optional ARG)"><kbd style="border-color: red">C-x C-s</kbd></abbr>, I'd like to see the final product, the resulting
web-page in a JavaScript-supported browser <i>within</i> Emacs.
</p>
<ul class="org-ul">
<li>By ‚Äúfinal product‚Äù I mean <i>all</i> styles and other features of my blog, as
discussed in this article; for example, this includes the article image,
abstract, and blog header and footer.
<ul class="org-ul">
<li>I'd like to have all of my styles <i>automatically</i> loaded in the right places.</li>
</ul></li>
<li>This gives me a nonintrusive way to preview what I write; ‚âàWYSIWYG‚âà.</li>
</ul>

<p>
We accomplish these goals via the following methods.
</p>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">org-link/blog: Using My Blog Styles Anywhere </font> </strong> </summary>

<p>
In any Org-mode file &#x2014;including random ones that are not even for my blog&#x2014; I'll use the Org links <code>blog:header</code> and
<code>blog:footer</code> to obtain the nice styling of my blog.
</p>

<p>
This is a minor alteration from the examples within the docstring of <abbr class="tooltip" title="Make a new Org-link NAME that exports using form BODY.<br><br>Since Org links are essentially string-valued functions,<br>a function ‚Äòorg-link/NAME‚Äô is created.<br><br>DOCSTRING is optional; it is visible with<br>&emsp; (documentation ‚Äôorg-link/NAME)<br><br>BODY is a string-valued expression, that may make use of the names<br>o-label, o-description, o-backend. The final one refers to the export<br>backend, such as ‚Äôhtml or ‚Äôlatex. The first two are obtained from uses:<br><br>&emsp; Y (name:o-label][o-description]]<br><br>In particular, the use case ‚Äúname:o-label‚Äù means that o-description is nil.<br><br><hr><br><br>Example use:<br><br>&emsp; ;; In a Lisp buffer, press ‚ÄúC-x C-e‚Äù to load this definition<br>&emsp; (org-deflink shout (upcase (or o-description o-label)))<br><br>&emsp; ;; In an Org-buffer, press ‚ÄúC-c C-e h o‚Äù to see how this exports<br>&emsp; <shout: hello world!><br><br>&emsp; ;; Or using the bracket format<br>&emsp; [[shout:][hello world!]]<br>&emsp; [[shout: hello world!]]<br><br>&emsp; ;; or using the plain format<br>&emsp; shout:hello_world<br><br>Here is a more complex, involved, example that makes use of<br>‚Äò:let‚Äô for local declarations. For instance, ‚Äúdefine:hello‚Äù<br>renders as the word ‚Äúhello‚Äù with a tooltip defining the word; the<br>definition is obtained from the command line tool ‚Äòwn‚Äô.<br><br>&emsp;(org-deflink define<br>&emsp;&emsp;''Define the given word using WordNet, along with synonyms and coordinate terms.''<br>&emsp;&emsp;[:let (definition (shell-command-to-string (format ''wn %s -over -synsn -coorn'' o-label)))<br>&emsp;&emsp; :help-echo definition]<br>&emsp;&emsp;(--> definition<br>&emsp;&emsp;&emsp;(s-replace-regexp ''\\\'''' ''‚Äô‚Äô'' it) ;; The presence of ‚Äò\''‚Äô in tooltips breaks things, so omit them.<br>&emsp;&emsp;&emsp;(s-replace-regexp ''\n'' ''<br>'' it)<br>&emsp;&emsp;&emsp;(format ''<abbr class=\''tooltip\'' title=\''%s\''>%s</abbr>'' it o-label)))<br><br>For HTML tooltips, see ‚Äòorg-ospe-html-export-preserving-whitespace‚Äô.<br><br>More generally, org-special-block-extra‚Äôs ‚Äúdoc‚Äù link type<br>supports, in order of precedence: User definitions, Emacs Lisp<br>documentation of functions & variables, and definitions of<br>English words. For example, ‚Äúdoc:existential_angst‚Äù for an entry<br>‚Äòexistential_angst‚Äô whose associated documentation-glossary is<br>user-defined in a ‚Äò#+documentation‚Äô Org-block, or<br>‚Äúdoc:thread-first‚Äù for the Emacs Lisp documentation of the<br>function ‚Äòthread-first‚Äô, or ‚Äúdoc:user-mail-address‚Äù for the Emacs<br>Lisp documentation of the variable ‚Äòuser-mail-address‚Äô, or<br>‚Äúdoc:hello‚Äù for the definition of the English word ‚Äòhello‚Äô.<br><br>DISPLAY is a vector consisting of key-value pairs that affects how the link<br>is displayed in Emacs Org buffers. The keys are as follows.<br><br>+ :help-echo is a string-valued expression of the tooltip that should accompany<br>&emsp;the new link in Org buffers. It has access to o-format being one of ‚Äòplain‚Äô,<br>&emsp;‚Äòangle‚Äô, ‚Äòbracket‚Äô which indicates the format of the link, as shown above.<br>&emsp;It also has access to o-label and o-description.<br><br>&emsp;By default, the tooltip is the link name followed by the documentation<br>&emsp;of the link, and, finally, the HTML export of the link.<br>&emsp;That way, upon hover, users can visually see the link contents,<br>&emsp;know what/how the link exports, and actually see the HTML export.<br><br>&emsp;That is to say, for the ‚Äòshout‚Äô example aboce, the default display is essentially:<br>&emsp;[:help-echo (org-link/shout o-label o-description ‚Äôhtml)]<br><br>&emsp;You may want to add the following to your Emacs init file:<br><br>&emsp;&emsp;;; Nearly instantaneous display of tooltips.<br>&emsp;&emsp;(setq tooltip-delay 0)<br>&emsp;&emsp;;; Give user 30 seconds before tooltip automatically disappears.<br>&emsp;&emsp;(setq tooltip-hide-delay 300)<br><br>+ :face specifies how should these links be displayed within Emacs.<br>&emsp; It is a list-valued expression.<br>&emsp; As usual, it may make use of O-LABEL (but O-DESCRIPTION has value nil).<br>&emsp; Example:<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp; :face ‚Äô(:underline ''green'')<br><br>&emsp; See https://www.gnu.org/software/emacs/manual/html_node/elisp/Face-Attributes.html<br><br>+ [:display ‚Äôfull] if you do not want bracket links to be<br>&emsp;folded away in Org buffers; i.e., ‚Äú[[X)‚Äù does not render as just ‚ÄúY‚Äù.<br><br>+ :follow is a form that is executed when you click on such links; e.g., to open<br>&emsp; another buffer, browser, or other action. It makes use of (an implicit argument) ‚Äòo-label‚Äô.<br>&emsp; Be aware that ‚Äòo-label‚Äô is a string that may contain spaces; e.g., when the action is to open<br>&emsp; a URL in a browser.<br><br>&emsp; If you are in need of providing similar, related, actions on a single link<br>&emsp; then your :follow can condition on the current prefix argument via ‚Äòo-prefix‚Äô<br>&emsp; (which is essentially ‚Äòcurrent-prefix-arg‚Äô).<br>&emsp; For instance, a user presses ‚ÄúC-u RET‚Äù on your link to do one thing<br>&emsp; but ‚ÄúC-u 72 RET‚Äù to do another action.<br><br>+ :keymap is an alternating list of keys and actions to be<br>&emsp;performed when those keys are pressed while point is on the link.<br>&emsp;For example:<br>&emsp;&emsp;&emsp;[:keymap (C-h (message-box ''hola''))]<br><br>&emsp;By default, C-n and C-p are for moving to next and previous occruances of the same link type.<br><br>+ :let is a list of alternating variable symbol name and value, which are then used to form<br>&emsp;a concrete ‚Äòlet*‚Äô clause. This is useful for introducing local variables for use in the DISPLAY<br>&emsp;as well as in the CONTENTS. Such local declarations may make use of O-LABEL and O-DESCRIPTION, as usual.<br><br>(fn NAME &optional DOCSTRING DISPLAY &rest BODY)">org-deflink</abbr>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">org-deflink</span> blog
  <span style="color: #B4DCE7;">"Provide the styles for &#8220;www.alhassy.com&#8221;'s &#8220;header&#8221; and &#8220;footer&#8221;.</span>

<span style="color: #B4DCE7;">The use of &#8220;blog:footer&#8221; aims to provide a clickable list of tags, produce an HTMLized version of the Org source,</span>
<span style="color: #B4DCE7;">and provides a Disqus comments sections. For details, consult the `</span><span style="color: #B381C5;">blog/footer</span><span style="color: #B4DCE7;">' function.</span>

<span style="color: #B4DCE7;">Finally, I want to avoid any `</span><span style="color: #B381C5;">@@backend</span><span style="color: #B381C5;">:...@@</span><span style="color: #B4DCE7;">' from appearing in the browser frame's title.</span>
<span style="color: #B4DCE7;">We accomplish this with the help of some handy-dandy JavaScript: Just use &#8220;blog:sanitise-title&#8221;.</span>
<span style="color: #B4DCE7;">"</span>
      (<span style="color: #40B4C4;">pcase</span> o-label
        (<span style="color: #B4DCE7;">"header"</span> (concat
                   org-static-blog-page-preamble
                   org-static-blog-page-header
                   <span style="color: #B4DCE7;">"&lt;link href=\"https://alhassy.github.io/org-notes-style.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span>
                   <span style="color: #B4DCE7;">"&lt;link href=\"https://alhassy.github.io/floating-toc.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span>
                   <span style="color: #B4DCE7;">"&lt;link href=\"https://alhassy.github.io/blog-banner.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span>
                   <span style="color: #91889B;">;; </span><span style="color: #91889B;">The use of the &#8220;post-title&#8221; class is so that the org-static-blog-assemble-rss method can work as intended.</span>
                   (<span style="color: #40B4C4;">thread-last</span> (org-static-blog-get-title (buffer-file-name))
                                (s-replace-regexp <span style="color: #B4DCE7;">"</span><span style="color: #FFE261;">@@html</span><span style="color: #B4DCE7;">:"</span> <span style="color: #B4DCE7;">""</span>)
                                (s-replace-regexp <span style="color: #B4DCE7;">"@@"</span> <span style="color: #B4DCE7;">""</span>)
                                (format <span style="color: #B4DCE7;">"&lt;br&gt;&lt;center&gt;&lt;h1 class=\"post-title\"&gt;%s&lt;/h1&gt;&lt;/center&gt;"</span>))))
        (<span style="color: #B4DCE7;">"footer"</span> (blog/footer (buffer-file-name)))
        (<span style="color: #B4DCE7;">"sanitise-title"</span> <span style="color: #B4DCE7;">"&lt;script&gt; window.parent.document.title =  window.parent.document.title.replace(/@@.*@@/, \"\") &lt;/script&gt;"</span>)
        (_ <span style="color: #B4DCE7;">""</span>)))
</pre>
</div>

<p>
See also: <a href="http://alhassy.com/org-special-block-extras/#Links">How do I make a new Org link type?</a>
</p>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">blog/style-setup: A function to insert org-link/blog into a buffer </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/style-setup</span> (_backend)
  <span style="color: #919ea7;">"Insert blog header (fancy title), tags, blog image (before &#8220;* Abstract&#8221;), and footer (links to tags).</span>

<span style="color: #919ea7;">There are default options: TOC is at 2 levels, no classic Org HTML postamble nor drawers are shown.</span>
<span style="color: #919ea7;">Notice that if you explicitly provide options to change the toc, date, or show drawers, etc;</span>
<span style="color: #919ea7;">then your options will be honoured. (Since they will technically come /after/ the default options,</span>
<span style="color: #919ea7;">which I place below at the top of the page.)</span>
<span style="color: #919ea7;">"</span>
  (goto-char (point-min))
  (<span style="color: #40B4C4;">let</span> ((post (blog/info (buffer-file-name))))
    (insert <span style="color: #B4DCE7;">"#+options: toc:2 html-postamble:nil d:nil"</span>
            <span style="color: #B4DCE7;">"\n#+date: "</span> (format-time-string <span style="color: #B4DCE7;">"%Y-%m-%d"</span> (current-time))
            (<span style="color: #40B4C4;">if</span> (buffer-narrowed-p) <span style="color: #B4DCE7;">"\n#+options: broken-links:t"</span> <span style="color: #B4DCE7;">""</span>)
            <span style="color: #B4DCE7;">"\n blog:header blog:sanitise-title \n"</span>
            <span style="color: #B4DCE7;">"\n* Tags, then Image :ignore:"</span>
            <span style="color: #B4DCE7;">"\n#+html: "</span>
            <span style="color: #B4DCE7;">"&lt;center&gt;"</span>
            (@tags post)
            <span style="color: #B4DCE7;">"&lt;/center&gt;"</span>
            <span style="color: #B4DCE7;">"\n#+html: "</span>
            (@image post
                    <span style="color: #91889B;">;; </span><span style="color: #91889B;">Need this conditional since AlBasmala lives in ~/blog whereas usually articles live in ~/blog/posts.</span>
                    <span style="color: #91889B;">;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Consider just making AlBasmala live in ~/blog/posts, I don't think there's any real reason for breaking consistency.</span>
                    (<span style="color: #40B4C4;">if</span> (equal (f-base (@file post)) <span style="color: #B4DCE7;">"AlBasmala"</span>) <span style="color: #B4DCE7;">"./images/"</span> <span style="color: #B4DCE7;">"../images/"</span>))
            <span style="color: #B4DCE7;">"\n"</span>)

    <span style="color: #91889B;">;; </span><span style="color: #91889B;">Wrap contents of &#8220;* Abstract&#8221; section in the &#8220;abstract&#8221; Org-special-block</span>
    <span style="color: #91889B;">;; </span><span style="color: #91889B;">(In case we are narrowed, we only act when we can find the Abstract.)</span>
    <span style="color: #91889B;">;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">: Replace this with (</span><span style="color: #FFE261;">@abstract (blog/info (buffer-file-name))), or</span><span style="color: #91889B;">: (@abstract post)</span>
    (<span style="color: #40B4C4;">when</span> (re-search-forward <span style="color: #B4DCE7;">"^</span><span style="color: #FFE261;">\</span><span style="color: #B4DCE7;">* Abstract"</span> nil t)
      (beginning-of-line)
      (<span style="color: #40B4C4;">-let</span> [start (point)]
        (org-narrow-to-subtree)
        (org-show-entry)
        (re-search-forward <span style="color: #B4DCE7;">"^ * :END:"</span> nil t) <span style="color: #91889B;">;; </span><span style="color: #91889B;">Ignore :PROPERTIES: drawer, if any.</span>
        (forward-line)
        (insert <span style="color: #B4DCE7;">"\n#+begin_abstract\n"</span>)
        (call-interactively <span style="color: #40B4C4;">#'</span><span style="color: #FFE261;">org-forward-heading-same-level</span>)
        <span style="color: #91889B;">;; </span><span style="color: #91889B;">In case there is no next section, just go to end of file.</span>
        (<span style="color: #40B4C4;">when</span> (equal start (point)) (goto-char (point-max)))
        (insert <span style="color: #B4DCE7;">"\n#+end_abstract\n"</span>)
        (widen)))

    (goto-char (point-max))
    <span style="color: #91889B;">;; </span><span style="color: #91889B;">The Org file's title is already shown via blog:header, above, so we disable it in the preview.</span>
    (insert (format <span style="color: #B4DCE7;">"\n* footer :ignore: \n blog:footer \n #+options: title:nil \n"</span>))))
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Inserting org-link/blog <em>seamlessly</em> via the export process; <em>then</em> preview with every save </font> </strong> </summary>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">cl-defun</span> <span style="color: #EB64B9;">blog/preview</span> ()
  <span style="color: #919ea7;">"Enable preview-on-save, and add blog/style-setup from Org's export hook."</span>
  (<span style="color: #40B4C4;">interactive</span>)
  <span style="color: #91889B;">;; </span><span style="color: #91889B;">Let's ensure we have no xwidget buffer lying around, otherwise Emacs might hang.</span>
  (<span style="color: #40B4C4;">-let</span> [kill-buffer-query-functions nil]
    (mapcar <span style="color: #40B4C4;">#'</span><span style="color: #FFE261;">kill-buffer</span> (<span style="color: #40B4C4;">--filter</span> (equal <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">xwidget-webkit-mode</span> (buffer-local-value <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">major-mode</span> it)) (buffer-list))))
  <span style="color: #91889B;">;; </span><span style="color: #91889B;">Inserting org-link/blog /seamlessly/ via the export process</span>
  (add-hook <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">org-export-before-processing-hook</span>  <span style="color: #40B4C4;">#'</span><span style="color: #FFE261;">blog/style-setup</span>)
  <span style="color: #91889B;">;; </span><span style="color: #91889B;">Preview with every save</span>
  (<span style="color: #40B4C4;">setq</span> org-preview-html-viewer <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">xwidget</span>)
  (org-preview-html-mode))

(<span style="color: #40B4C4;">cl-defun</span> <span style="color: #EB64B9;">blog/preview/disable</span> ()
  <span style="color: #919ea7;">"Disable preview-on-save, and remove blog/style-setup from Org's export hook."</span>
  (<span style="color: #40B4C4;">interactive</span>)
  (remove-hook <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">org-export-before-processing-hook</span> <span style="color: #40B4C4;">#'</span><span style="color: #FFE261;">blog/style-setup</span>)
  (org-preview-html-mode -1))
</pre>
</div>

<p>
Upon a save, <abbr class="tooltip" style="border: none; text-decoration: none;" title="C-x C-s ‚à∑ save-buffer<br>Save current buffer in visited file if modified.<br>Variations are described below.<br><br>By default, makes the previous version into a backup file<br> if previously requested or if this is the first save.<br>Prefixed with one C-u, marks this version<br> to become a backup when the next save is done.<br>Prefixed with two C-u‚Äôs,<br> makes the previous version into a backup file.<br>Prefixed with three C-u‚Äôs, marks this version<br> to become a backup when the next save is done,<br> and makes the previous version into a backup file.<br><br>With a numeric prefix argument of 0, never make the previous version<br>into a backup file.<br><br>Note that the various variables that control backups, such<br>as ‚Äòversion-control‚Äô, ‚Äòbackup-enable-predicate‚Äô, ‚Äòvc-make-backup-files‚Äô,<br>and ‚Äòbackup-inhibited‚Äô, to name just the more popular ones, still<br>control whether a backup will actually be produced, even when you<br>invoke this command prefixed with two or three C-u‚Äôs.<br><br>If a file‚Äôs name is FOO, the names of its numbered backup versions are<br> FOO.<code>i</code> for various integers i.&emsp;A non-numbered backup file is called FOO<code>.<br>Numeric backups (rather than FOO</code>) will be made if value of<br> ‚Äòversion-control‚Äô is not the atom ‚Äònever‚Äô and either there are already<br> numeric versions of the file being backed up, or ‚Äòversion-control‚Äô is<br> non-nil.<br>We don‚Äôt want excessive versions piling up, so there are variables<br> ‚Äòkept-old-versions‚Äô, which tells Emacs how many oldest versions to keep,<br> and ‚Äòkept-new-versions‚Äô, which tells how many newest versions to keep.<br> Defaults are 2 old versions and 2 new.<br>‚Äòdired-kept-versions‚Äô controls dired‚Äôs clean-directory (.) command.<br>If ‚Äòdelete-old-versions‚Äô is nil, system will query user<br> before trimming versions.&emsp;Otherwise it does it silently.<br><br>If ‚Äòvc-make-backup-files‚Äô is nil, which is the default,<br> no backup files are made for files managed by version control.<br> (This is because the version control system itself records previous versions.)<br><br>See the subroutine ‚Äòbasic-save-buffer‚Äô for more information.<br><br>(fn &optional ARG)"><kbd style="border-color: red">C-x C-s</kbd></abbr>, a new HTML file is created &#x2014;bearing the same name as the Org file. It seems an <i>incremental</i>
export is performed and so this is rather fast &#x2014;at least much faster than manually invoking <kbd style="">C-c C-e h o</kbd>.
</p>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Article Footer: HTMLized Source and Git History </font> </strong> </summary>
<p>
<a id="orgb46c1d8"></a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/footer</span> (post-file-name)
<span class="linenr"> 2: </span>  <span style="color: #919ea7;">"Returns the HTML rendering the htmlised source, version history, and comment box at the end of a post.</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #919ea7;">This function is called for every post and the returned string is appended to the post body, as a postamble."</span>
<span class="linenr"> 5: </span>  (<span style="color: #40B4C4;">let</span> ((post (blog/info (buffer-file-name))))
<span class="linenr"> 6: </span>    (concat
<span class="linenr"> 7: </span>     <span style="color: #B4DCE7;">"&lt;hr&gt;"</span>
<span class="linenr"> 8: </span>     <span style="color: #B4DCE7;">"&lt;center&gt;"</span>
<span class="linenr"> 9: </span>     (blog/htmlize-file post-file-name)
<span class="linenr">10: </span>     <span style="color: #B4DCE7;">"&amp;ensp;"</span>
<span class="linenr">11: </span>     (@history post)
<span class="linenr">12: </span>     <span style="color: #91889B;">;;</span>
<span class="linenr">13: </span>     <span style="color: #91889B;">;; </span><span style="color: #91889B;">Consider only add this to posts tagged &#8220;arabic&#8221;?</span>
<span class="linenr">14: </span>     (blog/css/arabic-font-setup)
<span class="linenr">15: </span>     <span style="color: #91889B;">;;</span>
<span class="linenr">16: </span>     <span style="color: #B4DCE7;">"&lt;br&gt;"</span>
<span class="linenr">17: </span>   <span style="color: #B4DCE7;">"&lt;a href=\"https://www.buymeacoffee.com/alhassy\"&gt;&lt;img src="</span>
<span class="linenr">18: </span>   <span style="color: #B4DCE7;">"\"https://img.shields.io/badge/-buy_me_a%C2%A0coffee-gray?logo=buy-me-a-coffee\"&gt;"</span>
<span class="linenr">19: </span>   <span style="color: #B4DCE7;">"&lt;/a&gt;"</span>
<span class="linenr">20: </span>   <span style="color: #91889B;">;;</span>
<span class="linenr">21: </span>   <span style="color: #B4DCE7;">"&lt;br&gt;&lt;strong&gt; Generated by Emacs and Org-mode (&#8226;&#768;&#7447;&#8226;&#769;)&#1608; &lt;/strong&gt;"</span>
<span class="linenr">22: </span>   (blog/license)
<span class="linenr">23: </span>   <span style="color: #91889B;">;; </span><span style="color: #91889B;">(blog/comments) ;; </span><span style="color: #cc9393; font-weight: bold;">TODO</span><span style="color: #91889B;">. Not working as intended; low priority.</span>
<span class="linenr">24: </span>   <span style="color: #B4DCE7;">"&lt;/center&gt;"</span>
<span class="linenr">25: </span>   <span style="color: #91889B;">;; </span><span style="color: #91889B;">The next line is required to make the org-static-blog-assemble-rss method work.</span>
<span class="linenr">26: </span>   <span style="color: #B4DCE7;">"&lt;div hidden&gt; &lt;div id=\"postamble\" class=\"status\"&gt; &lt;/div&gt; &lt;/div&gt;"</span>
<span class="linenr">27: </span>   (blog/read-remaining-js))))
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">blog/htmlize-file: Generate an htmlized version of a given source file; return an HTML badge linking to the colourised file </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/htmlize-file</span> (file-name)
  <span style="color: #919ea7;">"Generate an htmlized version of a given source file; return an HTML badge linking to the colourised file.</span>

<span style="color: #919ea7;">We do not take the extra time to produce a colourised file when we are previewing an article."</span>
  (<span style="color: #40B4C4;">unless</span> org-preview-html-mode
(<span style="color: #40B4C4;">let</span> ((org-hide-block-startup nil))
  (<span style="color: #40B4C4;">with-temp-buffer</span>
    (find-file file-name)
    <span style="color: #91889B;">;; </span><span style="color: #91889B;">(insert "\n#+HTML_HEAD: &lt;link href=\"../doom-solarized-light.css\" rel=\"stylesheet\"&gt;\n")</span>
    (org-mode)
    (outline-show-all)
    (switch-to-buffer (htmlize-buffer))
    (write-file (concat <span style="color: #B4DCE7;">"~/blog/"</span> (f-base file-name) <span style="color: #B4DCE7;">".org.html"</span>))
    (kill-buffer))))
(concat
<span style="color: #B4DCE7;">"&lt;a class=\"tooltip\" title=\"See the colourised Org source of this article; i.e., what I typed to get this nice webpage\" href=\""</span>
   (f-base file-name) <span style="color: #B4DCE7;">".org.html\"&gt;&lt;img</span>
<span style="color: #B4DCE7;">   src=\"https://img.shields.io/badge/-Source-informational?logo=read-the-docs\"&gt;&lt;/a&gt;"</span>))
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">blog/license: HTML for Creative Commons Attribution-ShareAlike 3.0 Unported License </font> </strong> </summary>
<p>
<a id="orgd4c1f22"></a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/license</span> ()
  <span style="color: #919ea7;">"Get HTML for Creative Commons Attribution-ShareAlike 3.0 Unported License."</span>
(s-collapse-whitespace (s-replace <span style="color: #B4DCE7;">"\n"</span> <span style="color: #B4DCE7;">""</span>
<span style="color: #B4DCE7;">"</span>
<span style="color: #B4DCE7;">&lt;center style=\"font-size: 12px\"&gt;</span>
<span style="color: #B4DCE7;">  &lt;a rel=\"license\" href=\"https://creativecommons.org/licenses/by-sa/3.0/\"&gt;</span>
<span style="color: #B4DCE7;">     &lt;img alt=\"Creative Commons License\" style=\"border-width:0\"</span>
<span style="color: #B4DCE7;">          src=\"https://i.creativecommons.org/l/by-sa/3.0/88x31.png\"/&gt;</span>
<span style="color: #B4DCE7;">  &lt;/a&gt;</span>

<span style="color: #B4DCE7;">  &lt;br/&gt;</span>
<span style="color: #B4DCE7;">  &lt;span xmlns:dct=\"https://purl.org/dc/terms/\"</span>
<span style="color: #B4DCE7;">        href=\"https://purl.org/dc/dcmitype/Text\"</span>
<span style="color: #B4DCE7;">        property=\"dct:title\" rel=\"dct:type\"&gt;</span>
<span style="color: #B4DCE7;">     &lt;em&gt;Life &amp; Computing Science&lt;/em&gt;</span>
<span style="color: #B4DCE7;">  &lt;/span&gt;</span>

<span style="color: #B4DCE7;">  by</span>
<span style="color: #B4DCE7;">  &lt;a xmlns:cc=\"https://creativecommons.org/ns#\"</span>
<span style="color: #B4DCE7;">  href=\"https://alhassy.github.io/\"</span>
<span style="color: #B4DCE7;">  property=\"cc:attributionName\" rel=\"cc:attributionURL\"&gt;</span>
<span style="color: #B4DCE7;">    Musa Al-hassy</span>
<span style="color: #B4DCE7;">  &lt;/a&gt;</span>

<span style="color: #B4DCE7;">  is licensed under a</span>
<span style="color: #B4DCE7;">  &lt;a rel=\"license\" href=\"https://creativecommons.org/licenses/by-sa/3.0/\"&gt;</span>
<span style="color: #B4DCE7;">    Creative Commons Attribution-ShareAlike 3.0 Unported License</span>
<span style="color: #B4DCE7;">  &lt;/a&gt;</span>
<span style="color: #B4DCE7;">&lt;/center&gt;"</span>)))
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">blog/comments: Embed Disqus Comments for my blog </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/comments</span> ()
<span class="linenr"> 2: </span>  <span style="color: #919ea7;">"Embed Disqus Comments for my blog"</span>
<span class="linenr"> 3: </span>(s-collapse-whitespace (s-replace <span style="color: #B4DCE7;">"\n"</span> <span style="color: #B4DCE7;">""</span>
<span class="linenr"> 4: </span><span style="color: #B4DCE7;">"</span>
<span class="linenr"> 5: </span><span style="color: #B4DCE7;">&lt;div id=\"disqus_thread\"&gt;&lt;/div&gt;</span>
<span class="linenr"> 6: </span><span style="color: #B4DCE7;">&lt;script type=\"text/javascript\"&gt;</span>
<span class="linenr"> 7: </span><span style="color: #B4DCE7;">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */</span>
<span class="linenr"> 8: </span><span style="color: #B4DCE7;">var disqus_shortname = '</span><span style="color: #B381C5;">life-and-computing-science</span><span style="color: #B4DCE7;">';</span>
<span class="linenr"> 9: </span><span style="color: #B4DCE7;">/* * * DON'T EDIT BELOW THIS LINE * * */</span>
<span class="linenr">10: </span><span style="color: #B4DCE7;">(function() {</span>
<span class="linenr">11: </span><span style="color: #B4DCE7;">  var dsq = document.createElement('</span><span style="color: #B381C5;">script</span><span style="color: #B4DCE7;">');</span>
<span class="linenr">12: </span><span style="color: #B4DCE7;">  dsq.type = '</span><span style="color: #B381C5;">text/javascript</span><span style="color: #B4DCE7;">';</span>
<span class="linenr">13: </span><span style="color: #B4DCE7;">  dsq.async = true;</span>
<span class="linenr">14: </span><span style="color: #B4DCE7;">  dsq.src = '</span><span style="color: #B381C5;">//</span><span style="color: #B4DCE7;">' + disqus_shortname + '</span><span style="color: #B381C5;">.disqus.com/embed.js</span><span style="color: #B4DCE7;">';</span>
<span class="linenr">15: </span><span style="color: #B4DCE7;">  (document.getElementsByTagName('</span><span style="color: #B381C5;">head</span><span style="color: #B4DCE7;">')[0] || document.getElementsByTagName('</span><span style="color: #B381C5;">body</span><span style="color: #B4DCE7;">')[0]).appendChild(dsq);</span>
<span class="linenr">16: </span><span style="color: #B4DCE7;">    })();</span>
<span class="linenr">17: </span><span style="color: #B4DCE7;">&lt;/script&gt;</span>
<span class="linenr">18: </span><span style="color: #B4DCE7;">&lt;noscript&gt;Please enable JavaScript to view the</span>
<span class="linenr">19: </span><span style="color: #B4DCE7;">    &lt;a href=\"http://disqus.com/?ref_noscript\"&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;</span>
<span class="linenr">20: </span><span style="color: #B4DCE7;">&lt;a href=\"http://disqus.com\" class=\"dsq-brlink\"&gt;comments powered by &lt;span class=\"logo-disqus\"&gt;Disqus&lt;/span&gt;&lt;/a&gt;"</span>)))
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">blog/read-remaining-js: HTML to use ReadRemaining.js </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/read-remaining-js</span> ()
  <span style="color: #919ea7;">"Get the HTML required to make use of ReadRemaining.js"</span>

  <span style="color: #91889B;">;; </span><span style="color: #91889B;">[Maybe Not True] ReadReamining.js does not work well with xWidget browser within Emacs</span>
  (<span style="color: #40B4C4;">if</span> (equal org-preview-html-viewer <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">xwidget</span>)
      <span style="color: #B4DCE7;">""</span>

   <span style="color: #91889B;">;; </span><span style="color: #91889B;">ReadRemaining.js &#8759; How much time is left to finish reading this article?</span>
   <span style="color: #91889B;">;;</span>
  <span style="color: #91889B;">;; </span><span style="color: #91889B;">jQuery already loaded by org-special-block-extras.</span>
  <span style="color: #91889B;">;; </span><span style="color: #91889B;">"&lt;script</span>
  <span style="color: #91889B;">;; </span><span style="color: #91889B;">src=\</span>
  <span style="color: #91889B;">;; </span><span style="color: #91889B;">"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;"</span>
 <span style="color: #B4DCE7;">"&lt;link rel=\"stylesheet\" href=\"readremaining.js-readremainingjs/css/rr_light.css\"</span>
<span style="color: #B4DCE7;">     type='</span><span style="color: #B381C5;">text/css</span><span style="color: #B4DCE7;">'/&gt;</span>
<span style="color: #B4DCE7;">  &lt;script</span>
<span style="color: #B4DCE7;">     src=\"readremaining.js-readremainingjs/src/readremaining.jquery.js\"&gt;&lt;/script&gt;</span>
<span style="color: #B4DCE7;">  &lt;script src='</span><span style="color: #B381C5;">readremaining.js/src/readremaining.jquery.js</span><span style="color: #B4DCE7;">'</span>
<span style="color: #B4DCE7;">     type='</span><span style="color: #B381C5;">text/javascript</span><span style="color: #B4DCE7;">'&gt;&lt;/script&gt;</span>
<span style="color: #B4DCE7;">  &lt;script type=\"text/javascript\"&gt; $('</span><span style="color: #B381C5;">body</span><span style="color: #B4DCE7;">').readRemaining({showGaugeDelay : 10,</span>
<span style="color: #B4DCE7;">     showGaugeOnStart : true}); &lt;/script&gt;"</span>))
</pre>
</div>


<p>
<a href="https://aerolab.github.io/readremaining.js/">ReadRemaining.js</a> gives us a little floating clock on the bottom left of the
screen which says, e.g., <i>4m 9s left</i> when reading an article.
</p>
<ul class="org-ul">
<li>It tells us how much time is left before the article is done.</li>
<li>The time adjusts <i>dynamically</i> as the user scrolls down &#x2014;but not up.</li>
<li>Apparently it has to be at the end of the HTML <code>&lt;body&gt;</code>, otherwise it wont work
for me.
<ul class="org-ul">
<li>It may be best to avoid loading jQuery multiple times; see <a href="https://alhassy.github.io/org-special-block-extras/#tooltipster">here</a> for the necessary conditional.</li>
</ul></li>
</ul>

</details> </div>
</div>
</div>
<div id="outline-container-HTML-Header" class="outline-2">
<h2 id="HTML-Header"><span class="section-number-2">5.</span> <a href="#org67b16e0"><i>Style</i>! ‚ú® What do we want to be inserted into the head of every page?</a></h2>
<div class="outline-text-2" id="text-HTML-Header">
<p>
<a id="org86ffdbd"></a>
</p>

<p>
For each article, I'll have a set of styles loaded <i>as well as</i> a set of <code>&lt;script&gt;</code> code fragments. Here is an overview of
these fragments, and throughout the rest of this article, I'll tangle code to where appropriate.
</p>
</div>

<div id="outline-container-Style-Header-Elements" class="outline-3">
<h3 id="Style-Header-Elements"><span class="section-number-3">5.1.</span> <a href="#Style-Header-Elements">Style Header Elements</a></h3>
<div class="outline-text-3" id="text-Style-Header-Elements">
<p>
Firstly, we want some styling rules to be loaded.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr">1: </span>(concat
<span class="linenr">2: </span><span style="color: #B4DCE7;">"&lt;meta name=\"author\" content=\"Musa Al-hassy\"&gt;</span>
<span class="linenr">3: </span><span style="color: #B4DCE7;"> &lt;meta name=\"referrer\" content=\"no-referrer\"&gt;"</span>
<span id="coderef-usualCSS" class="coderef-off"><span class="linenr">4: </span><span style="color: #B4DCE7;">"&lt;link href=\"usual-org-front-matter.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
<span id="coderef-orgNotesCSS" class="coderef-off"><span class="linenr">5: </span><span style="color: #B4DCE7;">"&lt;link href=\"org-notes-style.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
<span id="coderef-tocCSS" class="coderef-off"><span class="linenr">6: </span><span style="color: #B4DCE7;">"&lt;link href=\"floating-toc.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
<span id="coderef-bannerCSS" class="coderef-off"><span class="linenr">7: </span><span style="color: #B4DCE7;">"&lt;link href=\"blog-banner.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
<span class="linenr">8: </span><span style="color: #B4DCE7;">"&lt;link rel=\"icon\" href=\"images/favicon.png\"&gt;"</span>)
</pre>
</div>

<dl class="org-dl">
<dt><a href="#coderef-usualCSS" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-usualCSS');" onmouseout="CodeHighlightOff(this, 'coderef-usualCSS');">usual-org-front-matter.css</a> <a href="usual-org-front-matter.css"><img src="https://img.shields.io/badge/--success?logo=css3"></a></dt><dd>Org-static-blog ignores any styling exported by Org, so let's bring that back
in. I just exported this file with the usual <kbd style="">C-c C-e h o</kbd>, then saved the CSS
it produced.</dd>

<dt><a href="#coderef-orgNotesCSS" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-orgNotesCSS');" onmouseout="CodeHighlightOff(this, 'coderef-orgNotesCSS');">org-notes-style.css</a> <a href="org-notes-style.css"><img src="https://img.shields.io/badge/--success?logo=css3"></a></dt><dd>I like the rose-style of this <a href="http://taopeng.me/org-notes-style/">org-notes-style</a> for HTML export.  However, it
seems loading the CSS directly from its homepage does not work, so I've copied
the CSS file for my blog.</dd>

<dt><a href="#coderef-tocCSS" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-tocCSS');" onmouseout="CodeHighlightOff(this, 'coderef-tocCSS');">floating-toc.css</a> <a href="floating-toc.css"><img src="https://img.shields.io/badge/--success?logo=css3"></a></dt><dd>I want to have an unobtrusive floating table of contents, see
¬ß<a href="#org779ad62">6</a>.</dd>

<dt><a href="#coderef-bannerCSS" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-bannerCSS');" onmouseout="CodeHighlightOff(this, 'coderef-bannerCSS');">blog-banner.css</a> <a href="blog-banner.css"><img src="https://img.shields.io/badge/--success?logo=css3"></a></dt><dd>Finally, we want a beautiful welcome mat, see ¬ß<a href="#org8abeead">5.4</a>.</dd>
</dl>
</div>
</div>

<div id="outline-container-Script-Header-Elements" class="outline-3">
<h3 id="Script-Header-Elements"><span class="section-number-3">5.2.</span> <a href="#Script-Header-Elements">Script Header Elements</a></h3>
<div class="outline-text-3" id="text-Script-Header-Elements">
<p>
In addition, we have two more pieces we would like to add to the header: Support
for <i>dynamic</i> code-line highlighting, ¬ß<a href="#org8abeead">5.4</a>, and support for using
LaTeX-style notation to write mathematics, ¬ß<a href="#orgc8d26d3">8</a>.  We will use a
<a href="https://github.com/alhassy/emacs.d#what-does-literate-programming-look-like">noweb-ref</a> named <code>my-html-header</code> to refer to them, which are then catenated below.
</p>
<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         Full, tangled, value of org-static-blog-page-header
                      </font>
                    </strong>
                  </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp"> (<span style="color: #40B4C4;">setq</span> org-static-blog-page-header
  (concat
   <span style="color: #91889B;">;; </span><span style="color: #91889B;">NOPE: org-html-head-extra  ;; Altered by &#8216;</span><span style="color: #B381C5;">org-special-block-extras</span><span style="color: #91889B;">&#8217;</span>
   (concat
   <span style="color: #B4DCE7;">"&lt;meta name=\"author\" content=\"Musa Al-hassy\"&gt;</span>
<span style="color: #B4DCE7;">    &lt;meta name=\"referrer\" content=\"no-referrer\"&gt;"</span>
<span id="coderef-usualCSS" class="coderef-off">   <span style="color: #B4DCE7;">"&lt;link href=\"usual-org-front-matter.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
<span id="coderef-orgNotesCSS" class="coderef-off">   <span style="color: #B4DCE7;">"&lt;link href=\"org-notes-style.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
<span id="coderef-tocCSS" class="coderef-off">   <span style="color: #B4DCE7;">"&lt;link href=\"floating-toc.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
<span id="coderef-bannerCSS" class="coderef-off">   <span style="color: #B4DCE7;">"&lt;link href=\"blog-banner.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
   <span style="color: #B4DCE7;">"&lt;link rel=\"icon\" href=\"images/favicon.png\"&gt;"</span>)
   <span style="color: #B4DCE7;">"&lt;script type=\"text/javascript\"&gt;</span>
<span style="color: #B4DCE7;">   /*</span>
<span style="color: #B4DCE7;">   @licstart  The following is the entire license notice for the</span>
<span style="color: #B4DCE7;">   JavaScript code in this tag.</span>
<span style="color: #B4DCE7;">   </span>
<span style="color: #B4DCE7;">   Copyright (C) 2012-2020 Free Software Foundation, Inc.</span>
<span style="color: #B4DCE7;">   </span>
<span style="color: #B4DCE7;">   The JavaScript code in this tag is free software: you can</span>
<span style="color: #B4DCE7;">   redistribute it and/or modify it under the terms of the GNU</span>
<span style="color: #B4DCE7;">   General Public License (GNU GPL) as published by the Free Software</span>
<span style="color: #B4DCE7;">   Foundation, either version 3 of the License, or (at your option)</span>
<span style="color: #B4DCE7;">   any later version.  The code is distributed WITHOUT ANY WARRANTY;</span>
<span style="color: #B4DCE7;">   without even the implied warranty of MERCHANTABILITY or FITNESS</span>
<span style="color: #B4DCE7;">   FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.</span>
<span style="color: #B4DCE7;">   </span>
<span style="color: #B4DCE7;">   As additional permission under GNU GPL version 3 section 7, you</span>
<span style="color: #B4DCE7;">   may distribute non-source (e.g., minimized or compacted) forms of</span>
<span style="color: #B4DCE7;">   that code without the copy of the GNU GPL normally required by</span>
<span style="color: #B4DCE7;">   section 4, provided you include this license notice and a URL</span>
<span style="color: #B4DCE7;">   through which recipients can access the Corresponding Source.</span>
<span style="color: #B4DCE7;">   </span>
<span style="color: #B4DCE7;">   </span>
<span style="color: #B4DCE7;">   @licend  The above is the entire license notice</span>
<span style="color: #B4DCE7;">   for the JavaScript code in this tag.</span>
<span style="color: #B4DCE7;">   */</span>
<span style="color: #B4DCE7;">   &lt;!--/*--&gt;&lt;![CDATA[/*&gt;&lt;!--*/</span>
<span style="color: #B4DCE7;">    function CodeHighlightOn(elem, id)</span>
<span style="color: #B4DCE7;">    {</span>
<span style="color: #B4DCE7;">      var target = document.getElementById(id);</span>
<span style="color: #B4DCE7;">      if(null != target) {</span>
<span style="color: #B4DCE7;">        elem.cacheClassElem = elem.className;</span>
<span style="color: #B4DCE7;">        elem.cacheClassTarget = target.className;</span>
<span style="color: #B4DCE7;">        target.className = \"code-highlighted\";</span>
<span style="color: #B4DCE7;">        elem.className   = \"code-highlighted\";</span>
<span style="color: #B4DCE7;">      }</span>
<span style="color: #B4DCE7;">    }</span>
<span style="color: #B4DCE7;">    function CodeHighlightOff(elem, id)</span>
<span style="color: #B4DCE7;">    {</span>
<span style="color: #B4DCE7;">      var target = document.getElementById(id);</span>
<span style="color: #B4DCE7;">      if(elem.cacheClassElem)</span>
<span style="color: #B4DCE7;">        elem.className = elem.cacheClassElem;</span>
<span style="color: #B4DCE7;">      if(elem.cacheClassTarget)</span>
<span style="color: #B4DCE7;">        target.className = elem.cacheClassTarget;</span>
<span style="color: #B4DCE7;">    }</span>
<span style="color: #B4DCE7;">   /*]]&gt;*///--&gt;</span>
<span style="color: #B4DCE7;">   &lt;/script&gt;"</span>
   <span style="color: #B4DCE7;">"&lt;script type=\"text/x-mathjax-config\"&gt;</span>
<span style="color: #B4DCE7;">       MathJax.Hub.Config({</span>
<span style="color: #B4DCE7;">           displayAlign: \"center\",</span>
<span style="color: #B4DCE7;">           displayIndent: \"0em\",</span>
<span style="color: #B4DCE7;">   </span>
<span style="color: #B4DCE7;">           \"HTML-CSS\": { scale: 100,</span>
<span style="color: #B4DCE7;">                           linebreaks: { automatic: \"false\" },</span>
<span style="color: #B4DCE7;">                           webFont: \"TeX\"</span>
<span style="color: #B4DCE7;">                          },</span>
<span style="color: #B4DCE7;">           SVG: {scale: 100,</span>
<span style="color: #B4DCE7;">                 linebreaks: { automatic: \"false\" },</span>
<span style="color: #B4DCE7;">                 font: \"TeX\"},</span>
<span style="color: #B4DCE7;">           NativeMML: {scale: 100},</span>
<span style="color: #B4DCE7;">           TeX: { equationNumbers: {autoNumber: \"AMS\"},</span>
<span style="color: #B4DCE7;">                  MultLineWidth: \"85%\",</span>
<span style="color: #B4DCE7;">                  TagSide: \"right\",</span>
<span style="color: #B4DCE7;">                  TagIndent: \".8em\"</span>
<span style="color: #B4DCE7;">                }</span>
<span style="color: #B4DCE7;">   });</span>
<span style="color: #B4DCE7;">   &lt;/script&gt;</span>
<span style="color: #B4DCE7;">   &lt;script type=\"text/javascript\"</span>
<span style="color: #B4DCE7;">           src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML\"&gt;&lt;/script&gt;</span>
<span style="color: #B4DCE7;">   "</span>
   <span style="color: #B4DCE7;">"</span>
<span style="color: #B4DCE7;">   &lt;script type=\"text/x-mathjax-config\"&gt;</span>
<span style="color: #B4DCE7;">   MathJax.Hub.Config({</span>
<span style="color: #B4DCE7;">       \"HTML-CSS\": {</span>
<span style="color: #B4DCE7;">           styles: {</span>
<span style="color: #B4DCE7;">               \".MathJax nobr\": {</span>
<span style="color: #B4DCE7;">                   padding: \"0.5em 0.5em\"</span>
<span style="color: #B4DCE7;">               },</span>
<span style="color: #B4DCE7;">           }</span>
<span style="color: #B4DCE7;">       }</span>
<span style="color: #B4DCE7;">   });</span>
<span style="color: #B4DCE7;">   &lt;/script&gt;</span>
<span style="color: #B4DCE7;">   "</span>
   ))
</pre>
</div>


</details>
</div>
</div>
<div id="outline-container-Lisp-Header-Elements" class="outline-3">
<h3 id="Lisp-Header-Elements"><span class="section-number-3">5.3.</span> <a href="#Lisp-Header-Elements">Lisp Header Elements</a></h3>
<div class="outline-text-3" id="text-Lisp-Header-Elements">
<p>
Some Lisp code is required to string everything together.
</p>
<ul class="org-ul">
<li>Lisp fragments are tangled to <a href="https://alhassy.com/AlBasmala.el">AlBasmala.el</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-Blog-Banner" class="outline-3">
<h3 id="Blog-Banner"><span class="section-number-3">5.4.</span> <a href="#Blog-Banner">Blog Banner and Dynamic Code Highlighting</a></h3>
<div class="outline-text-3" id="text-Blog-Banner">
<p>
<a id="org8abeead"></a>
</p>

<p>
I want to have a nice banner at the top of every page, which should link
to useful parts of my blog.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr">1: </span>(<span style="color: #40B4C4;">setq</span> org-static-blog-page-preamble
<span class="linenr">2: </span><span style="color: #B4DCE7;">"&lt;div class=\"header\"&gt;</span>
<span class="linenr">3: </span><span style="color: #B4DCE7;">  &lt;a href=\"https://alhassy.github.io/\" class=\"logo\"&gt;Life &amp; Computing Science&lt;/a&gt;</span>
<span class="linenr">4: </span><span style="color: #B4DCE7;">  &lt;br/&gt;</span>
<span class="linenr">5: </span><span style="color: #B4DCE7;">  &lt;a href=\"https://alhassy.github.io/AlBasmala\"&gt;AlBasmala&lt;/a&gt;</span>
<span class="linenr">6: </span><span style="color: #B4DCE7;">  &lt;a href=\"https://alhassy.github.io/rss.xml\"&gt;RSS&lt;/a&gt;</span>
<span class="linenr">7: </span><span style="color: #B4DCE7;">  &lt;a href=\"https://alhassy.github.io/about\"&gt;About&lt;/a&gt;</span>
<span class="linenr">8: </span><span style="color: #B4DCE7;">&lt;/div&gt;"</span>)
</pre>
</div>

<p>
I want to style it as follows:
</p>

<ul class="org-ul">
<li>Line <a href="#coderef-headerHeader" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-headerHeader');" onmouseout="CodeHighlightOff(this, 'coderef-headerHeader');">1</a>: The banner is in a box at the top with some shadowing and
centerd text using the <code>fantasy</code> font</li>
<li>Line <a href="#coderef-headerLogo" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-headerLogo');" onmouseout="CodeHighlightOff(this, 'coderef-headerLogo');">13</a>: The blog's title is large and bold</li>
<li>Line <a href="#coderef-headerAnchor" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-headerAnchor');" onmouseout="CodeHighlightOff(this, 'coderef-headerAnchor');">18</a>: All links in the banner are black</li>
<li>Line <a href="#coderef-headerHover" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-headerHover');" onmouseout="CodeHighlightOff(this, 'coderef-headerHover');">25</a>: When you hover over a link, it becomes blue</li>
</ul>

<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         CSS Details
                      </font>
                    </strong>
                  </summary>
<div class="org-src-container">
<pre class="src src-css"><span id="coderef-headerHeader" class="coderef-off"><span class="linenr"> 1: </span><span style="color: #40B4C4;">.header</span> {</span>
<span class="linenr"> 2: </span>  <span style="color: #91889B;">/* </span><span style="color: #91889B;">Try to load &#8216;fantasy&#8217; if possible, else try to load the others.</span><span style="color: #91889B;"> */</span>
<span class="linenr"> 3: </span>  <span style="color: #74DFC4;">font-family</span>: fantasy, monospace, Times;
<span class="linenr"> 4: </span>  <span style="color: #74DFC4;">text-align</span>: center;
<span class="linenr"> 5: </span>  <span style="color: #74DFC4;">overflow</span>: hidden;
<span class="linenr"> 6: </span>  <span style="color: #91889B;">/* </span><span style="color: #91889B;">background-color: #f1f1f1 !important;</span><span style="color: #91889B;"> */</span>
<span class="linenr"> 7: </span>  <span style="color: #91889B;">/* </span><span style="color: #91889B;">background: #4183c4 !important;</span><span style="color: #91889B;"> */</span>
<span class="linenr"> 8: </span>  <span style="color: #74DFC4;">padding-top</span>: 10px;
<span class="linenr"> 9: </span>  <span style="color: #74DFC4;">padding-bottom</span>: 10px;
<span class="linenr">10: </span>  <span style="color: #74DFC4;">box-shadow</span>: 0 2px 10px 2px <span style="color: #ffffff; background-color: #000000;">rgba(0, 0, 0, 0.2)</span>;
<span class="linenr">11: </span>}
<span class="linenr">12: </span>
<span id="coderef-headerLogo" class="coderef-off"><span class="linenr">13: </span><span style="color: #40B4C4;">.header a.logo</span> {</span>
<span class="linenr">14: </span>  <span style="color: #74DFC4;">font-size</span>: 50px;
<span class="linenr">15: </span>  <span style="color: #74DFC4;">font-weight</span>: bold;
<span class="linenr">16: </span>}
<span class="linenr">17: </span>
<span id="coderef-headerAnchor" class="coderef-off"><span class="linenr">18: </span><span style="color: #40B4C4;">.header a</span> {</span>
<span class="linenr">19: </span>  <span style="color: #74DFC4;">color</span>: <span style="color: #ffffff; background-color: #000000;">black</span>;
<span class="linenr">20: </span>  <span style="color: #74DFC4;">padding</span>: 12px;
<span class="linenr">21: </span>  <span style="color: #74DFC4;">text-decoration</span>: none;
<span class="linenr">22: </span>  <span style="color: #74DFC4;">font-size</span>: 18px;
<span class="linenr">23: </span>}
<span class="linenr">24: </span>
<span id="coderef-headerHover" class="coderef-off"><span class="linenr">25: </span><span style="color: #40B4C4;">.header a:hover</span> {</span>
<span class="linenr">26: </span>  <span style="color: #74DFC4;">background-color</span>: <span style="color: #000000; background-color: #ddd;">#ddd</span>;
<span class="linenr">27: </span>  <span style="color: #74DFC4;">background-color</span>: <span style="color: #000000; background-color: #fff;">#fff</span>;
<span class="linenr">28: </span>  <span style="color: #74DFC4;">color</span>: <span style="color: #ffffff; background-color: #4183c4;">#4183c4</span>;
<span class="linenr">29: </span>}
</pre>
</div>


</details>

<p>
Notice that as you hover over the references, such as <a href="#coderef-headerLogo" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-headerLogo');" onmouseout="CodeHighlightOff(this, 'coderef-headerLogo');">this</a>, <b>the corresponding
line of code is highlighted!</b> Within a <code>src</code> block, one uses the switches <code>-n -r</code>
to enable references via line numbers, then declares <code>(ref:name)</code> on line
and refers to it by <code>[[(name)][description]]</code>. Org-mode by default styles
such highlighting.
</p>
<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         Dynamic Code Highlighting
                      </font>
                    </strong>
                  </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span><span style="color: #B4DCE7;">"&lt;script type=\"text/javascript\"&gt;</span>
<span class="linenr"> 2: </span><span style="color: #B4DCE7;">/*</span>
<span class="linenr"> 3: </span><span style="color: #B4DCE7;">@licstart  The following is the entire license notice for the</span>
<span class="linenr"> 4: </span><span style="color: #B4DCE7;">JavaScript code in this tag.</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #B4DCE7;">Copyright (C) 2012-2020 Free Software Foundation, Inc.</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #B4DCE7;">The JavaScript code in this tag is free software: you can</span>
<span class="linenr"> 9: </span><span style="color: #B4DCE7;">redistribute it and/or modify it under the terms of the GNU</span>
<span class="linenr">10: </span><span style="color: #B4DCE7;">General Public License (GNU GPL) as published by the Free Software</span>
<span class="linenr">11: </span><span style="color: #B4DCE7;">Foundation, either version 3 of the License, or (at your option)</span>
<span class="linenr">12: </span><span style="color: #B4DCE7;">any later version.  The code is distributed WITHOUT ANY WARRANTY;</span>
<span class="linenr">13: </span><span style="color: #B4DCE7;">without even the implied warranty of MERCHANTABILITY or FITNESS</span>
<span class="linenr">14: </span><span style="color: #B4DCE7;">FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.</span>
<span class="linenr">15: </span>
<span class="linenr">16: </span><span style="color: #B4DCE7;">As additional permission under GNU GPL version 3 section 7, you</span>
<span class="linenr">17: </span><span style="color: #B4DCE7;">may distribute non-source (e.g., minimized or compacted) forms of</span>
<span class="linenr">18: </span><span style="color: #B4DCE7;">that code without the copy of the GNU GPL normally required by</span>
<span class="linenr">19: </span><span style="color: #B4DCE7;">section 4, provided you include this license notice and a URL</span>
<span class="linenr">20: </span><span style="color: #B4DCE7;">through which recipients can access the Corresponding Source.</span>
<span class="linenr">21: </span>
<span class="linenr">22: </span>
<span class="linenr">23: </span><span style="color: #B4DCE7;">@licend  The above is the entire license notice</span>
<span class="linenr">24: </span><span style="color: #B4DCE7;">for the JavaScript code in this tag.</span>
<span class="linenr">25: </span><span style="color: #B4DCE7;">*/</span>
<span class="linenr">26: </span><span style="color: #B4DCE7;">&lt;!--/*--&gt;&lt;![CDATA[/*&gt;&lt;!--*/</span>
<span class="linenr">27: </span><span style="color: #B4DCE7;"> function CodeHighlightOn(elem, id)</span>
<span class="linenr">28: </span><span style="color: #B4DCE7;"> {</span>
<span class="linenr">29: </span><span style="color: #B4DCE7;">   var target = document.getElementById(id);</span>
<span class="linenr">30: </span><span style="color: #B4DCE7;">   if(null != target) {</span>
<span class="linenr">31: </span><span style="color: #B4DCE7;">     elem.cacheClassElem = elem.className;</span>
<span class="linenr">32: </span><span style="color: #B4DCE7;">     elem.cacheClassTarget = target.className;</span>
<span class="linenr">33: </span><span style="color: #B4DCE7;">     target.className = \"code-highlighted\";</span>
<span class="linenr">34: </span><span style="color: #B4DCE7;">     elem.className   = \"code-highlighted\";</span>
<span class="linenr">35: </span><span style="color: #B4DCE7;">   }</span>
<span class="linenr">36: </span><span style="color: #B4DCE7;"> }</span>
<span class="linenr">37: </span><span style="color: #B4DCE7;"> function CodeHighlightOff(elem, id)</span>
<span class="linenr">38: </span><span style="color: #B4DCE7;"> {</span>
<span class="linenr">39: </span><span style="color: #B4DCE7;">   var target = document.getElementById(id);</span>
<span class="linenr">40: </span><span style="color: #B4DCE7;">   if(elem.cacheClassElem)</span>
<span class="linenr">41: </span><span style="color: #B4DCE7;">     elem.className = elem.cacheClassElem;</span>
<span class="linenr">42: </span><span style="color: #B4DCE7;">   if(elem.cacheClassTarget)</span>
<span class="linenr">43: </span><span style="color: #B4DCE7;">     target.className = elem.cacheClassTarget;</span>
<span class="linenr">44: </span><span style="color: #B4DCE7;"> }</span>
<span class="linenr">45: </span><span style="color: #B4DCE7;">/*]]&gt;*///--&gt;</span>
<span class="linenr">46: </span><span style="color: #B4DCE7;">&lt;/script&gt;"</span>
</pre>
</div>


</details>
</div>
</div>

<div id="outline-container-org12bb817" class="outline-3">
<h3 id="org12bb817"><span class="section-number-3">5.5.</span> <a href="#org12bb817">Miscellaneous Styles</a></h3>
<div class="outline-text-3" id="text-5-5">
<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Curvy Source Blocks & Pink Inline </font> </strong> </summary>

<p>
<a id="orga70a0f7"></a>
</p>

<p>
The <code>border-radius</code> property defines the radius of an
element's corners, we use it to make curvy looking source blocks.
Its behaviour <a href="https://www.w3schools.com/cssref/css3_pr_border-radius.asp">changes</a> depending on how many arguments it is given.
</p>
<ul class="org-ul">
<li>We also style the code block's label to be curvy.</li>
<li>Both <code>.src</code> and <code>pre.src:before</code> are used by Org.</li>
</ul>

<div class="org-src-container">
<pre class="src src-css"><span class="linenr"> 1: </span><span style="color: #40B4C4;">.src</span> {
<span class="linenr"> 2: </span>  <span style="color: #74DFC4;">border</span>: 0px <span style="color: #EB64B9;">!important</span>;
<span class="linenr"> 3: </span>  <span style="color: #91889B;">/* </span><span style="color: #91889B;">50px for top-left and bottom-right corners;</span>
<span class="linenr"> 4: </span><span style="color: #91889B;">     20px for top-right and bottom-left cornerns.</span><span style="color: #91889B;"> */</span>
<span class="linenr"> 5: </span>  <span style="color: #74DFC4;">border-radius</span>: 50px 20px <span style="color: #EB64B9;">!important</span>;
<span class="linenr"> 6: </span>}
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #40B4C4;">pre.src:before</span> {
<span class="linenr"> 9: </span>    <span style="color: #91889B;">/* </span><span style="color: #91889B;">border: 0px !important;</span><span style="color: #91889B;"> */</span>
<span class="linenr">10: </span>    <span style="color: #91889B;">/* </span><span style="color: #91889B;">background-color: inherit !important;</span><span style="color: #91889B;"> */</span>
<span class="linenr">11: </span>    <span style="color: #74DFC4;">padding</span>: 3px <span style="color: #EB64B9;">!important</span>;
<span class="linenr">12: </span>    <span style="color: #74DFC4;">border-radius</span>: 20px 50px <span style="color: #EB64B9;">!important</span>;
<span class="linenr">13: </span>    <span style="color: #74DFC4;">font-weight</span>:700
<span class="linenr">14: </span>}
<span class="linenr">15: </span>
<span class="linenr">16: </span> <span style="color: #91889B;">/* </span><span style="color: #91889B;">wrap lengthy lines for code blocks</span><span style="color: #91889B;"> */</span>
<span class="linenr">17: </span> <span style="color: #40B4C4;">pre</span>{<span style="color: #74DFC4;">white-space</span>:pre-wrap}
<span class="linenr">18: </span>
<span class="linenr">19: </span> <span style="color: #91889B;">/* </span><span style="color: #91889B;">Also curvy inline code with ~ &#8943; ~ and = &#8943; =</span><span style="color: #91889B;"> */</span>
<span class="linenr">20: </span> <span style="color: #40B4C4;">code</span> {
<span class="linenr">21: </span>     <span style="color: #91889B;">/* </span><span style="color: #91889B;">background: Cyan !important;</span><span style="color: #91889B;"> */</span>
<span class="linenr">22: </span>     <span style="color: #74DFC4;">background</span>: <span style="color: #000000; background-color: #ffc0cb;">pink</span> <span style="color: #EB64B9;">!important</span>;
<span class="linenr">23: </span>     <span style="color: #74DFC4;">border-radius</span>: 7px;
<span class="linenr">24: </span>     <span style="color: #91889B;">/* </span><span style="color: #91889B;">border: 1px solid lightgrey; background: #FFFFE9; padding: 2px</span><span style="color: #91889B;"> */</span>
<span class="linenr">25: </span> }
</pre>
</div>

<p>
Code such as <code>(= 2 (+ 1 1))</code> now sticks out with a pink background ‚ô•‚Äø‚ô•
</p>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Pink Tables </font> </strong> </summary>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #40B4C4;">table</span> {
     <span style="color: #74DFC4;">background</span>: <span style="color: #000000; background-color: #ffc0cb;">pink</span>;
     <span style="color: #74DFC4;">border-radius</span>: 10px;
     <span style="color: #91889B;">/* </span><span style="color: #91889B;">width:90%</span><span style="color: #91889B;"> */</span>

     <span style="color: #74DFC4;">border-bottom</span>: hidden;
     <span style="color: #74DFC4;">border-top</span>: hidden;

     <span style="color: #74DFC4;">display</span>: table <span style="color: #EB64B9;">!important</span>;

     <span style="color: #91889B;">/* </span><span style="color: #91889B;">Put table in the center of the page, horizontally.</span><span style="color: #91889B;"> */</span>
     <span style="color: #74DFC4;">margin-left</span>:auto <span style="color: #EB64B9;">!important</span>;<span style="color: #74DFC4;">margin-right</span>:auto <span style="color: #EB64B9;">!important</span>;

     <span style="color: #74DFC4;">font-family</span>:<span style="color: #B4DCE7;">"Courier New"</span>;
     <span style="color: #74DFC4;">font-size</span>:90%;
 }

 <span style="color: #91889B;">/* </span><span style="color: #91889B;">Styling for &#8216;t&#8217;able &#8216;d&#8217;ata and &#8216;h&#8217;eader elements</span><span style="color: #91889B;"> */</span>
 <span style="color: #40B4C4;">th, td</span> {
     <span style="color: #74DFC4;">border</span>: 0px solid <span style="color: #ffffff; background-color: #ff0000;">red</span>;
 }
</pre>
</div>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-bottom"><span class="table-number">Table 1:</span> Example table</caption>

<colgroup>
<col  class="org-center" />

<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-center">Prime</th>
<th scope="col" class="org-center">2<sup>Prime</sup></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-center">1</td>
<td class="org-center">2</td>
</tr>

<tr>
<td class="org-center">2</td>
<td class="org-center">4</td>
</tr>

<tr>
<td class="org-center">3</td>
<td class="org-center">8</td>
</tr>

<tr>
<td class="org-center">5</td>
<td class="org-center">32</td>
</tr>

<tr>
<td class="org-center">7</td>
<td class="org-center">128</td>
</tr>

<tr>
<td class="org-center">11</td>
<td class="org-center">2048</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #91889B;">;; </span><span style="color: #91889B;">Table captions should be below the tables</span>
(<span style="color: #40B4C4;">setq</span> org-html-table-caption-above nil
      org-export-latex-table-caption-above nil)
</pre>
</div>

</details> </div>

<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Let's show folded, details, regions with a nice greenish colour </font> </strong> </summary>
<p>
This is part of <code>org-special-block-extras</code>, and it's something like this:
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #40B4C4;">details</span> {
  <span style="color: #74DFC4;">padding</span>: 1em;
  <span style="color: #74DFC4;">background-color</span>: <span style="color: #000000; background-color: #e5f5e5;">#e5f5e5</span>;
  <span style="color: #91889B;">/* </span><span style="color: #91889B;">background-color: pink;</span><span style="color: #91889B;"> */</span>
  <span style="color: #74DFC4;">border-radius</span>: 15px;
  <span style="color: #74DFC4;">color</span>: <span style="color: #ffffff; background-color: #0c593b;">hsl(157 75% 20%)</span>;
  <span style="color: #74DFC4;">font-size</span>: 0.9em;
  <span style="color: #74DFC4;">box-shadow</span>: 0.05em 0.1em 5px 0.01em  <span style="color: #ffffff; background-color: #000000;">#00000057</span>;
}
</pre>
</div>

</details> </div>
</div>
</div>
</div>
<div id="outline-container-Floating-TOC" class="outline-2">
<h2 id="Floating-TOC"><span class="section-number-2">6.</span> <a href="#Floating-TOC">Œû: Floating <i>Table of Contents</i></a></h2>
<div class="outline-text-2" id="text-Floating-TOC">
<p>
<a id="org779ad62"></a>
</p>

<p>
I would like to have a table of contents that floats so that it is accessible to
the reader in case they want to jump elsewhere in the document quickly
&#x2014;possibly going to the top of the document.
</p>

<br><center> ‚òÖ ¬†¬†¬† ‚òÖ ¬†¬†¬† ‚òÖ </center><br>

<p>
When we write <code>#+toc: headlines 2</code> in our Org, HTML export produces the following.
</p>
<div class="org-src-container">
<pre class="src src-html"><span class="linenr"> 1: </span>&lt;<span style="color: #EB64B9;">div</span> <span style="color: #FFFFFF;">id</span>=<span style="color: #B4DCE7;">"table-of-contents"</span>&gt;
<span class="linenr"> 2: </span>  &lt;<span style="color: #EB64B9;">h2</span>&gt;<span style="font-weight: bold; font-style: italic; text-decoration: underline;">Table of Contents</span>&lt;/<span style="color: #EB64B9;">h2</span>&gt;
<span class="linenr"> 3: </span>  &lt;<span style="color: #EB64B9;">div</span> <span style="color: #FFFFFF;">id</span>=<span style="color: #B4DCE7;">"text-table-of-contents"</span>&gt;
<span class="linenr"> 4: </span>    &lt;<span style="color: #EB64B9;">ul</span>&gt;
<span class="linenr"> 5: </span>      &lt;<span style="color: #EB64B9;">li</span>&gt; section 1 &lt;/<span style="color: #EB64B9;">li</span>&gt;
<span class="linenr"> 6: </span>             &#8942;
<span class="linenr"> 7: </span>      &lt;<span style="color: #EB64B9;">li</span>&gt; section &#120003; &lt;/<span style="color: #EB64B9;">li</span>&gt;
<span class="linenr"> 8: </span>    &lt;/<span style="color: #EB64B9;">ul</span>&gt;
<span class="linenr"> 9: </span>  &lt;/<span style="color: #EB64B9;">div</span>&gt;
<span class="linenr">10: </span>&lt;/<span style="color: #EB64B9;">div</span>&gt;
</pre>
</div>
<p>
Hence, we can style the table of contents by writing rules that target those
<code>id</code>'s. We use the following rules, adapted from <a href="https://orgmode.org/worg/">the Worg community</a>.
</p>
<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         CSS for a floating TOC
                      </font>
                    </strong>
                  </summary>
<div class="org-src-container">
<pre class="src src-css"><span class="linenr"> 1: </span><span style="color: #91889B;">/*</span><span style="color: #91889B;">TOC inspired by https://orgmode.org/worg/</span><span style="color: #91889B;"> */</span>
<span class="linenr"> 2: </span><span style="color: #40B4C4;">#table-of-contents</span> {
<span class="linenr"> 3: </span>    <span style="color: #91889B;">/* </span><span style="color: #91889B;">Place the toc in the top right corner</span><span style="color: #91889B;"> */</span>
<span class="linenr"> 4: </span>    <span style="color: #74DFC4;">position</span>: fixed; <span style="color: #74DFC4;">right</span>: 0em; <span style="color: #74DFC4;">top</span>: 0em;
<span class="linenr"> 5: </span>    <span style="color: #74DFC4;">margin-top</span>: 120px; <span style="color: #91889B;">/* </span><span style="color: #91889B;">offset from the top of the screen</span><span style="color: #91889B;"> */</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>    <span style="color: #91889B;">/* </span><span style="color: #91889B;">It shrinks and grows as necessary</span><span style="color: #91889B;"> */</span>
<span class="linenr"> 8: </span>    <span style="color: #74DFC4;">padding</span>: 0em <span style="color: #EB64B9;">!important</span>;
<span class="linenr"> 9: </span>    <span style="color: #74DFC4;">width</span>: auto <span style="color: #EB64B9;">!important</span>;
<span class="linenr">10: </span>    <span style="color: #74DFC4;">min-width</span>: auto <span style="color: #EB64B9;">!important</span>;
<span class="linenr">11: </span>
<span class="linenr">12: </span>    <span style="color: #74DFC4;">font-size</span>: 10pt;
<span class="linenr">13: </span>    <span style="color: #74DFC4;">background</span>: <span style="color: #000000; background-color: #ffffff;">white</span>;
<span class="linenr">14: </span>    <span style="color: #74DFC4;">line-height</span>: 12pt;
<span class="linenr">15: </span>    <span style="color: #74DFC4;">text-align</span>: right;
<span class="linenr">16: </span>
<span class="linenr">17: </span>    <span style="color: #74DFC4;">box-shadow</span>: 0 0 1em <span style="color: #ffffff; background-color: #777777;">#777777</span>;
<span class="linenr">18: </span>    <span style="color: #FFB85B;">-webkit-box-shadow</span>: 0 0 1em <span style="color: #ffffff; background-color: #777777;">#777777</span>;
<span class="linenr">19: </span>    <span style="color: #FFB85B;">-moz-box-shadow</span>: 0 0 1em <span style="color: #ffffff; background-color: #777777;">#777777</span>;
<span class="linenr">20: </span>    <span style="color: #FFB85B;">-webkit-border-bottom-left-radius</span>: 5px;
<span class="linenr">21: </span>    <span style="color: #FFB85B;">-moz-border-radius-bottomleft</span>: 5px;
<span class="linenr">22: </span>
<span class="linenr">23: </span>    <span style="color: #91889B;">/* </span><span style="color: #91889B;">Ensure doesn't flow off the screen when expanded</span><span style="color: #91889B;"> */</span>
<span class="linenr">24: </span>    <span style="color: #74DFC4;">max-height</span>: 80%;
<span class="linenr">25: </span>    <span style="color: #74DFC4;">overflow</span>: auto;}
<span class="linenr">26: </span>
<span class="linenr">27: </span><span style="color: #91889B;">/* </span><span style="color: #91889B;">How big is the text &#8220;Table of Contents&#8221; and space around it</span><span style="color: #91889B;"> */</span>
<span class="linenr">28: </span><span style="color: #40B4C4;">#table-of-contents h2</span> {
<span class="linenr">29: </span>    <span style="color: #74DFC4;">font-size</span>: 13pt;
<span class="linenr">30: </span>    <span style="color: #74DFC4;">max-width</span>: 9em;
<span class="linenr">31: </span>    <span style="color: #74DFC4;">border</span>: 0;
<span class="linenr">32: </span>    <span style="color: #74DFC4;">font-weight</span>: normal;
<span class="linenr">33: </span>    <span style="color: #74DFC4;">padding-left</span>: 0.5em;
<span class="linenr">34: </span>    <span style="color: #74DFC4;">padding-right</span>: 0.5em;
<span class="linenr">35: </span>    <span style="color: #74DFC4;">padding-top</span>: 0.05em;
<span class="linenr">36: </span>    <span style="color: #74DFC4;">padding-bottom</span>: 0.05em; }
<span class="linenr">37: </span>
<span class="linenr">38: </span><span style="color: #91889B;">/* </span><span style="color: #91889B;">Intially have the TOC folded up; show it if the mouse hovers it</span><span style="color: #91889B;"> */</span>
<span class="linenr">39: </span><span style="color: #40B4C4;">#table-of-contents #text-table-of-contents</span> {
<span class="linenr">40: </span>    <span style="color: #74DFC4;">display</span>: none;
<span class="linenr">41: </span>    <span style="color: #74DFC4;">text-align</span>: left; }
<span class="linenr">42: </span>
<span class="linenr">43: </span><span style="color: #40B4C4;">#table-of-contents:hover #text-table-of-contents</span> {
<span class="linenr">44: </span>    <span style="color: #74DFC4;">display</span>: block;
<span class="linenr">45: </span>    <span style="color: #74DFC4;">padding</span>: 0.5em;
<span class="linenr">46: </span>    <span style="color: #74DFC4;">margin-top</span>: -1.5em; }
</pre>
</div>


</details>

<p>
Since the table of contents floats, the phrase <i>Table of Contents</i> is rather
‚Äòin your face‚Äô, so let's use the more subtle Greek <a href="https://en.wikipedia.org/wiki/Xi_(letter)">letter</a> <code>Œû</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(advice-add <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">org-html--translate</span> <span style="color: #EB64B9;">:before-until</span> <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">blog/display-toc-as-&#926;</span>)
<span class="linenr"> 2: </span><span style="color: #91889B;">;; </span><span style="color: #91889B;">(advice-remove 'org-html--translate 'display-toc-as-&#926;)</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span>(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/display-toc-as-&#926;</span> (phrase info)
<span class="linenr"> 5: </span>  (<span style="color: #40B4C4;">when</span> (equal phrase <span style="color: #B4DCE7;">"Table of Contents"</span>)
<span class="linenr"> 6: </span>    (s-collapse-whitespace
<span class="linenr"> 7: </span>    <span style="color: #B4DCE7;">"&#160;&lt;a href=\"javascript:window.scrollTo(0,0)\"</span>
<span class="linenr"> 8: </span><span style="color: #B4DCE7;">        style=\"color: black !important; border-bottom: none !important;\"</span>
<span class="linenr"> 9: </span><span style="color: #B4DCE7;">        class=\"tooltip\"</span>
<span class="linenr">10: </span><span style="color: #B4DCE7;">        title=\"Go to the top of the page\"&gt;</span>
<span class="linenr">11: </span><span style="color: #B4DCE7;">      &#926;</span>
<span class="linenr">12: </span><span style="color: #B4DCE7;">    &lt;/a&gt;&#160;"</span>)))
</pre>
</div>

<p>
How did I get here?
</p>
<ol class="org-ol">
<li>How does Org's HTML export TOCs? ‚áí <abbr class="tooltip" title="Build a table of contents.<br>DEPTH is an integer specifying the depth of the table.&emsp;INFO is<br>a plist used as a communication channel.&emsp;Optional argument SCOPE<br>is an element defining the scope of the table.&emsp;Return the table<br>of contents as a string, or nil if it is empty.<br><br>(fn DEPTH INFO &optional SCOPE)">org-html-toc</abbr></li>
<li>Looking at its source, we see <abbr class="tooltip" title="Translate string S according to specified language.<br>INFO is a plist used as a communication channel.<br><br>This function has :before-until advice: ‚Äòblog/display-toc-as-Œû‚Äô.<br><br>(fn S INFO)">org-html--translate</abbr> being
the only place mentioning the string <i>Table of Contents</i></li>
<li>Let's advise it, with <abbr class="tooltip" title="Like ‚Äòadd-function‚Äô but for the function named SYMBOL.<br>Contrary to ‚Äòadd-function‚Äô, this will properly handle the cases where SYMBOL<br>is defined as a macro, alias, command, ...<br>HOW can be one of:<br> :around&emsp;&emsp;&emsp;&emsp;(Œª (&rest r) (apply FUNCTION OLDFUN r))<br> :before&emsp;&emsp;&emsp;&emsp;(Œª (&rest r) (apply FUNCTION r) (apply OLDFUN r))<br> :after&emsp;&emsp;&emsp;&emsp; (Œª (&rest r) (prog1 (apply OLDFUN r) (apply FUNCTION r)))<br> :override&emsp;&emsp;&emsp;(Œª (&rest r) (apply FUNCTION r))<br> :after-until&emsp; (Œª (&rest r) (or (apply OLDFUN r) (apply FUNCTION r)))<br> :after-while&emsp; (Œª (&rest r) (and (apply OLDFUN r) (apply FUNCTION r)))<br> :before-until&emsp;(Œª (&rest r) (or (apply FUNCTION r) (apply OLDFUN r)))<br> :before-while&emsp;(Œª (&rest r) (and (apply FUNCTION r) (apply OLDFUN r)))<br> :filter-args&emsp; (Œª (&rest r) (apply OLDFUN (funcall FUNCTION r)))<br> :filter-return (Œª (&rest r) (funcall FUNCTION (apply OLDFUN r)))<br><br>(fn SYMBOL HOW FUNCTION &optional PROPS)">advice-add</abbr>, to return ‚ÄúŒû‚Äù
<i>only</i> on that particular input string.</li>
<li>Joy ‚ô•‚Äø‚ô•</li>
</ol>

<p>
Finally,
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #91889B;">;; </span><span style="color: #91889B;">I'd like to have tocs and numbered headings</span>
(<span style="color: #40B4C4;">setq</span> org-export-with-toc t)
(<span style="color: #40B4C4;">setq</span> org-export-with-section-numbers t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda137c2" class="outline-2">
<h2 id="orgda137c2"><span class="section-number-2">7.</span> <a href="#orgda137c2">Clickable Sections with Sensible Anchors</a></h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-Ensuring-Useful-HTML-Anchors" class="outline-3">
<h3 id="Ensuring-Useful-HTML-Anchors"><span class="section-number-3">7.1.</span> <a href="#Ensuring-Useful-HTML-Anchors">Ensuring Useful HTML Anchors</a></h3>
<div class="outline-text-3" id="text-Ensuring-Useful-HTML-Anchors">
<p>
Upon HTML export, each tree heading is assigned an ID to be used for hyperlinks.
Default IDs are something like <code>org1957a9d</code>, which does not endure the test of time:
Re-export will produce a different id. Here's a rough snippet to generate
IDs from headings, by replacing spaces with hyphens, for headings without IDs.
</p>

<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         blog/ensure-useful-section-anchors: Advised to Org Export
                      </font>
                    </strong>
                  </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/ensure-useful-section-anchors</span> (<span style="color: #FFE261;">&amp;rest</span> _)
  <span style="color: #919ea7;">"Org sections without an ID are given one based on its title.</span>

<span style="color: #919ea7;">All non-alphanumeric characters are cleverly replaced with &#8216;</span><span style="color: #B381C5;">-</span><span style="color: #919ea7;">&#8217;.</span>

<span style="color: #919ea7;">If multiple trees end-up with the same id property, issue a</span>
<span style="color: #919ea7;">message and undo any property insertion thus far.</span>

<span style="color: #919ea7;">E.g., &#8623; We'll go on a &#8704;&#8707;&#8645; adventure</span>
<span style="color: #919ea7;">   &#8614;  We'll-go-on-a-adventure</span>
<span style="color: #919ea7;">"</span>
  (<span style="color: #40B4C4;">interactive</span>)
  (<span style="color: #40B4C4;">let</span> ((ids))
    (org-map-entries
     (<span style="color: #40B4C4;">lambda</span> ()
       (<span style="color: #40B4C4;">org-with-point-at</span> (point)
         (<span style="color: #40B4C4;">let</span> ((id (org-entry-get nil <span style="color: #B4DCE7;">"CUSTOM_ID"</span>)))
           (<span style="color: #40B4C4;">unless</span> id
             (<span style="color: #40B4C4;">thread-last</span> (nth 4 (org-heading-components))
               (s-replace-regexp <span style="color: #B4DCE7;">"[</span><span style="color: #40B4C4; font-weight: bold;">^</span><span style="color: #B4DCE7;">[:alnum:]']"</span> <span style="color: #B4DCE7;">"-"</span>)
               (s-replace-regexp <span style="color: #B4DCE7;">"-+"</span> <span style="color: #B4DCE7;">"-"</span>)
               (s-chop-prefix <span style="color: #B4DCE7;">"-"</span>)
               (s-chop-suffix <span style="color: #B4DCE7;">"-"</span>)
               (<span style="color: #40B4C4;">setq</span> id))
             (<span style="color: #40B4C4;">if</span> (not (member id ids))
                 (<span style="color: #40B4C4;">push</span> id ids)
               (message-box <span style="color: #B4DCE7;">"Oh no, a repeated id!\n\n\t%s"</span> id)
               (undo)
               (<span style="color: #40B4C4;">setq</span> quit-flag t))
             (org-entry-put nil <span style="color: #B4DCE7;">"CUSTOM_ID"</span> id))))))))

<span style="color: #91889B;">;; </span><span style="color: #91889B;">Whenever html &amp; md export happens, ensure we have headline ids.</span>
(advice-add <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">org-html-export-to-html</span>   <span style="color: #EB64B9;">:before</span> <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">blog/ensure-useful-section-anchors</span>)
(advice-add <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">org-md-export-to-markdown</span> <span style="color: #EB64B9;">:before</span> <span style="color: #40B4C4;">'</span><span style="color: #FFE261;">blog/ensure-useful-section-anchors</span>)
</pre>
</div>


</details>

<p>
One may then use <code>[[#my-custom-id]]</code> to link to the entry with <code>CUSTOM_ID</code>
property <code>my-custom-id</code>.
</p>

<p>
Interestingly, <code>org-set-property</code>, <code>C-c C-x p</code>, lets us insert a property
from a selection of available ones, then we'll be prompted for a value
for it from a list of values you've used elsewhere. This is useful for
remaining consistent for when trees share similar properties.
</p>
</div>
</div>

<div id="outline-container-Clickable-Headlines" class="outline-3">
<h3 id="Clickable-Headlines"><span class="section-number-3">7.2.</span> <a href="#Clickable-Headlines">Clickable Headlines</a></h3>
<div class="outline-text-3" id="text-Clickable-Headlines">
<p>
By default, HTML export generates ID's to headlines so they may be referenced
to, but there is no convenient way to get at them to refer to a particular
heading. The following spell fixes this issue: Headlines are now clickable,
resulting in a link to the headline itself.
</p>

<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         org-html-format-headline-function
                      </font>
                    </strong>
                  </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #91889B;">;; </span><span style="color: #91889B;">Src: https://writepermission.com/org-blogging-clickable-headlines.html</span>
(<span style="color: #40B4C4;">setq</span> org-html-format-headline-function
      (<span style="color: #40B4C4;">lambda</span> (todo todo-type priority text tags info)
        <span style="color: #919ea7;">"Format a headline with a link to itself."</span>
        (<span style="color: #40B4C4;">let*</span> ((headline (get-text-property 0 <span style="color: #EB64B9;">:parent</span> text))
               (id (<span style="color: #40B4C4;">or</span> (org-element-property <span style="color: #EB64B9;">:CUSTOM_ID</span> headline)
                       (<span style="color: #40B4C4;">ignore-errors</span> (org-export-get-reference headline info))
                       (org-element-property <span style="color: #EB64B9;">:ID</span> headline)))
               (link (<span style="color: #40B4C4;">if</span> id
                         (format <span style="color: #B4DCE7;">"&lt;a href=\"#%s\"&gt;%s&lt;/a&gt;"</span> id text)
                       text)))
          (org-html-format-headline-default-function todo todo-type priority link tags info))))
</pre>
</div>


</details>

<div style="padding: 1em;background-color: cyan;border-radius: 15px;font-size: 0.9em;"> <h3>Known Issues</h3> 
<ol class="org-ol">
<li><p>
Need to have a custom id declared.
</p>
<div class="org-src-container">
<pre class="src src-org">  :PROPERTIES:
  :CUSTOM_ID: my-header
  :END:
</pre>
</div></li>

<li>Failing headers: <code>* [[link]]</code> nor <code>* ~code~</code> nor <code>* $math$</code>.
<ul class="org-ul">
<li>Any non-link text <i>before</i> it will work:  <code>ok [[link]]</code>.
<ul class="org-ul">
<li>Using Unicode non-breaking space ‚Äò¬†‚Äô is ok.</li>
</ul></li>
<li>Text <i>only after</i> the link is insufficient.</li>
</ul></li>
</ol>

<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         Details on failing headers
                      </font>
                    </strong>
                  </summary>
<p>
<b>Warning:</b> The header cannot already be a link!  Otherwise you get the cryptic and
unhelpful error <code>(wrong-type-argument plistp :section-number)</code>; which then
pollutes the current Emacs session resulting in strange <code>nil</code> errors after <code>C-x
C-s</code>, thereby forcing a full Emacs restart.  Instead, you need at least one
portion of each heading to be not a link.
</p>


</details>

</div>
</div>
</div>
</div>

<div id="outline-container-MathJax-Support" class="outline-2">
<h2 id="MathJax-Support"><span class="section-number-2">8.</span> <a href="#MathJax-Support">MathJax Support &#x2014; \(e^{i \cdot \pi} + 1 = 0\)</a></h2>
<div class="outline-text-2" id="text-MathJax-Support">
<p>
<a id="orgc8d26d3"></a>
</p>

<p>
Org loads the <a href="https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference">MathJax</a> display engine for mathematics whenever users write LaTeX-style math delimited by <code>$...$</code> or by
<code>\[...\]</code>. Here is an example.
</p>

<div style="column-rule-style: none nil;column-count: 2;">
<div style="padding: 1em;background-color: cyan;border-radius: 15px;font-size: 0.9em;"> <h3>Source</h3> 
<div ><pre class="src src-org">\[ p ‚äì q = p \quad ‚â° \quad p ‚äî q = q \label{Golden-Rule}\tag{Golden-Rule}\]

Look at \ref{Golden-Rule}, it says, when specialised to numbers, /the minimum
of two items is the first precisely when the maximum of the two is the second/
---d'uh!
</pre></div>
</div>
<div style="padding: 1em;background-color: cyan;border-radius: 15px;font-size: 0.9em;"> <h3>Result</h3> 
<p>
\[ p ‚äì q = p \quad ‚â° \quad p ‚äî q = q \label{Golden-Rule}\tag{Golden-Rule}\]
</p>

<p>
Look at \ref{Golden-Rule}, it says, when specialised to numbers, <i>the minimum
of two items is the first precisely when the maximum of the two is the second</i>
&#x2014;d'uh!
</p>

</div>
</div>
<br>
<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         The script that Org loads by default
                      </font>
                    </strong>
                  </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span><span style="color: #B4DCE7;">"&lt;script type=\"text/x-mathjax-config\"&gt;</span>
<span class="linenr"> 2: </span><span style="color: #B4DCE7;">    MathJax.Hub.Config({</span>
<span class="linenr"> 3: </span><span style="color: #B4DCE7;">        displayAlign: \"center\",</span>
<span class="linenr"> 4: </span><span style="color: #B4DCE7;">        displayIndent: \"0em\",</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #B4DCE7;">        \"HTML-CSS\": { scale: 100,</span>
<span class="linenr"> 7: </span><span style="color: #B4DCE7;">                        linebreaks: { automatic: \"false\" },</span>
<span class="linenr"> 8: </span><span style="color: #B4DCE7;">                        webFont: \"TeX\"</span>
<span class="linenr"> 9: </span><span style="color: #B4DCE7;">                       },</span>
<span class="linenr">10: </span><span style="color: #B4DCE7;">        SVG: {scale: 100,</span>
<span class="linenr">11: </span><span style="color: #B4DCE7;">              linebreaks: { automatic: \"false\" },</span>
<span class="linenr">12: </span><span style="color: #B4DCE7;">              font: \"TeX\"},</span>
<span class="linenr">13: </span><span style="color: #B4DCE7;">        NativeMML: {scale: 100},</span>
<span class="linenr">14: </span><span style="color: #B4DCE7;">        TeX: { equationNumbers: {autoNumber: \"AMS\"},</span>
<span class="linenr">15: </span><span style="color: #B4DCE7;">               MultLineWidth: \"85%\",</span>
<span class="linenr">16: </span><span style="color: #B4DCE7;">               TagSide: \"right\",</span>
<span class="linenr">17: </span><span style="color: #B4DCE7;">               TagIndent: \".8em\"</span>
<span class="linenr">18: </span><span style="color: #B4DCE7;">             }</span>
<span class="linenr">19: </span><span style="color: #B4DCE7;">});</span>
<span class="linenr">20: </span><span style="color: #B4DCE7;">&lt;/script&gt;</span>
<span class="linenr">21: </span><span style="color: #B4DCE7;">&lt;script type=\"text/javascript\"</span>
<span class="linenr">22: </span><span style="color: #B4DCE7;">        src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML\"&gt;&lt;/script&gt;</span>
<span class="linenr">23: </span><span style="color: #B4DCE7;">"</span>
</pre>
</div>


</details>
</div>

<div id="outline-container-Unicode-Warning" class="outline-3">
<h3 id="Unicode-Warning"><span class="section-number-3">8.1.</span> <a href="#Unicode-Warning">Unicode Warning!</a></h3>
<div class="outline-text-3" id="text-Unicode-Warning">
<p>
<b>We can make an equation ‚Ñ∞ named ùí© and refer to it by ‚Ñí by declaring <code>\[‚Ñ∞ \tag{ùí©}
\label{‚Ñí} \]</code> then refer to it with <code>\ref{‚Ñí}</code>.  <i>However</i>,</b> if ùí© contains Unicode,
then the reference will not generally be ‚Äòclickable‚Äô &#x2014;it wont take you to the
equation's declaration site.  For example, \ref{‚äë-Definition} (<code>‚äë-Definition</code>)
below has Unicode in both its tag and label, and so clicking that link wont go
anywhere, whereas \ref{Order-Definition} has Unicode only in its tag, with the
label being <code>\label{Order-Definition}</code>, and clicking it takes you to the formula.
</p>

<div style="column-rule-style: none nil;column-count: 2;">
<div style="padding: 1em;background-color: cyan;border-radius: 15px;font-size: 0.9em;"> <h3>Source</h3> 
<div ><pre class="src src-org">\[ p ‚äë q \quad ‚â° \quad p ‚äì q = p \tag{‚äë-Definition}\label{‚äë-Definition} \]

\[ p ‚äë q \quad ‚â° \quad p ‚äî q = q \tag{‚äë-Definition}\label{Order-Definition} \]
</pre></div>
</div>
<div style="padding: 1em;background-color: cyan;border-radius: 15px;font-size: 0.9em;"> <h3>Result</h3> 
<p>
\[ p ‚äë q \quad ‚â° \quad p ‚äì q = p \tag{‚äë-Definition}\label{‚äë-Definition} \]
</p>

<p>
\[ p ‚äë q \quad ‚â° \quad p ‚äî q = q \tag{‚äë-Definition}\label{Order-Definition} \]
</p>

</div>
</div>
</div>
</div>

<div id="outline-container-Rule-Resurrection" class="outline-3">
<h3 id="Rule-Resurrection"><span class="section-number-3">8.2.</span> <a href="#Rule-Resurrection">Rule Resurrection</a></h3>
<div class="outline-text-3" id="text-Rule-Resurrection">
<p>
The following rule for anchors <code>a {‚ãØ}</code> resurrects <code>\ref{}</code> calls via MathJax
&#x2014;which <code>org-notes-style</code> kills.
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #40B4C4;">a</span> { <span style="color: #74DFC4;">white-space</span>: pre <span style="color: #EB64B9;">!important</span>; }
</pre>
</div>
</div>
</div>

<div id="outline-container-COMMENT-nice-math-spacing" class="outline-3">
<h3 id="COMMENT-nice-math-spacing"><span class="section-number-3">8.3.</span> <a href="#org67b16e0"><i>Making Math Stick-out with Spacing!</i></a></h3>
<div class="outline-text-3" id="text-COMMENT-nice-math-spacing">
<p>
Notice how the <i>math expressions</i> stick out in these following sentences:
</p>
<ol class="org-ol">
<li>We use \(x\) as the name of the unknown.</li>
<li>The phrase \(‚àÄ x ‚Ä¢ ‚àÉ y ‚Ä¢ x „ÄîR„Äï y\) indicates that relation \(R\) is ‚Äútotal‚Äù.</li>
</ol>

<p>
Nice, the following adds extra whitespace around MathJax,
so that math elements have extra whitespace about them
so as to make them stand-out.
</p>

<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         The script that Org loads by default
                      </font>
                    </strong>
                  </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span><span style="color: #B4DCE7;">"</span>
<span class="linenr"> 2: </span><span style="color: #B4DCE7;">&lt;script type=\"text/x-mathjax-config\"&gt;</span>
<span class="linenr"> 3: </span><span style="color: #B4DCE7;">MathJax.Hub.Config({</span>
<span class="linenr"> 4: </span><span style="color: #B4DCE7;">    \"HTML-CSS\": {</span>
<span class="linenr"> 5: </span><span style="color: #B4DCE7;">        styles: {</span>
<span class="linenr"> 6: </span><span style="color: #B4DCE7;">            \".MathJax nobr\": {</span>
<span class="linenr"> 7: </span><span style="color: #B4DCE7;">                padding: \"0.5em 0.5em\"</span>
<span class="linenr"> 8: </span><span style="color: #B4DCE7;">            },</span>
<span class="linenr"> 9: </span><span style="color: #B4DCE7;">        }</span>
<span class="linenr">10: </span><span style="color: #B4DCE7;">    }</span>
<span class="linenr">11: </span><span style="color: #B4DCE7;">});</span>
<span class="linenr">12: </span><span style="color: #B4DCE7;">&lt;/script&gt;</span>
<span class="linenr">13: </span><span style="color: #B4DCE7;">"</span>
</pre>
</div>


</details>
</div>
</div>
</div>


<div id="outline-container-Arabic-Font-Setup" class="outline-2">
<h2 id="Arabic-Font-Setup"><span class="section-number-2">9.</span> <a href="#Arabic-Font-Setup">Arabic Font Setup</a></h2>
<div class="outline-text-2" id="text-Arabic-Font-Setup">
<p>
I'd like <i>inline</i> Arabic to be displayed using <a href="https://www.amirifont.org/">ÿßŸÑÿÆÿ∑ ÿßŸÑÿßŸîŸÖ€åÿ±€å</a> since that's <a href="http://alhassy.com/arabic-roots#Arabic-Input-Setup">how it looks <i>within</i> Emacs for me.</a>  But, Arabic
within tables should be displayed in a more formal font, Scheherazade, that makes it really clear where letters start
and end, and where the vowels above/below letters are positioned.
</p>

<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         Details
                      </font>
                    </strong>
                  </summary>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #40B4C4;">defun</span> <span style="color: #EB64B9;">blog/css/arabic-font-setup</span> ()
  <span style="color: #919ea7;">"Setup the CSS/HTML required to make my Arabic writing look nice.</span>

<span style="color: #919ea7;">For a one-off use in an article, just place an &#8220;#+html:&#8221; in front of the result</span>
<span style="color: #919ea7;">of this function."</span>

  <span style="color: #B4DCE7;">"</span>
<span style="color: #B4DCE7;">  &lt;link rel='</span><span style="color: #B381C5;">stylesheet</span><span style="color: #B4DCE7;">' href='</span><span style="color: #B381C5;">https://fonts.googleapis.com/css?family=Amiri</span><span style="color: #B4DCE7;">'&gt;</span>
<span style="color: #B4DCE7;">  &lt;style&gt;</span>
<span style="color: #B4DCE7;">     body {font-family: '</span><span style="color: #B381C5;">Amiri</span><span style="color: #B4DCE7;">', sans-serif;}</span>
<span style="color: #B4DCE7;">     table {font-family:  '</span><span style="color: #B381C5;">Scheherazade</span><span style="color: #B4DCE7;">'; font-size: 105%; }</span>
<span style="color: #B4DCE7;">   &lt;/style&gt;"</span>)
</pre>
</div>

<p>
To understand <i>why</i> these styling rules work, see this website:
<a href="https://rtlstyling.com/posts/rtl-styling#handling-fonts">Right-to-left Styling</a>.
</p>


</details>

<br>
<div style="column-rule-style: none nil;column-count: 2;">
<div style="padding: 1em;background-color: white;border-radius: 15px;font-size: 0.9em;"> <h3>Source</h3> 
<div ><pre class="src src-org">For example,
+ Inline: ÿßŸáŸÑÿßŸã Ÿàÿ≥ŸáŸÑÿßŸã
+ Within a table:
    |  ÿßŸáŸÑÿßŸã Ÿàÿ≥ŸáŸÑÿßŸã |
</pre></div>
</div>
<div style="padding: 1em;background-color: white;border-radius: 15px;font-size: 0.9em;"> <h3>Result</h3> 
<p>
For example,
</p>
<ul class="org-ul">
<li>Inline: ÿßŸáŸÑÿßŸã Ÿàÿ≥ŸáŸÑÿßŸã</li>
<li><p>
Within a table:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">ÿßŸáŸÑÿßŸã Ÿàÿ≥ŸáŸÑÿßŸã</td>
</tr>
</tbody>
</table></li>
</ul>

</div>
</div>
<p>
As the above left source demonstrates, unless some explicit action is taken, Arabic fonts are by default rendered
hideously small.
</p>
</div>
</div>

<div id="outline-container-the-name" class="outline-2">
<h2 id="the-name"><span class="section-number-2">10.</span> <a href="#the-name">The name: <a href="https://en.wikipedia.org/wiki/Basmala">al-bas-mala</a></a></h2>
<div class="outline-text-2" id="text-the-name">
<p>
The prefix <i>al</i> is the Arabic definite particle which may correspond to English's <i>the</i>;
whereas <i>basmala</i> refers to a beginning.
</p>

<p>
That is, this is a variation on the traditional <a href="https://en.wikipedia.org/wiki/%22Hello,_World!%22_program">"hello world"</a> ;-)
</p>
</div>
</div>

<div id="outline-container-COMMENT-Using-a-Custom-Domain-alhassy-com" class="outline-2">
<h2 id="COMMENT-Using-a-Custom-Domain-alhassy-com"><a href="#COMMENT-Using-a-Custom-Domain-alhassy-com">Appendix: Using a Custom Domain: <code>alhassy.com</code></a></h2>
<div class="outline-text-2" id="text-COMMENT-Using-a-Custom-Domain-alhassy-com">
<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         Details
                      </font>
                    </strong>
                  </summary>
<ol class="org-ol">
<li>Go to your repo: <a href="https://github.com/alhassy/alhassy.github.io/settings/pages">https://github.com/alhassy/alhassy.github.io/settings/pages</a></li>
<li>Add a <code>Custom Domain</code> such as an ‚Äúapex domain‚Äù like <code>alhassy.com</code> (or a www domain like <code>www.alhassy.com</code>)
<ul class="org-ul">
<li>Apex domains require <code>A</code> records to be setup on your DNS provider.</li>
<li>www domains require <code>CNAME</code> records.</li>
<li>On my DNS provider, I setup both: That way, with or without <code>www.</code>, people will arrive at my blog.</li>
</ul></li>
<li><p>
Go to your DNS provider, and add two records
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-right">Priority</th>
<th scope="col" class="org-left">Content</th>
<th scope="col" class="org-right">TTL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">CNAME</td>
<td class="org-left">www</td>
<td class="org-right">0</td>
<td class="org-left">alhassy.github.io</td>
<td class="org-right">14400</td>
</tr>

<tr>
<td class="org-left">CNAME</td>
<td class="org-left">@</td>
<td class="org-right">0</td>
<td class="org-left">alhassy.github.io</td>
<td class="org-right">14400</td>
</tr>
</tbody>
</table></li>
<li>In a terminal, run: <code>dig www.alhassy.com +nostats +nocomments +nocmd</code>
<ul class="org-ul">
<li>The <code>www.</code> is intentional.</li>
</ul></li>

<li><p>
You should see something like:
</p>
<pre class="example" id="orgd573a3e">
    www.alhassy.com.	14400	IN	CNAME	alhassy.github.io.
    alhassy.github.io.	3600	IN	A	185.199.111.153
    alhassy.github.io.	3600	IN	A	185.199.108.153
    alhassy.github.io.	3600	IN	A	185.199.109.153
    alhassy.github.io.	3600	IN	A	185.199.110.153
</pre>

<p>
This says that it may take 3600 seconds, or 1hour, for the redirect of <code>alhassy.com</code> to
<code>alhassy.github.io</code> to be completed. It may take longer; keep reading.
</p></li>

<li><p>
In your DNS provider, add 4 records, one for each IP Address you got from the <code>dig</code> command.
(These addresses are also on the official Github <a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site">docs</a>).
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-right">Priority</th>
<th scope="col" class="org-right">Content</th>
<th scope="col" class="org-right">TTL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">A</td>
<td class="org-left">@</td>
<td class="org-right">0</td>
<td class="org-right">185.199.108.153</td>
<td class="org-right">14400</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-left">@</td>
<td class="org-right">0</td>
<td class="org-right">185.199.109.153</td>
<td class="org-right">14400</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-left">@</td>
<td class="org-right">0</td>
<td class="org-right">185.199.110.153</td>
<td class="org-right">14400</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-left">@</td>
<td class="org-right">0</td>
<td class="org-right">185.199.111.153</td>
<td class="org-right">14400</td>
</tr>
</tbody>
</table></li>

<li>Run <code>dig alhassy.com +noall +answer -t A</code> and ensure it points to these IP addresses.
<ul class="org-ul">
<li>Notice the lack of a <code>www.</code></li>
</ul></li>

<li>Open an incognito browser, private browsing session, and navigate to <code>alhassy.com</code>.
<ol class="org-ol">
<li>If this redirects to your <code>alhassy.github.io</code> blog, then joy!
<ul class="org-ul">
<li>If the redirect does not happen in your non-incognito browser, just clear your browsing history and try again.</li>
</ul></li>
<li>Otherwise, it may take some time (something like 1/2hour to 3 days) for the DNS propagation
to be completed.
<ul class="org-ul">
<li>You can check the progress by using a <a href="https://www.whatsmydns.net/#A/alhassy.com">service like this</a>.</li>
<li>It took me about 1/2hour for the URL to redirect to my github.io blog.</li>
</ul></li>
</ol></li>
</ol>

<p>
Further resources:
</p>
<ul class="org-ul">
<li><a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site">Managing a custom domain for your GitHub Pages site - GitHub Docs</a></li>
<li><a href="https://richpauloo.github.io/2019-11-17-Linking-a-Custom-Domain-to-Github-Pages/">Linking A Custom Domain To Github Pages</a></li>
</ul>


</details>
</div>
</div>

<p>
<hr><center><a class="tooltip" title="See the colourised Org source of this article; i.e., what I typed to get this nice webpage" href="AlBasmala.org.html"><img
   src="https://img.shields.io/badge/-Source-informational?logo=read-the-docs"></a>&ensp;<a class="tooltip" title="See the various edits to this article over time" href="https://github.com/alhassy/alhassy.github.io/commits/master/posts/AlBasmala.org"><img src="https://img.shields.io/badge/-History-informational?logo=github"></a>
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Amiri'>
  <style>
     body {font-family: 'Amiri', sans-serif;}
     table {font-family:  'Scheherazade'; font-size: 105%; }
   </style><br><a href="https://www.buymeacoffee.com/alhassy"><img src="https://img.shields.io/badge/-buy_me_a%C2%A0coffee-gray?logo=buy-me-a-coffee"></a><br><strong> Generated by Emacs and Org-mode (‚Ä¢ÃÄ·¥ó‚Ä¢ÃÅ)Ÿà </strong><center style="font-size: 12px"> <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"> <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"/> </a> <br/> <span xmlns:dct="https://purl.org/dc/terms/" href="https://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type"> <em>Life & Computing Science</em> </span> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://alhassy.github.io/" property="cc:attributionName" rel="cc:attributionURL"> Musa Al-hassy </a> is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"> Creative Commons Attribution-ShareAlike 3.0 Unported License </a></center></center><div hidden> <div id="postamble" class="status"> </div> </div> 
</p>
</div>
</body>
</html>