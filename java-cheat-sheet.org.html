<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.57 in css mode. -->
<html>
  <head>
    <title>java-cheat-sheet.org</title>
    <style type="text/css">
    <!--
      body {
        color: #7c6f64;
        background-color: #fbf1c7;
      }
      .bold {
        /* bold */
        font-weight: bold;
      }
      .builtin {
        /* font-lock-builtin-face */
        color: #7c6f64;
        font-weight: bold;
      }
      .c-annotation {
        /* c-annotation-face */
        color: #076678;
        font-weight: bold;
      }
      .comment {
        /* font-lock-comment-face */
        color: #a89984;
      }
      .comment-delimiter {
        /* font-lock-comment-delimiter-face */
        color: #a89984;
      }
      .constant {
        /* font-lock-constant-face */
        color: #076678;
        font-weight: bold;
      }
      .custom {
        /* (:foreground "#afd8af") */
        color: #afd8af;
      }
      .custom-1 {
        /* (:foreground "#cc9393") */
        color: #cc9393;
      }
      .custom-2 {
        /* (:foreground "#dc8cc3") */
        color: #dc8cc3;
      }
      .doc {
        /* font-lock-doc-face */
        color: #689d6a;
      }
      .flyspell-duplicate {
        /* flyspell-duplicate */
        text-decoration: underline;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #076678;
      }
      .hl-todo {
        /* hl-todo */
        color: #cc9393;
        font-weight: bold;
      }
      .italic {
        /* italic */
        font-style: italic;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #98971a;
        font-weight: bold;
      }
      .org-block {
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #a89984;
        font-style: italic;
        text-decoration: underline;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #a89984;
        font-style: italic;
        text-decoration: overline;
      }
      .org-code {
        /* org-code */
        color: #a89984;
      }
      .org-document-info {
        /* org-document-info */
        color: #7c6f64;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #a89984;
      }
      .org-document-title {
        /* org-document-title */
        color: #665c54;
        font-size: 130%;
        font-weight: bold;
      }
      .org-done {
        /* org-done */
        color: #98971a;
        font-weight: bold;
      }
      .org-drawer {
        /* org-drawer */
        color: #689d6a;
      }
      .org-headline-done {
        /* org-headline-done */
        color: #98971a;
      }
      .org-hide {
        /* org-hide */
        color: #fbf1c7;
      }
      .org-inline-src-block {
      }
      .org-latex-and-related {
        /* org-latex-and-related */
        color: #8b4513;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #af3a03;
        font-size: 130%;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #98971a;
        font-size: 120%;
      }
      .org-level-3 {
        /* org-level-3 */
        color: #076678;
        font-size: 114%;
      }
      .org-link {
        /* org-link */
        color: #b57614;
        font-weight: bold;
        text-decoration: underline;
      }
      .org-list-dt {
        /* org-list-dt */
        font-weight: bold;
      }
      .org-macro {
        /* org-macro */
        color: #a89984;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #a89984;
        font-style: italic;
      }
      .org-property-value {
      }
      .org-quote {
      }
      .org-special-keyword {
        /* org-special-keyword */
        color: #a89984;
        font-weight: bold;
      }
      .org-table {
        /* org-table */
        color: #98971a;
      }
      .org-tag {
        /* org-tag */
        font-weight: bold;
      }
      .org-todo {
        /* org-todo */
        color: #689d6a;
        font-weight: bold;
      }
      .org-verbatim {
        /* org-verbatim */
        color: #a89984;
      }
      .shadow {
        /* shadow */
        color: #a89984;
      }
      .string {
        /* font-lock-string-face */
        color: #689d6a;
      }
      .type {
        /* font-lock-type-face */
        color: #b57614;
      }
      .underline {
        /* underline */
        text-decoration: underline;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #076678;
      }
      .warning {
        /* font-lock-warning-face */
        color: #af3a03;
        font-weight: bold;
      }
      .writegood-duplicates {
        /* writegood-duplicates-face */
        text-decoration: underline;
      }
      .writegood-passive-voice {
        /* writegood-passive-voice-face */
        text-decoration: underline;
      }
      .writegood-weasels {
        /* writegood-weasels-face */
        text-decoration: underline;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-document-info-keyword">#+title:</span> <span class="org-document-title">Java </span><span class="org-document-title"><span class="flyspell-duplicate">CheatSheet</span></span><span class="org-document-title">
</span><span class="comment"># +subtitle: /---An Old-School-Cool Language---/</span>
<span class="org-meta-line">#+macro: blurb Quick reference for an old-school-cool high-level language ^_^</span>
<span class="org-document-info-keyword">#+author:</span> <span class="org-document-info">Musa Al-hassy
</span><span class="org-document-info-keyword">#+email:</span> <span class="org-document-info">alhassy@gmail.com
</span><span class="org-meta-line">#+property: header-args :results none :exports code :eval never-export</span>
<span class="org-meta-line">#+filetags: java cheat-sheet</span>
<span class="org-meta-line">#+fileimage: modern-java.png </span><span class="org-meta-line"><span class="writegood-duplicates">88% 88%</span></span>
<span class="org-meta-line">#+description: Quick reference for an old-school-cool high-level language ^_^</span>

<span class="org-meta-line">#+macro: src @@latex: \mintinline{java}{$1}@@ @@html: &lt;code class="</span><span class="org-meta-line"><span class="writegood-duplicates">src src</span></span><span class="org-meta-line">-java"&gt;&lt;span style="color: #98971a; font-weight: bold;"&gt;$1&lt;/span&gt;&lt;/code&gt;@@</span>

<span class="comment"># </span><span class="comment"><span class="hl-todo"><span class="custom-2">MA</span></span></span><span class="comment">: Remember to invoke &#8220;blog/preview/disable&#8221; before running &#8220;C-</span><span class="comment"><span class="writegood-duplicates">c C</span></span><span class="comment">-e l o&#8221;!</span>
<span class="comment"># </span><span class="comment"><span class="hl-todo"><span class="custom-2">MA</span></span></span><span class="comment">: Comment-out #+date for PDF generation.</span>
<span class="comment"># +date: &lt;2023-05-10 Wed&gt;</span>
<span class="comment">#</span>
<span class="comment"># </span><span class="comment"><span class="hl-todo"><span class="custom-2">MA</span></span></span><span class="comment">: Comment-out the #+include for HTML Generation</span>
<span class="comment"># +include: CheatSheet/CheatSheetSetup.org</span>

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Stuff to relocate to AlBasmal.org </span><span class="org-level-1"><span class="org-tag">:noexport:</span></span>

<span class="org-meta-line">#+macro: begin-ignore-html #+html: &lt;!--</span>
<span class="org-meta-line">#+macro: end-ignore-html #+html: --&gt;</span>

<span class="org-special-keyword">:details:</span> <span class="org-property-value">makes a &lt;details&gt; block in HTML, and produces no contents in LaTeX.</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">org-deftag</span></span><span class="org-block"> details (anchor color)
   </span><span class="org-block"><span class="string">"HTML export a heading as if it were a &lt;details&gt; block; ANCHOR &amp; COLOR are optional
   arguments indicating the anchor for this block as well as the background colour of the resulting block.

For example, in my blog, I would use :details_rememberthis_#F47174: to mark a section as
friendly-soft-red to denote it as an &#8220;advanced&#8221; content that could </span></span><span class="org-block"><span class="string"><span class="writegood-passive-voice">be ignored</span></span></span><span class="org-block"><span class="string">
on a first reading of my article.
Incidentally, `</span></span><span class="org-block"><span class="string"><span class="constant">orange</span></span></span><span class="org-block"><span class="string">' and `#f2b195' are also nice &#8216;</span></span><span class="org-block"><span class="string"><span class="constant">warning</span></span></span><span class="org-block"><span class="string">&#8217; colours.

Sections with this tag are </span></span><span class="org-block"><span class="string"><span class="writegood-weasels">simply</span></span></span><span class="org-block"><span class="string"> hidden for LaTeX exports.
"</span></span><span class="org-block">
   (insert </span><span class="org-block"><span class="string">"\n#+latex: \\iffalse \n#+html:"</span></span><span class="org-block">
           (format </span><span class="org-block"><span class="string">"&lt;div&gt;%s &lt;details class=\"float-child\" style=\"background-color: %s\"&gt;"</span></span><span class="org-block">
                   (</span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> anchor (format </span><span class="org-block"><span class="string">"&lt;a style=\"width: 1%%;float: left; padding: 0px\" id=\"%s\" href=\"#%s\"&gt;&#128279;&lt;/a&gt;"</span></span><span class="org-block"> </span><span class="org-block"><span class="writegood-duplicates">anchor anchor</span></span><span class="org-block">) </span><span class="org-block"><span class="string">""</span></span><span class="org-block">)
                   color)
           </span><span class="org-block"><span class="string">"&lt;summary&gt; &lt;strong&gt; &lt;font face=\"Courier\" size=\"3\" color=\"green\"&gt;"</span></span><span class="org-block">
           (s-replace-regexp </span><span class="org-block"><span class="string">"^</span></span><span class="org-block"><span class="string"><span class="warning">\</span></span></span><span class="org-block"><span class="string">** "</span></span><span class="org-block"> </span><span class="org-block"><span class="string">""</span></span><span class="org-block"> o-heading)
           </span><span class="org-block"><span class="string">"&lt;/font&gt; &lt;/strong&gt; &lt;/summary&gt;"</span></span><span class="org-block">)
   (org-next-visible-heading 1)
   (insert </span><span class="org-block"><span class="string">"#+html: &lt;/details&gt; &lt;/div&gt; \n#+latex: \\fi\n"</span></span><span class="org-block">))
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-special-keyword">:centerline:</span> <span class="org-property-value">Centerlines a section's title (LaTeX only)</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">org-deftag</span></span><span class="org-block"> centerline (NO_ARGS) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="warning"><span class="hl-todo"><span class="custom-1"><span class="hl-todo"><span class="custom-1">TODO</span></span></span></span></span></span><span class="org-block"><span class="comment">: </span></span><span class="org-block"><span class="warning"><span class="hl-todo"><span class="custom-1"><span class="hl-todo"><span class="custom-1">FIXME</span></span></span></span></span></span><span class="org-block"><span class="comment">: The org-deftag macro requires there to be at least one arg, due to how args </span></span><span class="org-block"><span class="comment"><span class="writegood-passive-voice">are looked</span></span></span><span class="org-block"><span class="comment">-up. Fix that to avoid creating a &#8220;let&#8221; when there are no args!
</span></span><span class="org-block">   </span><span class="org-block"><span class="string">"Centerlines a section's title (LaTeX only); otherwise the title </span></span><span class="org-block"><span class="string"><span class="writegood-passive-voice">is left</span></span></span><span class="org-block"><span class="string"> alone for non-LaTeX backends."</span></span><span class="org-block">
   </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">WARNING: There cannot be a space between &#8220;\n%s&#8221; otherwise Org wont recognise the section heading.
</span></span><span class="org-block">   (insert (format </span><span class="org-block"><span class="string">"\n#+latex: \\textbf{\\centerline{%s}} \\iffalse \n%s \n#+latex: \\fi \n"</span></span><span class="org-block">
                   (s-replace-regexp </span><span class="org-block"><span class="string">"^</span></span><span class="org-block"><span class="string"><span class="warning">\</span></span></span><span class="org-block"><span class="string">** "</span></span><span class="org-block"> </span><span class="org-block"><span class="string">""</span></span><span class="org-block"> o-heading)
                   o-heading)))
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-special-keyword">:noexport_BACKEND:</span> <span class="org-property-value">noexport's a section's title for a given backend</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">org-deftag</span></span><span class="org-block"> noexport (backend)
   </span><span class="org-block"><span class="string">"noexports a section's title for a given backend (defaulting to HTML)."</span></span><span class="org-block">
   (</span><span class="org-block"><span class="keyword">unless</span></span><span class="org-block"> backend (</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> backend </span><span class="org-block"><span class="string">"html"</span></span><span class="org-block">))
   (</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> (begin-ignore end-ignore)
     (</span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (equal backend </span><span class="org-block"><span class="string">"pdf"</span></span><span class="org-block">)
         (</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> begin-ignore </span><span class="org-block"><span class="string">"\\iffalse"</span></span><span class="org-block"> end-ignore </span><span class="org-block"><span class="string">"\\fi"</span></span><span class="org-block">))
     (</span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (equal backend </span><span class="org-block"><span class="string">"html"</span></span><span class="org-block">)
         (</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> begin-ignore </span><span class="org-block"><span class="string">"&lt;!--"</span></span><span class="org-block"> end-ignore </span><span class="org-block"><span class="string">"--&gt;"</span></span><span class="org-block">))
   (insert (format </span><span class="org-block"><span class="string">"\n#+%s: %s\n"</span></span><span class="org-block"> backend begin-ignore))
   (insert o-heading)
   (org-next-visible-heading 1)
   (insert (format </span><span class="org-block"><span class="string">"\n#+%s: %s\n"</span></span><span class="org-block"> backend end-ignore))))
</span><span class="org-block-end-line">#+end_src
</span>
<span class="comment"># Remove a org-deftag via</span>
<span class="comment"># (pop org-export-before-parsing-hook)</span>
<span class="comment"># Make this into a macro: org-deftag-remove</span>

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Additions to AlBasmala</span>
<span class="org-drawer">:Add_to_AlBasmala:</span>
Speaking of local variables, let's always load ones we've already marked as safe
---see the bottom of the source of this file for an example of local variables.
( At one point, all my files had locals! )
<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp :tangle no
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> enable-local-variables </span><span class="org-block"><span class="builtin">:safe</span></span><span class="org-block">)
</span><span class="org-block-end-line">#+END_SRC
</span><span class="org-drawer">:End:</span>

<span class="comment"># </span><span class="comment"><span class="hl-todo"><span class="custom-1">TODO</span></span></span><span class="comment">: AlBasmala's blog/publish-current-article should ensure I'm in the doom-solarized theme, since the current Emacs theme influences the HTML colouring used for code blocks.</span>

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Colourful Source Blocks        </span><span class="org-level-1"><span class="org-tag">:update_init_with_new_info_if_need_be:</span></span>

brew install pygments

<span class="comment"># Then alter path, eg in ~/.zshrc, so that the required Python version for Pygments is accessible.</span>
export PATH="/opt/homebrew/opt/python@3.11/bin/python3.11:$PATH"

--------------------------------------------------------------------------------

  Invoke the following with <span class="org-code">C-</span><span class="org-code"><span class="writegood-duplicates">c C</span></span><span class="org-code">-c</span>, or better yet place it in your <span class="org-link"><a href="https://alhassy.github.io/init/">Emacs configuration</a></span>,
  to ensure references <span class="writegood-passive-voice">are picked</span> up and source code highlighting <span class="writegood-passive-voice">is turned</span> on
  using the Minted package ---which in turn requires the pygmentize system tool.

<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> org-latex-listings 'minted
      org-latex-packages-alist '((</span><span class="org-block"><span class="string">""</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"minted"</span></span><span class="org-block">))
      org-latex-pdf-process
      '(</span><span class="org-block"><span class="string">"pdflatex -shell-escape -output-directory %o %f"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"biber %b"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"pdflatex -shell-escape -output-directory %o %f"</span></span><span class="org-block">
        </span><span class="org-block"><span class="string">"pdflatex -shell-escape -output-directory %o %f"</span></span><span class="org-block">))
</span><span class="org-block-end-line">#+END_SRC
</span>
For faster pdf generation, consider invoking:

<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> org-latex-pdf-process
      '(</span><span class="org-block"><span class="string">"pdflatex -interaction nonstopmode -output-directory %o %f"</span></span><span class="org-block">))
</span><span class="org-block-end-line">#+END_SRC
</span>
By default, Org exports LaTeX using the <span class="org-code">nonstopmode</span> option,
which tries its best to produce a PDF
---which ignores typesetting errors altogether,
and therefore is not necessarily ideal when using LaTeX.

<span class="org-level-1">* LaTeX Extra, Local, Setup  </span><span class="org-level-1"><span class="org-tag">:ignore:</span></span>

<span class="comment"># Empty by default.</span>
<span class="org-meta-line">#+LATEX_HEADER: \def\cheatsheeturl{<a href="http://alhassy.com/java-cheat-sheet">http://alhassy.com/java-cheat-sheet</a>}</span>

<span class="comment"># The following are the defaults &amp; may </span><span class="comment"><span class="writegood-passive-voice">be omitted</span></span><span class="comment">.</span>
<span class="org-meta-line">#+LATEX_HEADER: \def\cheatsheetcols{2}</span>
<span class="org-meta-line">#+LATEX_HEADER: \landscapetrue</span>
<span class="org-meta-line">#+LATEX_HEADER: \def\cheatsheetitemsep{-0.5em}</span>

<span class="comment"># Example unicode declarations; see section &#8220;unicode&#8221; below.</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#119931;}{\ensuremath{T}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#8853;}{\ensuremath{\oplus}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#8776;}{\ensuremath{\approx}}</span>

<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#119978;}{\ensuremath{\mathcal{O}}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#120008;}{\ensuremath{\mathcal{s}}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#120013;}{\ensuremath{x}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#120014;}{\ensuremath{y}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#696;}{\ensuremath{^y}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#10214;}{\ensuremath{\llbracket}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#10215;}{\ensuremath{\rrbracket}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#8319;}{\ensuremath{^n}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#185;}{\ensuremath{^1}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#8304;}{\ensuremath{^0}}</span>
<span class="org-meta-line">#+LATEX_HEADER: \newunicodechar{&#8332;}{\ensuremath{_=}}</span>

<span class="org-meta-line">#+latex_header: \usepackage{tcolorbox}</span>

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Contents </span><span class="org-level-1"><span class="org-tag">:TOC:QUOTE:myIgnore:</span></span>
<span class="org-block-begin-line">#+BEGIN_QUOTE
</span><span class="org-quote">- </span><span class="org-quote"><span class="org-link"><a href="#extra-local-setup">Extra, Local, Setu</a><a href="#extra-local-setup">p</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#project-goal">Project Goa</a><a href="#project-goal">l</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#cheatsheet-examples">CheatSheet Example</a><a href="#cheatsheet-examples">s</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#why-learn--relearn">Why Learn &amp; Relearn</a><a href="#why-learn--relearn">?</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#getting-started">Getting Starte</a><a href="#getting-started">d</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#what-if-its-not-good-enough">What if it's not good enough</a><a href="#what-if-its-not-good-enough">?</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#what-if-i-want-n-columns-or-non-landscape-or-multiple-formats">What if I want</a><a href="#what-if-i-want-n-columns-or-non-landscape-or-multiple-formats"> </a></span></span><span class="org-quote"><span class="org-link"><span class="org-code"><a href="#what-if-i-want-n-columns-or-non-landscape-or-multiple-formats">N</a></span></span></span><span class="org-quote"><span class="org-link"><a href="#what-if-i-want-n-columns-or-non-landscape-or-multiple-formats"> </a><a href="#what-if-i-want-n-columns-or-non-landscape-or-multiple-formats">columns? Or non-landscape? Or multiple formats</a><a href="#what-if-i-want-n-columns-or-non-landscape-or-multiple-formats">?</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#colourful-source-blocks">Colourful Source Block</a><a href="#colourful-source-blocks">s</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#break">brea</a><a href="#break">k</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#basic-equational-support">Basic Equational Suppor</a><a href="#basic-equational-support">t</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#unicode">Unicod</a><a href="#unicode">e</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#parallel-environment">Parallel Environmen</a><a href="#parallel-environment">t</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#break-1">brea</a><a href="#break-1">k</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#subsection-support">Subsection Suppor</a><a href="#subsection-support">t</a></span></span><span class="org-quote">
  - </span><span class="org-quote"><span class="org-link"><a href="#a-new-child-tree">A new child tre</a><a href="#a-new-child-tree">e</a></span></span><span class="org-quote">
  - </span><span class="org-quote"><span class="org-link"><a href="#another-child-tree">Another child tre</a><a href="#another-child-tree">e</a></span></span><span class="org-quote">
- </span><span class="org-quote"><span class="org-link"><a href="#making-readmeorg">Making ~README.org</a><a href="#making-readmeorg">~</a></span></span><span class="org-quote">
</span><span class="org-block-end-line">#+END_QUOTE
</span>
<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> OG CheatSheet notes</span>
<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-level-2"><span class="org-code">LaTeX</span></span><span class="org-level-2"> commands &#8614; </span><span class="org-level-2"><span class="org-code">#+latex: \LaTeX</span></span>

  Execute the following block, with <span class="org-code">C-</span><span class="org-code"><span class="writegood-duplicates">c C</span></span><span class="org-code">-c</span> anywhere inside it,
  to hide all LaTeX specific items away so that, for example, the generated HTML
  does not show them.

<span class="org-block-begin-line">  #+BEGIN_SRC emacs-lisp :results no
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">defun</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">my/replace-in-buffer</span></span><span class="org-block"> (this that)
  </span><span class="org-block"><span class="doc">"Replace every occurance of regexp &#8216;</span></span><span class="org-block"><span class="doc"><span class="constant">this</span></span></span><span class="org-block"><span class="doc">&#8217; with &#8216;</span></span><span class="org-block"><span class="doc"><span class="constant">that</span></span></span><span class="org-block"><span class="doc">&#8217;
   in the current buffer."</span></span><span class="org-block">
   (</span><span class="org-block"><span class="keyword">interactive</span></span><span class="org-block">)
   (</span><span class="org-block"><span class="keyword">save-excursion</span></span><span class="org-block">
    (beginning-of-buffer)
    (</span><span class="org-block"><span class="keyword">while</span></span><span class="org-block"> (re-search-forward this nil t)
      (replace-match that)
    ))
)

</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">Replace newline, any number of space, then room or vspace with a #+latex: beforehand.
</span></span><span class="org-block">(</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> (this that)
  (</span><span class="org-block"><span class="keyword">dolist</span></span><span class="org-block"> (kp '( ( </span><span class="org-block"><span class="string">"^[ ]*\\\\room"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"#+latex: \\\\room"</span></span><span class="org-block">)
         ( </span><span class="org-block"><span class="string">"^[ ]*\\\\vspace"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"#+latex: \\\\vspace"</span></span><span class="org-block">)
         ( </span><span class="org-block"><span class="string">"^[ ]*\\\\newpage"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"#+latex: \\\\newpage"</span></span><span class="org-block">)
         ( </span><span class="org-block"><span class="string">"^[ ]*\\\\columnbreak"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"#+latex: \\\\columnbreak"</span></span><span class="org-block">)
         ))
    (</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> this (car kp))
    (</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> that (cdr kp))
    (my/replace-in-buffer this that)
   )
)
</span><span class="org-block-end-line">  #+END_SRC
</span>
<span class="org-meta-line">  #+RESULTS:</span>

<span class="org-hide">*</span><span class="org-level-2">* Project Goal</span>

<span class="org-meta-line">  #+latex:  \hspace{-12pt}</span>
  <span class="italic">Use the elegant &amp; intuitive Org-mode syntax to produce exquisite reference sheets.</span>

    - For example, the boxed section headers here <span class="writegood-passive-voice">are produced</span> from usual Org headers,
      as in <span class="org-code">* my section</span>; and one may use <span class="org-link"><a href="https://github.com/jkitchin/org-ref">org-ref</a></span> for citations, as in nameref:name

<span class="org-meta-line">    #+latex: \vspace{-1em}</span>
    Read <span class="org-link"><a href="https://orgmode.org/worg/org-tutorials/org4beginners.html">Org-mode for beginners</a></span> for a refresher!
    - For more see <span class="org-link"><a href="https://orgmode.org/orgguide.pdf">The Compact Org-mode Guide</a></span>.

  Execute <span class="org-code">C-</span><span class="org-code"><span class="writegood-duplicates">c C</span></span><span class="org-code">-e l o</span> or <span class="org-code">M-x compile</span> to produce a nice looking PDF of your reference sheet.
<span class="comment">  # \newline</span>
<span class="comment">  # I've bound the latter command to ~C-</span><span class="comment"><span class="writegood-duplicates">c C</span></span><span class="comment">-m~ in <a href="https://github.com/alhassy/emacs.d">my Emacs setup</a> ;-)</span>

<span class="org-meta-line">#+latex: \vspace{-0em}</span>
<span class="org-block-begin-line">#+begin_center
</span><span class="italic">To learn more, manipulating this source is the way to go!</span>
<span class="org-block-end-line">#+end_center
</span>
<span class="org-drawer">:myIgnore:</span>
<span class="org-meta-line">#+latex: \vspace{1em}</span>
Also, opening this file produces a <span class="org-code">README.md</span> ;-)
Which can then <span class="writegood-passive-voice">be regenerated</span> on-demand with <span class="org-code">f11</span>.
<span class="org-drawer">:End:</span>

<span class="org-hide">**</span><span class="org-level-3">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-3"> Org-mode Basics</span>

 Read <span class="org-link"><a href="https://orgmode.org/worg/org-tutorials/org4beginners.html">Org-mode for beginners</a></span> for a refresher!
   - For more see <span class="org-link"><a href="https://orgmode.org/orgguide.pdf">The Compact Org-mode Guide</a></span>.

<span class="org-meta-line"> #+latex: \vspace{1em}</span>

 + <span class="org-list-dt">Reloading ::</span> To reload a file with updated org settings, press
  <span class="org-code">C-</span><span class="org-code"><span class="writegood-duplicates">c C</span></span><span class="org-code">-c</span> on a settings line --i.e., one beginning with a <span class="org-code">#+</span>, to reset the
   temporary file cache.

 + <span class="org-list-dt">Inclusion ::</span> During export, you can include the content of another file.
   - Syntax: <span class="org-code">#+INCLUDE: "&#10216;fileName&#10217;" [&#10216;markup&#10217; [&#10216;language&#10217;]]</span>
     * <span class="org-code">markup ::= src | example</span>
     * <span class="org-code">language ::= C | haskell | emacs-lisp | &#8943;</span>
     * If the markup is not given, the text will <span class="writegood-passive-voice">be assumed</span> to be in
       Org mode format and will <span class="writegood-passive-voice">be processed</span> normally; c.f., <span class="org-link"><a href="https://orgmode.org/manual/In_002dbuffer-settings.html">Setup files</a></span>.

   - To visit the file, <span class="org-code">C-c '</span> while the cursor is on the line with the file name.

   - Include only portions of a file by appending with <span class="org-code">:lines "x-y"</span> where <span class="org-code">x</span> is the first
     line and <span class="org-code">y</span> is the second-to-last line. Also <span class="org-code">"-y"</span> for upto but not including line <span class="org-code">y</span>,
     and <span class="org-code">"x-"</span> for taking line <span class="org-code">x</span> until the end of the file.
<span class="comment">      # - Include portions of a file: <a href="https://orgmode.org/manual/Include-files.html">https://orgmode.org/manual/Include-files.html</a></span>

<span class="org-hide">*</span><span class="org-level-2">* What if I want </span><span class="org-level-2"><span class="org-code">N</span></span><span class="org-level-2"> columns? Or non-landscape? Or multiple formats?</span>

 At the top, say after the <span class="org-code">#+INCLUDE: CheatSheet/CheatSheetSetup.org</span> line, add
 the following.

<span class="org-block-begin-line">#+BEGIN_EXAMPLE org :tangle no
</span><span class="org-block">,#+LATEX_HEADER: \def\cheatsheetcols{N}
,#+LATEX_HEADER: \landscapefalse
</span><span class="org-block-end-line">#+END_EXAMPLE
</span>
For example, having three narrow columns is useful for term-heavy or formula heavy sheets.
In contrast, dense sheets may appear less daunting when rendered as single-column in portrait.
Sometimes a double-column portrait is more appropriate.

Press <span class="org-code">C-</span><span class="org-code"><span class="writegood-duplicates">c C</span></span><span class="org-code">-c</span> on the following incantation to produce a single column portrait of the cheat sheet.
<span class="org-meta-line">#+name: make-portrait</span>
<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp :results none
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">with-temp-buffer</span></span><span class="org-block">
    (insert
    </span><span class="org-block"><span class="string">"#+EXPORT_FILE_NAME: CheatSheet_Portrait.pdf
     ,#+LATEX_HEADER_EXTRA: \\landscapefalse \\def\\cheatsheetcols{1}
     ,#+INCLUDE: CheatSheet.org
    "</span></span><span class="org-block">)

    (</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> ((org-export-use-babel nil))
      (org-mode)
      (org-latex-export-to-pdf)
      )
)
</span><span class="org-block-end-line">#+END_SRC
</span>
<span class="org-hide">*</span><span class="org-level-2">* spacing break                                             </span><span class="org-level-2"><span class="org-tag">:myIgnore:</span></span>
<span class="org-meta-line">#+latex: \columnbreak</span>
<span class="org-hide">*</span><span class="org-level-2">* spacing break               </span><span class="org-level-2"><span class="org-tag">:accomodating_multiple_formats:myIgnore:</span></span>

<span class="org-meta-line">#+LATEX: \ifnum\cheatsheetcols=1 \newpage \else \columnbreak \fi</span>

<span class="org-hide">*</span><span class="org-level-2">* Unicode</span>

I tend to use a lot of unicode and so this project comes with a unicode
style file. We may add additional support for unicode characters as follows.
<span class="org-block-begin-line">#+BEGIN_EXAMPLE org
</span><span class="org-block">,#+LATEX_HEADER: \newunicodechar{&#8853;}{\ensuremath{\oplus}}
</span><span class="org-block-end-line">#+END_EXAMPLE
</span>
Below we demonstrate that <span class="org-link"><a href="https://frama-c.com/">loops implement finite quantifications</a></span>
by showing how the specification of a loop <span class="writegood-passive-voice">is implemented</span>, unsurprisingly,
using a loop.

<span class="comment"># latex: \vspace{0.3em}</span>
A finite quantification can <span class="writegood-passive-voice">be defined</span> axiomatically
by the empty-range rule and split-off term rules.
Together these form a recursive definition which can <span class="writegood-passive-voice">be phrased</span> as a loop.
<span class="comment">#</span>
<span class="org-block-begin-line">#+begin_parallel org
</span><span class="org-block"><span class="org-block-begin-line">#+BEGIN_SRC c
</span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">/ </span></span></span><span class="org-block"><span class="org-block"><span class="comment">For &#8853; : &#119931; &#8594; &#119931; &#8594; &#119931;,
</span></span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">/ </span></span></span><span class="org-block"><span class="org-block"><span class="comment">fold(A,a,b) &#8776; (&#8853; x:a..b-1 &#8226; A[x])
</span></span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">/*</span></span></span><span class="org-block"><span class="org-block"><span class="comment">@ axiomatic Fold {
  @
  @ logic &#119931;
  @   fold{L}(&#119931; *A, &#8484; a, &#8484; b)
  @   reads a,b,A, A[..] ;
  @
  </span></span></span><span class="org-block"><span class="org-block"><span class="warning">@ axiom foldEmptyRange{L} </span></span></span><span class="org-block"><span class="org-block"><span class="comment">:
  @   &#8704; &#119931; *A, &#8484; a, b; a &#8805; b
  @   &#8658;  fold(A,a,b) &#8801; identity(&#8853;);
  @
  </span></span></span><span class="org-block"><span class="org-block"><span class="warning">@ axiom foldSplitOffTerm{L} </span></span></span><span class="org-block"><span class="org-block"><span class="comment">:
  @   &#8704; &#119931; *A, &#8484; a, b; a &#8804; b
  @   &#8658;     fold(A, a, b+1)
  @        &#8801; fold(A, a, b  ) &#8853; A[b];
  @ }
  @</span></span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">*/</span></span></span><span class="org-block"><span class="org-block">
</span></span><span class="org-block"><span class="org-block-end-line">#+END_SRC
</span></span><span class="org-block"><span class="org-meta-line">#+latex: \columnbreak</span></span><span class="org-block">
</span><span class="org-block"><span class="org-block-begin-line">#+BEGIN_SRC c
</span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">/*</span></span></span><span class="org-block"><span class="org-block"><span class="comment">@ requires \valid(A+(0..N-1));
  @ assigns \nothing;
  @ ensures \result &#8801; fold(A,0,N);
  @</span></span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">*/</span></span></span><span class="org-block"><span class="org-block">
</span></span><span class="org-block"><span class="org-block"><span class="type">&#119931;</span></span></span><span class="org-block"><span class="org-block"> </span></span><span class="org-block"><span class="org-block"><span class="function-name">fold</span></span></span><span class="org-block"><span class="org-block">(</span></span><span class="org-block"><span class="org-block"><span class="type">int</span></span></span><span class="org-block"><span class="org-block"> </span></span><span class="org-block"><span class="org-block"><span class="variable-name">N</span></span></span><span class="org-block"><span class="org-block">, </span></span><span class="org-block"><span class="org-block"><span class="type">&#119931;</span></span></span><span class="org-block"><span class="org-block">* </span></span><span class="org-block"><span class="org-block"><span class="variable-name">A</span></span></span><span class="org-block"><span class="org-block">) {

    </span></span><span class="org-block"><span class="org-block"><span class="type">&#119931;</span></span></span><span class="org-block"><span class="org-block"> </span></span><span class="org-block"><span class="org-block"><span class="variable-name">total</span></span></span><span class="org-block"><span class="org-block"> = identity(&#8853;);

    </span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">/*</span></span></span><span class="org-block"><span class="org-block"><span class="comment">@ loop invariant
             0 &#8804; n &#8804; N
          &#8743;  total &#8801; fold(A,0,n);
      @ loop assigns n, total;
      @ loop variant N - n;
    ,</span></span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">*/</span></span></span><span class="org-block"><span class="org-block">
    </span></span><span class="org-block"><span class="org-block"><span class="keyword">for</span></span></span><span class="org-block"><span class="org-block">(</span></span><span class="org-block"><span class="org-block"><span class="type">int</span></span></span><span class="org-block"><span class="org-block"> </span></span><span class="org-block"><span class="org-block"><span class="variable-name">n</span></span></span><span class="org-block"><span class="org-block"> = 0; n != N; n++)
      total = total &#8853; A[n];
    </span></span><span class="org-block"><span class="org-block"><span class="keyword">return</span></span></span><span class="org-block"><span class="org-block"> total;
}
</span></span><span class="org-block"><span class="org-block-end-line">#+END_SRC
</span></span><span class="org-block-end-line">#+end_parallel
</span>
<span class="org-meta-line">#+latex: \vspace{-0.5em}</span>

This pseudo-code <span class="writegood-passive-voice">is reified</span> by giving concrete values
for <span class="org-code">(&#119931;, &#8853;, identity)</span> such as <span class="org-code">(int, +, 0)</span> or <span class="org-code">(bool, ||, false)</span>.
Any <span class="org-link"><a href="https://en.wikipedia.org/wiki/Monoid">monoid</a></span> will do.

<span class="comment"># We can accomodate for multiple formats.</span>
<span class="org-meta-line">#+LATEX: \ifnum\cheatsheetcols=1 \newpage \else \fi</span>

<span class="org-hide">*</span><span class="org-level-2">* Subsection Support</span>
  Ideally a cheat sheet is not too hierarchical and so a subsection, as in <span class="org-code">** child</span>,
  <span class="writegood-passive-voice">is turned</span> into a rule as follows.

<span class="org-hide">**</span><span class="org-level-3">* A new child tree</span>

  Here is the first child's content.


<span class="org-hide">**</span><span class="org-level-3">* Another child tree</span>

  Here is the sibling's content.

<span class="org-hide">*</span><span class="org-level-2">* spacing COMMENT vfill                                             </span><span class="org-level-2"><span class="org-tag">:myIgnore:</span></span>
\vfill

<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-2"> Negative space                                            </span><span class="org-level-2"><span class="org-tag">:myIgnore:</span></span>
<span class="org-meta-line">#+latex: \vspace{-1em}</span>
<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Emacs Java Repl</span>

(use-package repl-driven-development)

;; Set &#8220;C&#173;x C&#173;j&#8221; to evaluate Java code in a background REPL.
(repl-driven-development [C-x C-j]
                         "jshell --enable-preview -R -ea" ;; enable assertions!
                         :prompt "jshell&gt;")

// Select this Java snippet, then press &#8220;C&#173;x C&#173;j&#8221; to evaluate it
import javax.swing.*;
var frame = new JFrame(){{ setAlwaysOnTop(true); }};
JOptionPane.showMessageDialog(frame, "Super nice!");

<span class="italic">/ REPL result values </span><span class="italic"><span class="writegood-passive-voice">are shown</span></span><span class="italic"> as overlays:
2 + 4 /</span> &#8658; 6

<span class="org-link"><a href="https://github.com/alhassy/repl-driven-development/blob/main/repl-driven-development.el#L31-L44">https://github.com/alhassy/repl-driven-development/blob/main/repl-driven-development.el#L31-L44</a></span>

<span class="org-level-1">* Abstract                                                           </span><span class="org-level-1"><span class="org-tag">:ignore:</span></span>
<span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">Abstract</span>
<span class="org-drawer">:END:</span>

<span class="org-block-begin-line">#+begin_center
</span>#+html: This is a quick reference of concepts in modern Java.

<a href="badge:PDF|colorful_cheat_sheet|success|https://alhassy.com/java-cheat-sheet.pdf|read-the-docs">badge:PDF|colorful_cheat_sheet|success|https://alhassy.com/java-cheat-sheet.pdf|read-the-docs</a>

# <a href="badge:license|GNU_3|informational|https://www.gnu.org/licenses/gpl-3.0.en.html|read-the-docs">badge:license|GNU_3|informational|https://www.gnu.org/licenses/gpl-3.0.en.html|read-the-docs</a>
<a href="tweet:https://alhassy.com/java-cheat-sheet">tweet:https://alhassy.com/java-cheat-sheet</a>
<a href="badge:|buy_me_a_coffee|gray|https://www.buymeacoffee.com/alhassy|buy-me-a-coffee">badge:|buy_me_a_coffee|gray|https://www.buymeacoffee.com/alhassy|buy-me-a-coffee</a>
<a href="badge:contributions|welcome|green|https://github.com/alhassy/alhassy.github.io/issues">badge:contributions|welcome|green|https://github.com/alhassy/alhassy.github.io/issues</a>
# <a href="badge:author|musa_al-hassy|purple|https://alhassy.github.io/|nintendo-3ds">badge:author|musa_al-hassy|purple|https://alhassy.github.io/|nintendo-3ds</a>
# <a href="badge:Warning|Incomplete_DRAFT|red||codeigniter">badge:Warning|Incomplete_DRAFT|red||codeigniter</a>
<span class="org-block-end-line">#+end_center
</span>
<span class="comment"># @@html: &lt;br&gt; @@</span>

Modern Java is a strongly-typed, eagery evaluated, case sensative, yet
whitespace insensative language. It uses hierarchies of classes/types
to structure data, but also has first-class support for
functional-style algebraic datatypes.

Java programs <span class="writegood-passive-voice">are made</span> up of &#8216;classes&#8217;, classes contain methods, and methods contain commands.  To just try out a
snippet of code, we can
+ Open a terminal and enter <span class="org-code">jshell</span>; then enter:
<span class="org-block-begin-line">     #+begin_src java
</span><span class="org-block">1 + 2 </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">The jshell lets you try things out!
</span></span><span class="org-block">
</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Say hello in a fancy way
</span></span><span class="org-block"><span class="keyword">import</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">javax</span></span><span class="org-block">.</span><span class="org-block"><span class="constant">swing</span></span><span class="org-block">.*;
JOptionPane.showMessageDialog(</span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">JFrame</span></span><span class="org-block">(), </span><span class="org-block"><span class="string">"Hello, World!"</span></span><span class="org-block">);

</span><span class="org-block-end-line">#+end_src
</span>
+ Alternatively, in IntelliJ, click <span class="italic">Tools</span> then <span class="italic">Groovy Console</span> to try things out!
+ Finally, <span class="org-link"><a href="http://alhassy.com/making-vscode-itself-a-java-repl.html">VSCode</a></span> allows arbitrary Java code to <span class="writegood-passive-voice">be sent</span> to a <span class="org-code">jshell</span>
  in the background(!) and it echoes the result in a friendly way.

<span class="comment"># A program cannot consist of only commands. Java commands must be inside functions, and functions must be inside classes.</span>
<span class="comment">#</span>
<span class="comment"># Imagine a sofa. A sofa cannot exist on its own. It exist in a room somewhere. And a room also cannot exist on its own. A room </span><span class="comment"><span class="writegood-passive-voice">is located</span></span><span class="comment"> in </span><span class="comment"><span class="writegood-weasels">some</span></span><span class="comment"> house. Or, you could say that the house </span><span class="comment"><span class="writegood-passive-voice">is divided</span></span><span class="comment"> into rooms, and those rooms contain things.</span>
<span class="comment">#</span>
<span class="comment"># Java programs </span><span class="comment"><span class="writegood-passive-voice">are made</span></span><span class="comment"> up of classes, classes contain methods, and methods contain commands.</span>

<span class="comment"># A minimal program must consist of at least one class, which must have at least</span>
<span class="comment"># one method (function) that marks the program's starting point. This method must</span>
<span class="comment"># </span><span class="comment"><span class="writegood-passive-voice">be named</span></span><span class="comment"> main.</span>

<span class="org-drawer">:MWE:</span>
In order to run a java program, it must have a main method as an entry point.

<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block">  </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> </span><span class="org-block"><span class="type">LearnJava</span></span><span class="org-block"> {
      </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">In order to run a java program, it must have a main method as an entry
</span></span><span class="org-block">      </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">point.
</span></span><span class="org-block">      </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> </span><span class="org-block"><span class="type">void</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">main</span></span><span class="org-block">(</span><span class="org-block"><span class="type">String</span></span><span class="org-block">[] </span><span class="org-block"><span class="variable-name">args</span></span><span class="org-block">) {
          System.out.println(</span><span class="org-block"><span class="string">"Hello World!"</span></span><span class="org-block">);

          </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Use System.out.printf() for </span></span><span class="org-block"><span class="comment"><span class="writegood-weasels">easy</span></span></span><span class="org-block"><span class="comment"> formatted printing.
</span></span><span class="org-block">          System.out.printf(</span><span class="org-block"><span class="string">"pi = %.5f"</span></span><span class="org-block">, </span><span class="org-block"><span class="constant">Math</span></span><span class="org-block">.PI); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">=&gt; pi = 3.14159
</span></span><span class="org-block">      }
  }
</span><span class="org-block-end-line">#+end_src
</span><span class="org-drawer">:End:</span>

<span class="org-hide">*</span><span class="org-level-2">* Web reference                                                     </span><span class="org-level-2"><span class="org-tag">:ignore:</span></span>

<span class="org-meta-line">#+macro: begin-ignore-html #+html: &lt;!--</span>
<span class="org-meta-line">#+macro: end-ignore-html #+html: --&gt;</span>

<span class="org-meta-line">#+latex: \vspace{-1em}</span>
<span class="org-macro">begin-ignore-html()</span>
To be terse, lots of content is not shown in this <span class="org-link"><a href="http://alhassy.com/java-cheat-sheet.pdf">PDF</a></span>, but <span class="writegood-passive-voice">is shown</span> in the <span class="org-link"><span class="bold"><a href="https://alhassy.com/java-cheat-sheet">HTML</a></span></span>
version.
<span class="org-macro">end-ignore-html()</span>

<span class="org-level-1">* The Philosophy of Classes &amp; Interfaces</span>

<span class="comment"># Real life objects have properties (e.g., /name, age, etc/) and behaviour (e.g., /eat, bark, fileTaxes, etc/).</span>
Real life objects have properties and behaviour.  For example, my cat
has the properties of <span class="italic">name</span> and <span class="italic">age</span>, and amongst its behaviours are
<span class="italic">sleep</span> and <span class="italic">meow</span>.  However, an apple does not have such features.
<span class="bold">The possible features of an object </span><span class="bold"><span class="writegood-passive-voice">are understood</span></span><span class="bold"> when we </span><span class="bold"><span class="italic">classify</span></span><span class="bold">
it;</span> e.g., my cat is an animal, whereas an apple is food.  In Java, a
set of features <span class="writegood-passive-voice">is known</span> as a <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">class</span><span class="shadow"><span class="org-inline-src-block">}</span></span> and
objects having those features <span class="writegood-passive-voice">are called</span> &#8220;objects of that class&#8221;.
Just as <span class="org-code">int</span> is the type of the value <span class="org-code">12</span>, we say a class is a
<span class="italic">type</span> of an object.
<span class="comment"># Or, a class is like a blueprint of an object.</span>

We tend to think in (disjoint, hierarchical) categories; for example,
in my library, a book can <span class="writegood-passive-voice">be found</span> in one section, either &#8220;Sports&#8221; or
&#8220;History&#8221; or &#8220;Trees&#8221;. So where should books on the history of football
<span class="writegood-passive-voice">be located</span>? Or books on the history of trees?  My library places such
books under &#8220;Sports&#8221;, and &#8220;Tree&#8221; respecively, but then adds a
&#8220;historical&#8221; <span class="bold">tag</span> to them.  Likewise, in Java, <span class="bold">to say different
kinds of things have a feature in common, we &#8220;tag&#8221; them with an</span>
<span class="bold">src_java[:exports code]{interface}.</span> (Real life tagging is a also known
as <span class="italic">multi</span>-<span class="org-code">class</span>-<span class="italic">ificiation</span>.)
<span class="comment">#</span>
<span class="comment"># Technically, an interface is essentially a type for classes.  Given an</span>
<span class="comment"># arbitrary class, the only way to now what methods it can do is to ask</span>
<span class="comment"># what interfaces it performs. In other languages, /interfaces/ are also</span>
<span class="comment"># known as /signatures/.</span>
<span class="comment"># # And implementations of signatures </span><span class="comment"><span class="writegood-passive-voice">are known</span></span><span class="comment"> as /algebras/.</span>
<span class="comment">#</span>
<span class="comment">#</span>
<span class="comment"># Since interfaces allow default, and static, methods they also serve as a tool for method re-use: Given implementations of </span><span class="comment"><span class="writegood-weasels">some</span></span><span class="comment"> core methods, a number of derived methods can then </span><span class="comment"><span class="writegood-passive-voice">be used</span></span><span class="comment">.</span>

<span class="comment"># If private state </span><span class="comment"><span class="writegood-passive-voice">is needed</span></span><span class="comment"> (e.g., to define a constructor), then</span>
<span class="comment"># /abstract classes/ can </span><span class="comment"><span class="writegood-passive-voice">be used</span></span><span class="comment">.</span>
<span class="comment"># | Abstract class &#8776; interface [signatures] + class [private state] |</span>
<span class="comment">#</span>
<span class="comment"># Which </span><span class="comment"><span class="writegood-passive-voice">is used</span></span><span class="comment"> /communicates more to others/; e.g., using an abtract</span>
<span class="comment"># class communicates that there is </span><span class="comment"><span class="writegood-weasels">some</span></span><span class="comment"> state</span>
<span class="comment">#</span>
<span class="comment"># | Concept          | Top-level idea                                                      |</span>
<span class="comment"># |------------------+---------------------------------------------------------------------|</span>
<span class="comment"># | ~class~          | Attributes &amp; properties, backed-up by (possibly hidden) state       |</span>
<span class="comment"># | ~record~         | Attributes &amp; properties, </span><span class="comment"><span class="writegood-weasels">completely</span></span><span class="comment"> exposed without any state       |</span>
<span class="comment"># |------------------+---------------------------------------------------------------------|</span>
<span class="comment"># | ~abstract class~ | Partial implementation, backed-up by state                          |</span>
<span class="comment"># | ~interface~      | Reusable methods derived from a handful of unimplemented signatures |</span>
<span class="comment">#</span>

<span class="org-block-begin-line">#+begin_box "Java's Main Organisational Mechanisms"
</span><span class="org-block">|                         |   | With state          | Without state  |
|-------------------------+---+---------------------+----------------|
| Attributes &amp; properties |   | src(class)          | src(record)    |
| Partial implementations |   | src(abstract class) | src(interface) |
</span><span class="org-block-end-line">#+end_box
</span>
<span class="org-hide">*</span><span class="org-level-2">* Here is a teaser of nearly all of these packaging mechanisms </span><span class="org-level-2"><span class="org-tag">:details:</span></span>

<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="keyword">interface</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Hospitable</span></span><span class="org-block"> {
    </span><span class="org-block"><span class="type">String</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">name</span></span><span class="org-block">();   </span><span class="org-block"><span class="comment-delimiter">/* </span></span><span class="org-block"><span class="comment">unimplemented method signature</span></span><span class="org-block"><span class="comment-delimiter"> */</span></span><span class="org-block">
    </span><span class="org-block"><span class="keyword">default</span></span><span class="org-block"> </span><span class="org-block"><span class="type">void</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">greet</span></span><span class="org-block">() { </span><span class="org-block"><span class="comment-delimiter">/* </span></span><span class="org-block"><span class="comment">derived, implemented, method</span></span><span class="org-block"><span class="comment-delimiter"> */</span></span><span class="org-block">
        System.out.printf(</span><span class="org-block"><span class="string">"%s says &#8220;Welcome!&#8221;"</span></span><span class="org-block">, name());
    }
}

</span><span class="org-block"><span class="comment-delimiter">////////////////////////////////////////////////////////////////////////////////</span></span><span class="org-block"><span class="comment">
</span></span><span class="org-block">
</span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Person</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">implements</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Hospitable</span></span><span class="org-block"> {
    </span><span class="org-block"><span class="type">String</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">name</span></span><span class="org-block">;
    </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">age</span></span><span class="org-block">;
    </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="type">String</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">name</span></span><span class="org-block">() { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> name; }
}

</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Actual usage of &#8220;Person&#8221;:
</span></span><span class="org-block"><span class="type">Person</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">me</span></span><span class="org-block"> = </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Person</span></span><span class="org-block">();
me.name = </span><span class="org-block"><span class="string">"Musa"</span></span><span class="org-block">;
me.age = 31;
me.greet();

</span><span class="org-block"><span class="comment-delimiter">////////////////////////////////////////////////////////////////////////////////</span></span><span class="org-block"><span class="comment">
</span></span><span class="org-block">
</span><span class="org-block"><span class="type">record</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">Person2</span></span><span class="org-block">(</span><span class="org-block"><span class="type">String</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">name</span></span><span class="org-block">, </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">age</span></span><span class="org-block">) </span><span class="org-block"><span class="keyword">implements</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Hospitable</span></span><span class="org-block"> { }

</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Actual usage of &#8220;Person2&#8221;:
</span></span><span class="org-block"><span class="type">Person2</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">me</span></span><span class="org-block"> = </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Person2</span></span><span class="org-block">(</span><span class="org-block"><span class="string">"Musa"</span></span><span class="org-block">, 31);
me.greet();
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-hide">*</span><span class="org-level-2">* &#8220;Interfaces are the types of classes&#8221; </span><span class="org-level-2"><span class="org-tag">:details:</span></span>

A <span class="italic">module</span> is
a bunch of utilities that can <span class="writegood-passive-voice">be defined</span> from <span class="writegood-weasels">some</span> shared set of parameters.
Those utilities can <span class="writegood-passive-voice">be thought</span> of as an interface &#119920;.
<span class="italic">Then a module is a function from parameters to an anonymous implementation of an interface.</span>
However, functions that return implementations are essentially records/classes that implement
the interface; i.e.,

<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block">   </span><span class="org-block"><span class="type">&#119920;</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">R</span></span><span class="org-block">(</span><span class="org-block"><span class="type">params</span></span><span class="org-block">) { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">&#119920;</span></span><span class="org-block">() { &#119920;_&#119926;&#119933;&#119916;&#119929;&#119920;&#119915;&#119916;&#119930; }; } </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">module-as-function
</span></span><span class="org-block">&#8776;  record R(params) </span><span class="org-block"><span class="keyword">implements</span></span><span class="org-block"> </span><span class="org-block"><span class="type">&#119920;</span></span><span class="org-block"> { &#119920;_&#119926;&#119933;&#119916;&#119929;&#119920;&#119915;&#119916;&#119930; }; </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">module-as-record
</span></span><span class="org-block-end-line">#+end_src
</span>
This equation justifies the phrase &#8220;interfaces are the types of records/classes&#8221;
since a record declaration (i.e., the right side of the &#8220;&#8776;&#8221;)
can <span class="writegood-passive-voice">be converted</span> to an (abstract) module (of type &#119920;) ---i.e., the left side of the &#8220;&#8776;&#8221;.

<span class="org-hide">*</span><span class="org-level-2">* Algebraic Data Types </span><span class="org-level-2"><span class="org-tag">:ignore:details:</span></span>

Finally, suppose there's something you want to do <span class="italic">and</span> there <span class="writegood-weasels">are a number</span> of
ways/configurations to get it done.  You could write it as a method in
a <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">class</span><span class="shadow"><span class="org-inline-src-block">}</span></span> with a bunch of <span class="org-code">if</span>'s to account for
all of those ways.  Better would be to create an interface, then have
a bunch of classes that implement it: One class for each possible
implementation. Finally, if you know <span class="italic">all</span> configurations, you
can move those classes <span class="italic">into</span> the definition of the interface
and make it <span class="italic">sealed</span>: This <span class="writegood-passive-voice">is known</span> as an <span class="italic">algebraic data-type</span>,
whose kill-feature is that you can use <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">switch</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
to pattern match on instances of the interface.

<span class="comment"># E.g., the action could be to emit a message to the user; e.g., via dialog or via toast notice or via a notification banner.</span>


<span class="comment"># --------------------------------------------------------------------------------</span>

<span class="comment"># These days we tend to prefer interface (like-a) relationships over class hierarchy (is-a) relationships</span>
<span class="comment">#</span>
<span class="comment"># Interfaces are still inheritance and an "is a" relationship. An ArrayList 'is a' List. A HashMap 'is a' Map.</span>
<span class="comment">#</span>
<span class="comment"># While people should prefer interfaces over abstract classes for the </span><span class="comment"><span class="writegood-weasels">simple</span></span><span class="comment"> reason you can't only extend a single class, it's really not a different "type" of relationship.</span>
<span class="comment">#</span>
<span class="comment"># IMO there definitely is a different 'type' of relationship with</span>
<span class="comment"># interface implementation - at its core it is just the decoupling of</span>
<span class="comment"># a commitment to a contract from implementation choices - which does</span>
<span class="comment"># allow a commitment to multiple contracts (by either reimplementing</span>
<span class="comment"># them or using composition and delegation), but it isn't the primary</span>
<span class="comment"># reason we use them (considering the number of types that extend</span>
<span class="comment"># Object and implement a single interface).</span>

<span class="org-hide">*</span><span class="org-level-2">* ADT example </span><span class="org-level-2"><span class="org-tag">:details_ADTs:</span></span>

An example 3-level hierarchy that can be <span class="writegood-weasels">easily</span> represented with ADTs
rather than a traditional class hierarchy.

<span class="org-block-begin-line">#+BEGIN_SRC dot :file ../images/monsters-adt.png :exports results
</span><span class="org-block">digraph {
 bgcolor="transparent"
 Monster -&gt; {Flying, Ground};
 Flying -&gt; {Griffin, Pegasus};
 Ground -&gt; {Ogre};
}
</span><span class="org-block-end-line">#+END_SRC
</span>
<span class="org-meta-line">#+html: &lt;center&gt;&lt;image src="../images/monsters-adt.png" width="50%" height="50%" /&gt; &lt;/center&gt;</span>

<span class="comment"># /* Monster &#10230; {Flying &#10230; {Griffin, Pegasus}, Ground &#10230; {Ogre}} */</span>
<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="type">sealed</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">interface</span></span><span class="org-block"> Monster {

    </span><span class="org-block"><span class="type">sealed</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">interface</span></span><span class="org-block"> Flying </span><span class="org-block"><span class="keyword">extends</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Monster</span></span><span class="org-block"> { }
    </span><span class="org-block"><span class="type">record</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">Griffin</span></span><span class="org-block">() </span><span class="org-block"><span class="keyword">implements</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Flying</span></span><span class="org-block"> { }
    </span><span class="org-block"><span class="type">record</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">Pegasus</span></span><span class="org-block">() </span><span class="org-block"><span class="keyword">implements</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Flying</span></span><span class="org-block"> { }

    </span><span class="org-block"><span class="type">sealed</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">interface</span></span><span class="org-block"> Ground </span><span class="org-block"><span class="keyword">extends</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Monster</span></span><span class="org-block"> { }
    </span><span class="org-block"><span class="type">record</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">Ogre</span></span><span class="org-block">() </span><span class="org-block"><span class="keyword">implements</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Ground</span></span><span class="org-block"> { }
}
</span><span class="org-block-end-line">#+end_src
</span>
Then we can actually use this new type as follows:
<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="keyword">private</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> </span><span class="org-block"><span class="type">String</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">glare</span></span><span class="org-block">(</span><span class="org-block"><span class="type">Monster</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">m</span></span><span class="org-block">) {
    </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">switch</span></span><span class="org-block"> (m) {
        </span><span class="org-block"><span class="keyword">case</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">Monster</span></span><span class="org-block">.Griffin it -&gt; </span><span class="org-block"><span class="string">"Roar"</span></span><span class="org-block">;
        </span><span class="org-block"><span class="keyword">case</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">Monster</span></span><span class="org-block">.Pegasus it -&gt; </span><span class="org-block"><span class="string">"HeeHaw"</span></span><span class="org-block">;
        </span><span class="org-block"><span class="keyword">case</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">Monster</span></span><span class="org-block">.Ogre it -&gt; </span><span class="org-block"><span class="string">"Grrr"</span></span><span class="org-block">;
    };
}

glare(</span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">Monster</span></span><span class="org-block">.</span><span class="org-block"><span class="constant">Flying</span></span><span class="org-block">.</span><span class="org-block"><span class="type">Griffin</span></span><span class="org-block">()); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">"Roar"
</span></span><span class="org-block-end-line">#+end_src
</span>
Or only look at the <span class="org-code">Flying</span> sub-type:
<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="keyword">private</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">attackDamage</span></span><span class="org-block">(</span><span class="org-block"><span class="constant">Monster</span></span><span class="org-block">.</span><span class="org-block"><span class="type">Flying</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">f</span></span><span class="org-block">) {
    </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">switch</span></span><span class="org-block"> (f) {
        </span><span class="org-block"><span class="keyword">case</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">Monster</span></span><span class="org-block">.</span><span class="org-block"><span class="constant">Flying</span></span><span class="org-block">.Griffin it -&gt; 120;
        </span><span class="org-block"><span class="keyword">case</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">Monster</span></span><span class="org-block">.</span><span class="org-block"><span class="constant">Flying</span></span><span class="org-block">.Pegasus it -&gt; 60;
    };
}

attackDamage(</span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">Monster</span></span><span class="org-block">.</span><span class="org-block"><span class="type">Pegasus</span></span><span class="org-block">()); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">60
</span></span><span class="org-block-end-line">#+end_src
</span>
<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-2"> Mathematically, what does &lt;code&gt;class&lt;/code&gt; &#8220;mean&#8221;? </span><span class="org-level-2"><span class="org-tag">:details_CategoryTheory:</span></span>

Mathematically, a programming language (i.e., a model of computation with types and programs) <span class="writegood-passive-voice">is represented</span> by a
<span class="org-link"><a href="https://alhassy.com/PathCat">category</a></span> ---see <span class="org-link"><a href="https://www.cs.ox.ac.uk/people/jeremy.gibbons/publications/acmmpc-calcfp.pdf">Calculating Functional Programs</a></span> &#167;1.4.  In such a setting, <span class="italic">a class denotes a pointed </span><span class="org-link"><span class="italic"><a href="https://stackoverflow.com/questions/16015020/what-does-coalgebra-mean-in-the-context-of-programming">co-algebra</a></span></span><span class="org-latex-and-related"> $(&#119978;, &#8500;&#8320;,
&#119992; : &#119978; &#8594; &#119983;(&#119978;))$:</span> &#8220;classes as modules&#8221; <span class="writegood-passive-voice">is captured</span> by &#119978; (&#8220;the set of objects&#8221;), &#8220;classes as structure&#8221; <span class="writegood-passive-voice">is captured</span> by the
co-algebra &#119992;, a &#8220;new object&#8221; is the point &#8500;&#8320;, and the functor &#119983; is the &#8216;signature/type&#8217; of the class (i.e., its
properties and methods).

<span class="org-level-1">* Reads </span><span class="org-level-1"><span class="org-tag">:details:</span></span>

+ <span class="org-link"><a href="https://www.mooc.fi/en/#courses">&#8220;MOOC&#8221; Massive Open Online Course - University of Helsinki</a></span>
  - Useful for learning Java, Python, Haskell, JavaScript.
  - I highly reccommend their <span class="org-link"><a href="https://fullstackopen.com/en/">&#8220;full stack&#8221;</a></span> course on web development, with JS!
<span class="comment">  # - </span><span class="comment"><span class="writegood-weasels">Extremely</span></span><span class="comment"> hands-on course for Java, perfect for indepedent learning.</span>
+ Effective Java, 3rd Edition by Joshua Bloch
+ Seriously Good Software Code that Works, Survives, and Wins
+ Functional Programming in Java Harnessing the Power of Java 8 Lambda Expressions
+ Java Generics and Collections Speed Up the Java Development Process
+ Java 8 Lambdas Pragmatic Functional Programming - Richard Warburton
<span class="comment"># + Java Puzzlers Traps, Pitfalls, and Corner Cases by Joshua Bloch</span>

<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-2"> </span><span class="org-level-2"><span class="org-link"><a href="https://hyperskill.org/join/dee0c003">https://hyperskill.org/join/dee0c00</a><a href="https://hyperskill.org/join/dee0c003">3</a></span></span><span class="org-level-2">                       </span><span class="org-level-2"><span class="org-tag">:5_months_free:</span></span>

By this link up to 5 months free

<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-2"> More Reads</span>

<span class="org-link"><a href="https://www.youtube.com/watch?v=-JYLuv7mmxM">https://www.youtube.com/watch?v=-JYLuv7mmxM</a></span>
<span class="writegood-weasels">Excellent</span> 6-part series by Abdul Bari

<span class="org-link"><a href="https://www.baeldung.com/java-8-streams">https://www.baeldung.com/java-8-streams</a></span>

<span class="org-link"><a href="https://www.capitalone.com/tech/software-engineering/java-streams-explained-simple-example/">https://www.capitalone.com/tech/software-engineering/java-streams-explained-</a></span><span class="org-link"><span class="writegood-weasels"><a href="https://www.capitalone.com/tech/software-engineering/java-streams-explained-simple-example/">simple</a></span></span><span class="org-link"><a href="https://www.capitalone.com/tech/software-engineering/java-streams-explained-simple-example/">-example/</a></span>

<span class="org-link"><a href="https://stackify.com/streams-guide-java-8/">https://stackify.com/streams-guide-java-8/</a></span>

<span class="org-link"><a href="https://livebook.manning.com/book/modern-java-in-action/chapter-5/">https://livebook.manning.com/book/modern-java-in-action/chapter-5/</a></span>

<span class="org-link"><a href="https://www.digitalocean.com/community/tutorials/java-8-stream">https://www.digitalocean.com/community/tutorials/java-8-stream</a></span>

<span class="org-link"><a href="https://www.oracle.com/technical-resources/articles/java/ma14-java-se-8-streams.html">https://www.oracle.com/technical-resources/articles/java/ma14-java-se-8-streams.html</a></span>

+ Leetcode is about algorithms, mooc about learning coding and to program.
  - Java MOOC. It is a purely introductory course to programming (with Java).
  - [Enjoyable!] Massive Open Online Course - Java University of Helsinki

    oh my god i LOVE mooc. I only did the course to refresh my memory, but i learned so much more than i did in school.

    I also finished it in four weeks. The course didnt burn me out which was surprising. I think its because the lessons were <span class="writegood-weasels">very</span> clear and <span class="writegood-weasels">easy</span> to understand.

    <span class="writegood-weasels">probably</span> the best beginner course ive ever taken

  - The university of helsinki (the guys behind mooc.fi) has a web dev
    with java course online for free, including exercises. It is only
    available in finnish, though google translate does a passable job.

    <span class="org-link"><a href="https://web-palvelinohjelmointi-21.mooc.fi/osa-1">https://web-palvelinohjelmointi-21.mooc.fi/osa-1</a></span>

+ Computer Science: An Interdisciplinary Approach

   It&#8217;s a great textbook! You can use the web book site as a
  supplement or just read from the book. The concepts are <span class="writegood-weasels">clearly</span>
  explained and there are a ton of useful exercises that are difficult
  and certainly give you <span class="writegood-weasels">many</span> &#8220;a ha&#8221; moments.

+ <span class="org-link"><a href="https://edabit.com/">https://edabit.com/</a></span>

+ Codingbat.com has easier questions, that is a good starter for leetcode IMO

  CodingBat has really good exercises with multiple test cases (to
  help you write unit tests and debug) from <span class="writegood-weasels">very</span> basic to really
  challenging, and all the way from booleans and substrings to
  lambdas, streams and recursion.

+ [Free] Practice-it is, along with CodingBat, one of the best
  websites for beginners to practice and consolidate the fundamentals
  of Java. It has more than 600 exercises grouped by different
  categories. In my case, it has helped me to strengthen the knowledge
  acquired and to continue advancing with this wonderful programming
  language.

  <span class="org-link"><a href="https://practiceit.cs.washington.edu/">https://practiceit.cs.washington.edu/</a></span>

+ <span class="org-link"><a href="https://cscx.org/">https://cscx.org/</a></span>
  Computer Science by Example (cscx.org) is a collection of short programming exercises.

+ Start with CodeWars. Select only level 8 problems and sort by most completed.

+ <span class="org-link"><a href="https://www.coursera.org/learn/algorithms-part1?action=enroll">https://www.coursera.org/learn/algorithms-part1?action=enroll</a></span>
+ <span class="org-link"><a href="https://www.coursera.org/learn/algorithms-part2">https://www.coursera.org/learn/algorithms-part2</a></span>
+ <span class="org-link"><a href="https://programmedlessons.org/Java9/index.html#part03">https://programmedlessons.org/Java9/index.html#part03</a></span>
+ <span class="org-link"><a href="https://hyperskill.org/tracks">https://hyperskill.org/tracks</a></span>

  You can get 9 weeks free by registering with a new email address if you don't mind testing out of concepts you've already completed

  Hyperskill is a <span class="writegood-weasels">fairly</span> new resource from Jetbrains (the maker of IntelliJ)

   It <span class="writegood-passive-voice">is based</span> on learning projects, then having prerequisite lessons that need to <span class="writegood-passive-voice">be learned</span> to successfully complete the project.


+ <span class="org-link"><a href="https://www.codility.com/">https://www.codility.com/</a></span>
+ <span class="org-link"><a href="https://exercism.org/tracks/java">https://exercism.org/tracks/java</a></span>
+ <span class="org-link"><a href="https://www.youtube.com/playlist?list=PLE7E8B7F4856C9B19">https://www.youtube.com/playlist?list=PLE7E8B7F4856C9B19</a></span>
+ <span class="org-link"><a href="https://docs.oracle.com/javase/tutorial/index.html">https://docs.oracle.com/javase/tutorial/index.html</a></span>

I recomend these books:

Java Concurrency in Practice by Brian Goetz
Java Performance - In-Depth Advice for Tuning and Programming Java 8, 11, and Beyond



--------------------------------------------------------------------------------

<span class="comment"># Mention that JS, like Python, has decoraters with @-syntax and generators with yield-syntax.</span>
<span class="comment"># The book Eloquent Javascript has useful stuff to revisit.</span>
<span class="comment">#</span>
<span class="comment"># <a href="http://es6-features.org/">http://es6-features.org/</a></span>

+ <span class="org-link"><a href="https://eloquentjavascript.net/">https://eloquentjavascript.net/</a></span>

  <span class="italic">This is a book about JavaScript, programming, and the wonders of the digital.</span>

  <span class="writegood-weasels">Many</span> of the examples in this cheatsheet <span class="writegood-passive-voice">were taken</span> from this <span class="writegood-weasels">excellent</span> read!

+ <span class="org-link"><a href="https://exploringjs.com/index.html">https://exploringjs.com/index.html</a></span>

  <span class="italic">Exploring JS: Free JavaScript books for programmers</span>
  ---E.g., &#8220;JavaScript for impatient programmers&#8221;

+ <span class="org-link"><a href="https://www.w3schools.com/js/">https://www.w3schools.com/js/</a></span>

  <span class="italic">This tutorial will teach you JavaScript from basic to advanced.</span>

  Other bite-sized lessions can <span class="writegood-passive-voice">be found</span> at: <span class="org-link"><a href="https://masteringjs.io/fundamentals">https://masteringjs.io/fundamentals</a></span>

+ <span class="org-link"><a href="https://learnxinyminutes.com/docs/javascript/">https://learnxinyminutes.com/docs/javascript/</a></span>

  <span class="italic">Take a whirlwind tour of your next favorite language. Community-driven!</span>

+ <span class="org-link"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference</a></span>

  <span class="italic">The JavaScript reference serves as a repository of facts about the JavaScript
  language. The entire language </span><span class="italic"><span class="writegood-passive-voice">is described</span></span><span class="italic"> here in detail.</span>

+ <span class="org-link"><a href="https://github.com/you-dont-need/You-Dont-Need-Loops">https://github.com/you-dont-need/You-Dont-Need-Loops</a></span>

  <span class="italic">Avoid The One-off Problem, Infinite Loops, Statefulness and Hidden intent.</span>

Head First Java: A Brain-Friendly Guide 3rd Edition

runestone academy - <span class="org-link"><a href="https://runestone.academy/ns/books/published/csawesome/index.html">https://runestone.academy/ns/books/published/csawesome/index.html</a></span>
This is what I&#8217;m using, it simplifies Java into bite size lessons and has immediate hands on practice with coding.

<span class="org-level-1">* newpage </span><span class="org-level-1"><span class="org-tag">:ignore:</span></span>
<span class="org-meta-line">#+latex: \columnbreak</span>
<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> </span><span class="org-level-1"><span class="org-link"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">s</a></span></span>

In the real world you see and use <span class="writegood-weasels">various</span> objects, and each of them is
belongs to <span class="writegood-weasels">some</span> kind such as toys, food, animals, electronics et
al. In Java, instead of saying what kind of objects, we say what class
of objects. In other words, each object belongs to a class. A class is
like a blueprint of an object. In this chapter you&#8217;ll get familiar
with classes - the main constructs of the Java language.


<span class="comment"># Numbers, Booleans, and strings are the atoms that data structures </span><span class="comment"><span class="writegood-passive-voice">are built</span></span>
<span class="comment"># from. </span><span class="comment"><span class="writegood-weasels">Many</span></span><span class="comment"> types of information require more than one atom, though. Objects</span>
<span class="comment"># allow us to group values&#8212;including other objects&#8212;to build more complex</span>
<span class="comment"># structures.</span>

Objects provide ways to group <span class="writegood-weasels">several</span> values into a single
value. Conceptually, this allows us to put a bunch of related things
in a bag and run around with the bag, instead of wrapping our arms
around all of the individual things and trying to hold on to them
separately. These &#8220;things&#8221; <span class="writegood-passive-voice">are called</span> <span class="italic">properties</span>.

<span class="comment"># Arrays are just a kind of object specialised for storing sequences of things.</span>

Values of the type <span class="italic">object</span> are arbitrary collections of properties. One way to
create an object is by using braces as an expression that lists properties as <span class="italic">&#8220;name:value&#8221;</span>
pairs.

1. Almost all JavaScript <span class="italic">values</span> have properties. The exceptions are <span class="org-code">null</span> and
 <span class="org-code">undefined</span>. If you try to access a property on one of these nonvalues, you get
 an error. Properties <span class="writegood-passive-voice">are accessed</span> using <span class="org-code">value.prop</span>, <span class="italic">dot notation</span>.

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Operational vs Denotational Semantics</span>

A programming language consists of two parts: A <span class="bold">syntax</span> to indicate how to write programs down,
and a <span class="bold">semantics</span> to indicate how to execute programs.

<span class="bold">Semantics</span> describes the processes a computer follows when executing a
program in a specific language. This can <span class="writegood-passive-voice">be shown</span> by describing the
relationship between the input and output of a program (i.e., &#8220;axiomatic semantics&#8221;)
or how expressions <span class="writegood-passive-voice">are reduced</span> (i.e., &#8220;operational semantics).
<span class="comment"># Then with the semantics, one can answer questions like /can we know when certain programs will halt?/</span>

Compilers are concernd with &#8220;syntax errors&#8221; (i.e., invalid expressions);
humans are concerns with semantics. Syntax <span class="writegood-passive-voice">is determined</span> at compile-time,
whereas semantics <span class="writegood-passive-voice">is deteremined</span> at run-time: For example, <span class="org-verbatim">x + 1</span> is
syntactically a number whenever <span class="org-verbatim">x</span> <span class="writegood-weasels">is a number</span>, but semantically it may
denote a number, or an overflow error if <span class="org-verbatim">x</span> is already the largest representable number,
or it may just be <span class="org-verbatim">x</span> again as is the case in JavaScript (<span class="org-code">Infinity + 1 </span><span class="org-code"><span class="org-verbatim">= Infinity</span></span><span class="org-verbatim">~).
A similar argument applies to </span><span class="org-verbatim"><span class="org-verbatim">1 / x</span></span>.
Type annotations are a way to bring <span class="writegood-weasels">some</span> semantics into the world of syntax.
<span class="comment"># Likewise, dereferencing pointers, which may be null at run-time.</span>

There are 3 popular approachs to semantics, each useful for particular goals.
For example, operational semantics is helpful for implementing a programming language (in, say, Java or Prolog);
whereas axiomatic semantics is helpful for program verification;
and denotation semantics is helpful for program rewriting (in possibly different programming languages).

<span class="bold">Operational Semantics:</span> A type <span class="writegood-passive-voice">is defined</span> by how its &#8220;introduction
rules&#8221; (i.e., how instances <span class="writegood-passive-voice">are created</span>) and its &#8220;elimination rules&#8221;
(i.e., how instances <span class="writegood-passive-voice">are used</span>) and how those rules combine together
(so called &#8220;computation rules&#8221;). There is no &#8220;meaning&#8221; here: Just how
new syntax <span class="writegood-passive-voice">is introduced</span>, and how it is operationally executed/reduced
(in an idealised computer). This <span class="writegood-passive-voice">is presented</span> as a &#8220;Type Theory&#8221; or a
&#8220;Transition System&#8221; (which is a machine named &#8220;&#10230;&#8221; whose execution rules
<span class="writegood-passive-voice">are directed</span> by the programming syntax).
<span class="italic">This approach encourages &#8220;smart</span>
<span class="italic">constructors&#8221;, i.e., &#8220;factory methods&#8221;, and exhaustive case analysis;
i.e., </span><span class="org-inline-src-block"><span class="shadow"><span class="italic">src_</span></span></span><span class="org-inline-src-block"><span class="org-meta-line"><span class="italic">java</span></span></span><span class="org-inline-src-block"><span class="italic">[:exports code]</span></span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">switch</span><span class="shadow"><span class="org-inline-src-block">}</span></span><span class="italic">.</span>

<span class="bold">Axiomatic Semantics:</span> A type denotes <span class="writegood-weasels">some</span> state, and methods/programs
<span class="writegood-passive-voice">are characterised</span> by their effect on assertions about program
state. <span class="italic">This approach encourages explicit pre-conditions and post-conditions; emphasizing proofs-of-correctness.</span>
<span class="comment"># That is, a method denotes a predicate transformer.</span>

<span class="bold">Denotational Semantics:</span> A type <span class="writegood-passive-voice">is defined</span>, characterised, by the
mathematical properties of its instances.  That is to say, a type (and
its properties &amp; methods) <span class="writegood-passive-voice">are considered</span> to denote an object in <span class="writegood-weasels">some</span>
category, namely the category theory denoting the programming language
under consideration. This is also known more generally as
&#8220;categorical, or functorial, semantics&#8221;, and may <span class="writegood-passive-voice">be presented</span> as two
categories and a functor &#8220;&#10214;&#10215;: Syntax &#8594; Semantics&#8221;.  <span class="italic">This approach
encourages &#8220;compositionality, functoriality&#8221;: Working with a complex</span>
<span class="italic">structure can </span><span class="italic"><span class="writegood-passive-voice">be done</span></span><span class="italic"> by working with its parts.</span> The mathematical
properties of this approach allow us to rewrite programs: For example,
requiring type constructors to be functors means we need the law
<span class="org-code">x.map(f).map(g) = x.map(f&#10814;g)</span> which, when read left-to-right, is
essentially an optimisation.  Likewise, the (homo)morphisms of the
category essentially give us <span class="italic">correctness-preserving rewrite rules</span>
for the methods of a type.  <span class="writegood-weasels">Simply</span> put, we can start with a program &#8496;
that <span class="writegood-weasels">clearly</span> does something we want but is inefficient, then we can
optimise it by rewriting its semantics &#10214;&#8496;&#10215; to, say, &#10214;&#8497;&#10215; which is
<span class="writegood-weasels">clearly</span> more efficient but it's not obvious that it accomplishes the
same goal: The semantic rewrite justifies using &#8497; in-place of &#8496;.
(Note that &#8497; might be a program in a different language that happens to have the same
semantics; this is useful when porting code from one language to another in a correctness-preserving fashion.)
<span class="italic">This approach encourages characterising types by their
relationships/methods, rather than by specific implementation matter.</span>
For example, <span class="italic">a</span> type of pairs has a specific characterising property,
rather than explicitly two projection functions (e.g.,
a pair of 1-byte <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">char</span><span class="shadow"><span class="org-inline-src-block">}</span></span>s can <span class="writegood-passive-voice">be encoded</span>
with the 2-byte <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">short</span><span class="shadow"><span class="org-inline-src-block">}</span></span> type).

It is intersting to note that while explicit presentations may differ,
the type theories of operational semantics correspond to the categories
of denotational semantics. In particular, the <span class="writegood-weasels">simply</span> typed lambda calculus
can <span class="writegood-passive-voice">be treated</span> as a <span class="italic">syntax</span> whose <span class="italic">semantics</span> is an arbitrary cartesian closed category.
<span class="bold">&#8220;We may program with type theory, but our programs can have arbitrary non-standard semantics!&#8221;</span>

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Records</span>
Like tuples, but better.

Good for defining immutable data carriers.

Records are a constrained kind of class, and as a class
it can have constructors and methods.

<span class="org-level-1">* Null </span><span class="org-level-1"><span class="org-tag">:details_null:</span></span>

There is a special value named <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">null</span><span class="shadow"><span class="org-inline-src-block">}</span></span> that
denotes the absence of a meaningful value.  Ironically, it is a value
of every type (excluding the primitive types).  <span class="org-link"><a href="https://funcall.blogspot.com/2007/11/in-kingdom-of-nouns.html?m=1">Here</a></span> is a neat story
about <span class="org-verbatim">null</span>.


<span class="comment"># </span><span class="comment"><span class="writegood-weasels">Many</span></span><span class="comment"> operations that don&#8217;t produce meaningful values yield void </span><span class="comment"><span class="writegood-weasels">simply</span></span><span class="comment"> because they have to yield </span><span class="comment"><span class="writegood-weasels">some</span></span><span class="comment"> value.</span>

<span class="org-level-1">* </span><span class="org-level-1"><span class="org-todo"><span class="hl-todo"><span class="custom-1">TODO</span></span></span></span><span class="org-level-1"> </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> mention optional alongside null</span>
<span class="org-level-1">* Primitive Objects</span>

For performance reasons, there are a handful of types whose values <span class="writegood-passive-voice">are created</span>
by <span class="italic">literals</span>; i.e., &#8220;What you see is what you get&#8221;.  (As such, primitives are a
basic building block which cannot <span class="writegood-passive-voice">be broken</span> apart; whereas non-primitives (aka
references) <span class="writegood-passive-voice">are made</span>-up from primitives and other references.)  For example, to
create a value of <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">int</span><span class="shadow"><span class="org-inline-src-block">}</span></span> we <span class="writegood-weasels">simply</span> write <span class="org-code">5</span>.

<span class="italic">There are no instance methods on literals;</span> only a
handful of operator methods.  For example, we cannot write <span class="org-code">2.pow(3)</span>
to compute 2&#179;, but instead must write <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Math.pow(2, 3)</span><span class="shadow"><span class="org-inline-src-block">}</span></span>.
Finally, variables of primitive types have default values when not initialised
whereas object types default to <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">null</span><span class="shadow"><span class="org-inline-src-block">}</span></span> ---note: <span class="org-code">null</span> is a value of all object types, but not of primitive types.

<span class="org-meta-line">#+latex: \begingroup\scriptsize</span>
<span class="org-block-begin-line">#+begin_parallel :bar t
</span><span class="org-block">#+begin_src java :exports code
// Declare a new object type
class Person { String name; }

Person obj; / &#8776; null (OBJECT)
int prim;    / &#8776; 0   (PRIMITIVE)

/ Primitives </span><span class="org-block"><span class="writegood-passive-voice">are created</span></span><span class="org-block"> as literals
prim = 1;    / &#8776; 1

/ Objects </span><span class="org-block"><span class="writegood-passive-voice">are created</span></span><span class="org-block"> with &#8220;new&#8221;
obj = new Person();  &#8776; a reference,
   / like: Person@66048bfd

/ Primitives </span><span class="org-block"><span class="writegood-passive-voice">are  identified</span></span><span class="org-block"> by
/ thier literal shape
assert prim == 1;

/ Objects </span><span class="org-block"><span class="writegood-passive-voice">are identified</span></span><span class="org-block"> by
/ references to their memory
// locations (not syntax shape!)
assert obj != new Person();

/ Primitives copy values
int primCopy = prim;  / &#8776; 1

/ Objects copy references
Person objCopy = obj;
  // &#8776; a reference, like: Person@66048bfd

/ Changing primitive copy has
/ no impact on original
primCopy = 123;
assert prim == 1;

/ Changing object copy also
/ changes the original!
assert obj.name == null;
objCopy.name = "woah";    / Alter copy!
/ Original </span><span class="org-block"><span class="writegood-passive-voice">is altered</span></span><span class="org-block">!
assert obj.name.equals("woah");
#+end_src
# // (Notice we use .equals since String is an object type!)
</span><span class="org-block-end-line">#+end_parallel
</span><span class="org-meta-line">#+latex: \endgroup</span>

<span class="org-drawer">:Remark:</span>
Having two references accessing the same object in memory can be dangerous,
since they can alter it unexpectedly. It can also be useful, since the users
of the references can essentially communicate with one another by using
the object as &#8220;shared message buffer&#8221;.
<span class="org-drawer">:End:</span>

<span class="comment"># Note: The aliases-as-reference behaviour is not an issue with the primitive wrapper</span>
<span class="comment"># types, such as ~Integer~.</span>

<span class="org-hide">*</span><span class="org-level-2">* Wrapper Types </span><span class="org-level-2"><span class="org-tag">:details:</span></span>

Java lets primitives shift back and forth from their literal representations
and the world of reference objects somewhat-harmoniously by automatically
&#8220;boxing&#8221; them up as objects when need be. This <span class="writegood-passive-voice">is done</span> by having class
versions of every primitive type; e.g., the primitive <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">int</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
has the class version <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Integer</span><span class="shadow"><span class="org-inline-src-block">}</span></span>.

<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="type">Integer</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">x</span></span><span class="org-block"> = 1; </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">auto-boxed to an object
</span></span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">y</span></span><span class="org-block"> = </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Integer</span></span><span class="org-block">(2); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">auto-unboxed to a primitive
</span></span><span class="org-block-end-line">#+end_src
</span>
<span class="italic">Primitives require much less memory!</span>
An <span class="org-code">int</span> requires 32-bits to represent, whereas an <span class="org-code">Integer</span> requires 128-bits:
The object requires as much space as 4 primitives, in this case.

<span class="comment"># On the other hand, current Java language specification doesn't allow</span>
<span class="comment"># usage of primitive types in the parametrized types (generics), in the</span>
<span class="comment"># Java collections or the Reflection API.</span>
<span class="comment">#</span>
<span class="comment"># </span><span class="comment"><span class="hl-todo"><span class="custom-1">TODO</span></span></span><span class="comment">: Mention auto-boxing; e.g.,</span>
<span class="comment"># "hello".toUpperCase()</span>
<span class="comment"># Or find a better, numeric, example of auto-boxing.</span>

<span class="org-level-1">* Properties and methods have </span><span class="org-level-1"><span class="bold">separate namespaces</span></span>

<span class="org-macro">begin-ignore-html</span>
Properties and methods have <span class="bold">separate namespaces</span> ---<span class="comment">@@</span><span class="org-tag">latex:</span>{\<span class="writegood-weasels">tiny</span> &#8220;Java is a Lisp-2 Language&#8221;.}<span class="comment">@@</span>
<span class="org-macro">end-ignore-html</span>

  <span class="org-drawer">:Like_Lisp:</span>
  + <span class="org-list-dt">&#8594; ::</span> Use <span class="org-code">funcall</span> or <span class="org-code">apply</span> to call functions bound to variables.
  + <span class="org-list-dt">&#8594; ::</span> Refer to functions outside of function calls by using a sharp quote, <span class="org-code">#'</span>.
  <span class="org-drawer">:End:</span>

  Below we use the name <span class="org-verbatim">plus1</span> in two different definitional roles.
  Which one we want to refer to depends on whether we use "dot-notation" with <span class="italic">or</span> without parenthesis:
  The parentheis indicate we want to use the method.
<span class="comment">  # Alternatively, we can transform a method into a "function object"  using =::=-notation, /method-reference notation/.</span>
<span class="comment">  # Function&lt;Integer, Integer&gt; theMethod   = SameNameNoProblem::plus1;</span>

<span class="org-meta-line">#+latex: \begingroup\scriptsize</span>
<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> </span><span class="org-block"><span class="type">SameNameNoProblem</span></span><span class="org-block"> {
    </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">plus1</span></span><span class="org-block">(</span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">x</span></span><span class="org-block">){ </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> x + 1; } </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Method!
</span></span><span class="org-block">    </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> </span><span class="org-block"><span class="type">String</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">plus1</span></span><span class="org-block"> = </span><span class="org-block"><span class="string">"+1"</span></span><span class="org-block">;             </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Property!
</span></span><span class="org-block">}

</span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> </span><span class="org-block"><span class="type">ElseWhere</span></span><span class="org-block"> {
    </span><span class="org-block"><span class="type">String</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">pretty</span></span><span class="org-block"> = SameNameNoProblem.plus1;
    </span><span class="org-block"><span class="type">Integer</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">three</span></span><span class="org-block"> = SameNameNoProblem.plus1(2);
}
</span><span class="org-block-end-line">#+end_src
</span><span class="org-meta-line">#+latex: \endgroup</span>

The consequence of different namespaces <span class="comment">@@</span><span class="org-tag">meta:</span> i.e. of being Lisp-2<span class="comment">@@</span> are
1. Use <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">apply</span><span class="shadow"><span class="org-inline-src-block">}</span></span> to call functions bound to variables.
2. Refer to functions outside of function calls by using a double colon, <span class="org-code">::</span>.

<span class="comment"># Function&lt;Integer, Integer&gt; increment = SameNameNoProblem::plus1;</span>
<span class="comment"># tri(SameNameNoProblem::plus1, 100) // &#8658; 5150</span>

<span class="org-meta-line">#+latex: \vspace{-.03em}{\centerline{\</span><span class="org-meta-line"><span class="writegood-weasels">tiny</span></span><span class="org-meta-line"> Let's discuss both of these now... }}</span>

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Functions</span>

+ A <span class="org-code">return</span> keyword without an expression after it will cause the
  function to return <span class="org-code">undefined</span>.

+ Functions that don&#8217;t have a <span class="org-code">return</span> statement at all, similarly return
  <span class="org-code">undefined</span>.

+ One may also define functions using &#8220;arrow&#8221; notation: <span class="org-code">(x&#8320;, &#8230;, x&#8345;) =&gt; &#8943;</span>.
  - When there is only one parameter name, you can omit the parentheses around
    the parameter list.
  - If the body is a single expression, rather than a (multi-line) block in
    braces, that expression will <span class="writegood-passive-voice">be returned</span> from the function.

  So, these two definitions of square do the same thing:
<span class="org-block-begin-line">  #+BEGIN_SRC js
</span><span class="org-block">  </span><span class="org-block"><span class="keyword">const</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">square1</span></span><span class="org-block"> = (x) =&gt; { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> x * x; };
  </span><span class="org-block"><span class="keyword">const</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">square2</span></span><span class="org-block"> =  x  =&gt; x * x;
</span><span class="org-block-end-line">  #+END_SRC
</span><span class="org-level-1">* Anonymous </span><span class="org-level-1"><span class="italic">functions</span></span><span class="org-level-1">: &#160;&#160; </span><span class="org-level-1"><span class="org-code">(arg&#8321;, &#8230;, arg&#8345;) &#8594; bodyHere</span></span><span class="org-level-1"> &#160;&#160;&#160; </span><span class="comment">@@</span><span class="org-tag">latex:</span><span class="org-level-1"> {\color{white}.}</span><span class="comment">@@</span>

<span class="org-meta-line">#+latex: {\color{white} . } \vspace{-1em}</span>

<span class="org-block-begin-line">#+begin_box Functions </span><span class="org-block-begin-line"><span class="writegood-passive-voice">are formed</span></span><span class="org-block-begin-line"> with the &#8220;&#8594;&#8221; notation and used with &#8220;apply&#8221;
</span><span class="org-block">#+begin_src java
// define, then invoke later on
Function&lt;Integer, Integer&gt; f  =  x -&gt; x * 2;

f.apply(3) / &#8658; 6
 f(3)    / invalid!

// define and immediately invoke
((Function&lt;Integer, Integer&gt;) x -&gt; x * 2).apply(3);

// define from a method reference, using &#8220;::&#8221;
Function&lt;Integer, Integer&gt; f = SameNameNoProblem::plus1;
#+end_src
</span><span class="org-block-end-line">#+end_box
</span>
<span class="org-block-begin-line">#+begin_box "Let's make a method that takes anonymous functions, and use it"
</span><span class="org-block">#+begin_src java
// Recursion with the &#8216;tri&#8217;angle numbers: tri(f, n) = &#931;&#8319;&#7522;&#8332;&#8320; f(i).
public static int tri(Function&lt;Integer, Integer&gt; f, int n) {
    return n &lt;= 0 ? 0 : f.apply(n) + tri(f, n - 1);
}

tri(x -&gt; x / 2, 100);  //  &#8658;  &#931;&#185;&#8304;&#8304;&#7522;&#8332;&#8320; i/2 = 2500

/ Using the standard &#8220;do nothing&#8221; library function
tri(Function.identity(), 100);  /  &#8658;  &#931;&#185;&#8304;&#8304;&#7522;&#8332;&#8320; i = 5050
#+end_src
</span><span class="org-block-end-line">#+end_box
</span>
<span class="org-block-begin-line">#+begin_box Exercise! Why does the following code work?
</span><span class="org-block">#+begin_src java
int tri = 100;
tri(Function.identity(), tri); //  &#8658; 5050

Function&lt;Integer, Integer&gt; tri = x -&gt; x;
tri(tri, 100); //  &#8658; 5050
#+END_SRC
# Solution: Recall that methods and variables have different namespaces...

:Solution:
Contextual location determines dispatch: In the expression tri(tri,
100) the first tri must be method whereas the second tri must
be a variable (which happens to refer to a function).
That is, variables and methods have different namespaces.
:End:
</span><span class="org-block-end-line">#+end_box
</span>
<span class="org-meta-line">#+latex: \room</span>
In Java, everything is an object! (Ignoring primitives, which exist for the purposes of efficiency!)
As such, functions are also objects! Which means, they must have a type: Either <span class="writegood-weasels">some</span> class (or <span class="writegood-weasels">some</span> interface), but which
one? The arrow literal notation <span class="org-verbatim">x -&gt; e</span> <span class="bold">is a short-hand</span> for an implementation of an interface with one abstract
method...
<span class="comment"># That is all ;-)</span>

<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-2"> Function, UnaryOperator, Consumer, Predicate, Supplier</span>

The phrase <span class="org-verbatim">Function&lt;Integer, Integer&gt;</span> is a bit of a mouthful to write each time,
so the standard library provides a terser equivalent:
<span class="org-level-1">* Lambdas are a shorthand for classes that implement functional interfaces</span>

<span class="comment"># Good read! <a href="https://www.baeldung.com/java-8-lambda-expressions-tips">https://www.baeldung.com/java-8-lambda-expressions-tips</a></span>

Let's take a more theoretical look at anonymous functions.

<span class="org-hide">*</span><span class="org-level-2">* Functional Interfaces </span><span class="org-level-2"><span class="org-tag">:centerline:</span></span>

A <span class="italic">lambda expression</span> is a (shorthand) implementation of the only abstract method
in a <span class="italic">functional interface</span> &#8212;&#8212;&#8211;which is an interface that has exactly one abstract
method, and possibly <span class="writegood-weasels">many</span> default methods.

For example, the following interface is a functional interface: It has only one abstract method.
<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block">  </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">interface</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Predicate</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">T</span></span><span class="org-block">&gt; {

      </span><span class="org-block"><span class="type">boolean</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">test</span></span><span class="org-block">(</span><span class="org-block"><span class="type"><span class="writegood-duplicates">T</span></span></span><span class="org-block"><span class="writegood-duplicates"> </span></span><span class="org-block"><span class="variable-name"><span class="writegood-duplicates">t</span></span></span><span class="org-block">);  </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">This is the abstract method
</span></span><span class="org-block">
      </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Other non-abstract methods.
</span></span><span class="org-block">      </span><span class="org-block"><span class="keyword">default</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Predicate</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">T</span></span><span class="org-block">&gt; </span><span class="org-block"><span class="function-name">and</span></span><span class="org-block">(</span><span class="org-block"><span class="type">Predicate</span></span><span class="org-block">&lt;? </span><span class="org-block"><span class="keyword">super</span></span><span class="org-block"> </span><span class="org-block"><span class="type">T</span></span><span class="org-block">&gt; </span><span class="org-block"><span class="variable-name">other</span></span><span class="org-block">) { ... }
      </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Example usage: nonNull.and(nonEmpty).and(shorterThan5)
</span></span><span class="org-block">      </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> &lt;</span><span class="org-block"><span class="type">T</span></span><span class="org-block">&gt; </span><span class="org-block"><span class="type">Predicate</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">T</span></span><span class="org-block">&gt; </span><span class="org-block"><span class="function-name">isEqual</span></span><span class="org-block">(</span><span class="org-block"><span class="type">T</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">target</span></span><span class="org-block">) {...}
      </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Example usage: Predicate.isEqual("Duke") is a new predicate to use.
</span></span><span class="org-block">  }
</span><span class="org-block-end-line">#+end_src
</span>
Optionally, to ensure that this <span class="writegood-passive-voice">is indeed</span> a functional interface, i.e., it has
only one abstract method, we can place <span class="org-verbatim">@FunctionalInterface</span> above its
declaration. Then the complier will check our intention for us.

<span class="org-hide">*</span><span class="org-level-2">* The Type of a Lambda </span><span class="org-level-2"><span class="org-tag">:centerline:</span></span>

Anyhow, since a lambda is a shorthand implementation of an interface, this means
that what you can do with a lambda depenends on the interface it's impementing!

As such, when you see a lambda it's important to know it's type is not "just a function"!
This mean <span class="bold">to run/apply/execute a lambda variable</span> you need to remember that the variable
is technically an object implementing a specific functional interface, which has a single
<span class="italic">named</span> abstract method (which <span class="writegood-passive-voice">is implemented</span> by the lambda) and so we need to invoke that
method on our lambda variable to actually run the lambda. For example,
<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block">  </span><span class="org-block"><span class="type">Predicate</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">String</span></span><span class="org-block">&gt; </span><span class="org-block"><span class="variable-name">f</span></span><span class="org-block"> = s -&gt; s.length() == 3;   </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Make a lambda variable
</span></span><span class="org-block">  </span><span class="org-block"><span class="type">boolean</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">isLength3String</span></span><span class="org-block"> = f.test(</span><span class="org-block"><span class="string">"hola"</span></span><span class="org-block">);     </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Actually invoke it.
</span></span><span class="org-block-end-line">#+end_src
</span>
Since different lambdas may implement different interfaces, the actually method
to run the lambda will likely be different! Moreover, you can invoke <span class="italic">any</span> method
on the interface that the lambda is implementing. After-all, a lambda is an object; not just a function.

Moreover, <span class="org-code">Function</span> has useful methods: Such as <span class="org-code">andThen</span> for composing functions sequentially,
and <span class="org-code">Function.identity</span> for the do-nothing function.

<span class="org-hide">*</span><span class="org-level-2">* Common Java Functional Types </span><span class="org-level-2"><span class="org-tag">:centerline:</span></span>

Anyhow, <span class="org-link"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/function/package-summary.html">Java has ~40 functional interfaces</a></span>, which are essentially useful variations around the following 4:
<span class="org-table">|---------------------+--------+--------------------------------------------------------------------|</span>
<span class="org-table">| Class               | runner | Description &amp; example                                              |</span>
<span class="org-table">|---------------------+--------+--------------------------------------------------------------------|</span>
<span class="org-table">| </span><span class="org-macro">src(Supplier&lt;T&gt;)</span><span class="org-table">    | </span><span class="org-table"><span class="org-code">get</span></span><span class="org-table">    | Makes objects for us; e.g., </span><span class="org-macro">src(() -&gt; "Hello"!)</span><span class="org-table">.                    |</span>
<span class="org-table">| </span><span class="org-macro">src(Consumer&lt;T&gt;)</span><span class="org-table">    | </span><span class="org-table"><span class="org-code">accept</span></span><span class="org-table"> | Does stuff with our objects, returning void;                       |</span>
<span class="org-table">|                     |        | e.g., </span><span class="org-macro">src(s -&gt; System.out.println(s))</span><span class="org-table">.                              |</span>
<span class="org-table">| </span><span class="org-macro">src(Predicate&lt;T&gt;)</span><span class="org-table">   | </span><span class="org-table"><span class="org-code">test</span></span><span class="org-table">   | Tests our object for </span><span class="org-table"><span class="writegood-weasels">some</span></span><span class="org-table"> property, returning a boolean            |</span>
<span class="org-table">|                     |        | e.g., </span><span class="org-macro">src(s -&gt; s.length() == 3)</span><span class="org-table">                                      |</span>
<span class="org-table">| </span><span class="org-macro">src(Function&lt;T, R&gt;)</span><span class="org-table"> | </span><span class="org-table"><span class="org-code">apply</span></span><span class="org-table">  | Takes our object and gives us a new one; e.g., </span><span class="org-macro">src(s -&gt; s.length())</span><span class="org-table"> |</span>
<span class="org-table">|---------------------+--------+--------------------------------------------------------------------|</span>

For example, <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">&#119966;::new</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is a supplier for the
class &#119966;, and the <span class="org-link"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)">forEach</a></span> method on iterables actually uses a consumer
lambda, and a supplier can <span class="writegood-passive-voice">be used</span> to <span class="org-link"><a href="https://stackoverflow.com/questions/36255007/is-there-any-way-to-reuse-a-stream">reuse streams</a></span> (discussed below).

The remaining Java functional interfaces are variations on these 4
that <span class="writegood-passive-voice">are optimised</span> for primitive types, or have different number of
inputs as functions. For example, <span class="org-code">UnaryOperator&lt;T&gt;</span> is essentially
<span class="org-code">Function&lt;T, T&gt;</span>, and <span class="org-code">BiFunction&lt;A, B, C&gt;</span> is essentially
<span class="org-code">Function&lt;A, Function&lt;B, C&gt;&gt;</span> &#8212;&#8212;&#8212;not equivalent, but essentially the
same thing.

- As another example, Java has a <span class="org-code">TriConsumer</span> which is the type of functions that have 3 inputs and no outputs
  ---since <span class="org-code">Tri</span> means 3, as in <span class="italic">tricycle</span>.

<span class="org-hide">*</span><span class="org-level-2">* Eta Reduction: Writing Lambda Expressions as Method References </span><span class="org-level-2"><span class="org-tag">:centerline:</span></span>

Lambdas can sometimes <span class="writegood-passive-voice">be simplified</span> by using <span class="italic">method reference</span>:

<span class="org-table">| Method type |   |                       |   |                                    |</span>
<span class="org-table">|-------------+---+-----------------------+---+------------------------------------|</span>
<span class="org-table">| Static      |   |</span><span class="org-table"><span class="org-latex-and-related"> $(x,ys) &#8594; &#964;.f(x, ys)$ </span></span><span class="org-table">| &#8776; |</span><span class="org-table"><span class="org-latex-and-related"> $&#964;::f$ </span></span><span class="org-table">                            |</span>
<span class="org-table">| Instance    |   |</span><span class="org-table"><span class="org-latex-and-related"> $(x,ys) &#8594; x.f(ys)$ </span></span><span class="org-table">   | &#8776; |</span><span class="org-table"><span class="org-latex-and-related"> $&#964;::f$,</span></span><span class="org-table"> where &#964; is the type of</span><span class="org-table"><span class="org-latex-and-related"> $x$ </span></span><span class="org-table">|</span>
<span class="org-table">| Constructor |   | </span><span class="org-table"><span class="org-code">args &#8594; new &#964;&lt;A&gt;(args)</span></span><span class="org-table"> | &#8776; | </span><span class="org-table"><span class="org-code">&#964;&lt;A&gt;::new</span></span><span class="org-table">                          |</span>

For example, <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">(sentence, word) -&gt; sentence.indexOf(word)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is the same
as <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">String::indexOf</span><span class="shadow"><span class="org-inline-src-block">}</span></span>. Likewise, <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">(a, b) -&gt; Integer.max(a,
b)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is just <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Integer::max</span><span class="shadow"><span class="org-inline-src-block">}</span></span>.

+ Note that a class name &#964; might <span class="writegood-passive-voice">be qualified</span>; e.g., <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">x -&gt;
  System.out.println(x)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is just <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">System.out::println</span><span class="shadow"><span class="org-inline-src-block">}</span></span>.

<span class="org-level-1">* Variable Bindings</span>

Let's declare <span class="writegood-weasels">some</span> new names, and assert what we know about them.
<span class="org-block-begin-line">#+BEGIN_center
</span><span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Integer x, y = 1, z;</span><span class="shadow"><span class="org-inline-src-block">}</span></span>

#+latex: \vspace{-1em}
<span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">assert x = null &amp;&amp; y = 1 &amp;&amp; z = null;</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
<span class="org-block-end-line">#+END_center
</span>
<span class="comment">@@</span><span class="org-tag">latex:</span>\hspace{-1em}<span class="comment">@@</span>
<span class="org-code">&#964; x&#8320; = v&#8320;, &#8230;, x&#8345; = v&#8345;;</span> introduces &#120003;-new names <span class="org-code">x&#7522;</span> each having value <span class="org-code">v&#7522;</span> of type &#964;.
    - The <span class="org-code">v&#7522;</span> are optional, defaulting to <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block"> 0, false,</span><span class="shadow"><span class="org-inline-src-block">}</span></span> <span class="org-verbatim">'\000'</span>,
      <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">null </span><span class="shadow"><span class="org-inline-src-block">}</span></span> for numbers, booleans, characters, and
      object types, respectively.
    - Later we use <span class="org-code">x&#7522; = w&#7522;;</span> to update the name <span class="org-code">x&#7522;</span> to refer to a new value
      <span class="org-code">w&#7522;</span>.


<span class="org-meta-line">      #+html: &lt;hr&gt;</span>
<span class="org-block-begin-line">      #+begin_parallel 2 :bar t
</span><span class="org-block">     There are a variety of update statements:
     Suppose $&#964;$ is the type of $x$ then,
     #+latex: \vspace{.7em}
        | Augment:&#160; x &#8853;= y &#160;&#8776;&#160; x = (&#964;)(x &#8853; y)   |
        | Increment:&#160;&#160; x++ &#160;&#8776;&#160; x += 1)         |
        | Decrement:&#160; x-- &#160;&#8776;&#160; x -= 1)          |

        #+columnbreak:

        The operators -- and ++ can appear before or after a name:
        Suppose $&#119982;(x)$ is a statement mentioning the name $x$, then
        #+latex: \vspace{.7em}
        | &#119982;(x++) &#160;&#8776;&#160; &#119982;(x); x += 1 |
        | &#119982;(++x) &#160;&#8776;&#160; x += 1; &#119982;(x) |

</span><span class="org-block-end-line">     #+end_parallel
</span>
<span class="comment">        # * We also have /augmented updates/ &#160; ~x &#8853;= y &#160;&#8801;&#160; x = (&#964;)(x &#8853; y)~ &#160; and</span>
<span class="comment">        # | Increment: ~x-- &#160;&#8801;&#160; x += 1~ | and | Decrement: ~y-- &#160;&#8801;&#160; x -= 1~ |</span>
<span class="comment">        #</span>
<span class="comment">        # The operators ~--~ and ~++~ can appear /before or after/ a name:</span>
<span class="comment">        # \newline Suppose $&#119982;(x)$ is a statement mentioning the name $x$, then</span>
<span class="comment">        # | ~&#119982;(x++) &#160;&#8776;&#160; &#119982;(x); x += 1~  | and | ~&#119982;(++x) &#160;&#8776;&#160; x += 1; &#119982;(x)~  |</span>

<span class="comment">     # Note &#8220;+=&#8221; works for both numbers and strings:</span>
<span class="comment">     # String a = "hello";</span>
<span class="comment">     # a += " world";</span>

     Since compound assignment is really an <span class="org-link"><a href="https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.26.2">update with a /cast/</a></span>,
     there could <span class="writegood-passive-voice">be unexpected</span> behaviour when<span class="org-latex-and-related"> $x$ </span>and<span class="org-latex-and-related"> $y$ </span>are not both
     ints/floats.

     <span class="org-drawer">:Example:</span>
     short a = 0; <span class="italic">/ 16-bit integer
     int b = 123456;  32-bit integer
     a = b;  Error: Possible loss of converion
     a += b; /</span> Now: a == -7616 due to hidden cast!

     Long story short, don't use compound assignment operators on byte, short and char types.
     <span class="org-drawer">:End:</span>

<span class="org-meta-line">     #+html: &lt;hr&gt;</span>

- If we place the keyword <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">final</span><span class="shadow"><span class="org-inline-src-block">}</span></span> before the type &#964;,
  then the names are constant: They can appear only once on the right side of an &#8216;=&#8217;,
  and any further occurrences (i.e., to change their values) crash the program.
  <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block"> final int x = 1, y; y = 3; </span><span class="shadow"><span class="org-inline-src-block">}</span></span> is fine, but changing the
  second <span class="org-verbatim">y</span> to an <span class="org-verbatim">x</span> fails.

  <span class="org-drawer">:REPL:</span>
  { final int x = 0; x = 4; }

  Need the braces; see <span class="org-link"><a href="https://arbitrary-but-fixed.net/java/jshell/2018/01/17/jshell-final-toplevel-declarations.html">https://arbitrary-but-fixed.net/java/jshell/2018/01/17/jshell-final-toplevel-declarations.html</a></span>
  <span class="org-drawer">:End:</span>

- We may use <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">var </span><span class="org-block"><span class="variable-name">x</span></span><span class="org-block"> = v</span><span class="shadow"><span class="org-inline-src-block">}</span></span>, for only <span class="italic">one</span>
  declaration, to avoid writing the name of the type &#964; (which may be
  lengthy). Java then <span class="italic">infers</span> the type by inspecting the shape of
  <span class="org-verbatim">v</span>.

- Chained assignments associate to the right:
  <span class="org-table">| </span><span class="org-table"><span class="org-code">a += b /= 2 * ++c;</span></span><span class="org-table"> | &#160;&#8776;&#160; | </span><span class="org-table"><span class="org-code">a += (b /= (2 * ++c));</span></span><span class="org-table"> |</span>
  (The left side of an &#8220;=&#8221;, or &#8220;&#8853;=&#8221;, must a single name!)

  <span class="org-drawer">:Example:</span>
  int a, b, c, d = 1, e, f; a += b *= c /= d += e = 2 * ++f;
List.of(a, b, c, d, e, f).equals(List.of(0, 0, 0, 3, 2, 1))

int a, b, c, d = 1, e, f; a += (b *= (c /= (d += (e = (2 * ++f)))));
List.of(a, b, c, d, e, f).equals(List.of(0, 0, 0, 3, 2, 1))
  <span class="org-drawer">:End:</span>

<span class="comment"># - A binding name may include dollar signs ($) or underscores (_) or</span>
<span class="comment">#   numbers but no other punctuation or special characters.</span>
<span class="comment">#</span>
<span class="comment"># #+html: &lt;hr&gt;</span>
<span class="comment"># Variable bindings can only occur within </span><span class="org-inline-src-block"><span class="shadow"><span class="comment">src_</span></span></span><span class="org-inline-src-block"><span class="org-meta-line"><span class="comment">java</span></span></span><span class="org-inline-src-block"><span class="comment">[:exports code]</span></span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">class</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
<span class="comment"># definitions: A =class= binding introduces a name for a new type of</span>
<span class="comment"># values.</span>
<span class="comment">#</span>
<span class="org-level-1">* Scope, Statements, and Control Flow </span><span class="org-level-1"><span class="org-tag">:noexport_pdf:</span></span>

<span class="comment"># #</span>
<span class="org-block-begin-line">#+begin_parallel 2
</span><span class="org-block">#+begin_src java
var x = 1;

{ / new local scope
  var x = 200; / &#8220;shadows&#8221; top x
  var y = 300;
  assert x + y == 500;
}

/ y is not visible here
assert y == 20; / CRASH!

// The top-most x has not changed
assert x == 1;
#+END_SRC

#+latex: \columnbreak

&#8857; Each binding has a scope, which is the part of the program in which
the binding is visible.

#+latex: \vspace{1em}
&#8857; local bindings </span><span class="org-block"><span class="writegood-passive-voice">are defined</span></span><span class="org-block"> within a block and can only </span><span class="org-block"><span class="writegood-passive-voice">be referenced</span></span><span class="org-block"> in it.


#+latex: \vspace{1em}
&#8857; Names within a block /shadow//hide bindings with the same name.
</span><span class="org-block-end-line">#+end_parallel
</span>

Besides the assignment statement, we also have the following statements:
+ Blocks: If <span class="org-code">S&#7522;</span> are statements, then <span class="org-code">{S&#8320;; &#8230;; S&#8345;;}</span> is a statement.
+ Conditionals: <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">if (condition) S&#8321; else S&#8322;</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
+ The &#8220;for-each&#8221; syntax applies to iterable structures
  ---we will define our own later.
<span class="org-block-begin-line">  #+BEGIN_SRC java
</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Print all the elements in the given list.
</span></span><span class="org-block"><span class="keyword">for</span></span><span class="org-block"> (</span><span class="org-block"><span class="type">var</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">x</span></span><span class="org-block"> : List.of(1, 2, 3))
   System.out.printf(</span><span class="org-block"><span class="string">"x &#8776; %s\n"</span></span><span class="org-block">, x);
</span><span class="org-block-end-line">#+END_SRC
</span>
+ While-Loops <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">&#160;while (condition) S&#160;</span><span class="shadow"><span class="org-inline-src-block">}</span></span> and for-loops
  <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">&#160;for(init; cond; change) body&#160;</span><span class="shadow"><span class="org-inline-src-block">}</span></span>.

<span class="org-block-begin-line">    #+begin_src java
</span><span class="org-block">   </span><span class="org-block"><span class="type">var</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">i</span></span><span class="org-block"> = 0; </span><span class="org-block"><span class="keyword">while</span></span><span class="org-block"> (i &lt; 10) System.out.println(Math.pow(2, i++));
&#8776;
   </span><span class="org-block"><span class="keyword">for</span></span><span class="org-block">(</span><span class="org-block"><span class="type">var</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">i</span></span><span class="org-block"> = 0; i &lt; 10; i++) System.out.println(Math.pow(2, i));
</span><span class="org-block-end-line"> #+end_src
</span>
<span class="comment"> #  ~for~ rewrites to a ~while~ loop:</span>
<span class="comment"> #  </span><span class="org-inline-src-block"><span class="shadow"><span class="comment">src_</span></span></span><span class="org-inline-src-block"><span class="org-meta-line"><span class="comment">java</span></span></span><span class="org-inline-src-block"><span class="comment">[:exports code]</span></span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block"><span class="keyword">for</span></span><span class="org-block">(init; cond; change) body &#160;&#8776;&#160; init;
 #  </span><span class="org-block"><span class="keyword">while</span></span><span class="org-block">(cond){body; change;}</span><span class="shadow"><span class="org-inline-src-block">}</span></span><span class="comment">. As such, all three pieces of ~for~ are optional.</span>

 Exit the current loop with the <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">break;</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
  statement.  Similarly, the <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">continue;</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
  statement jumps out of the body and continues with the next
  iteration of the loop.

<span class="org-level-1">* </span><span class="org-inline-src-block"><span class="shadow"><span class="org-level-1">src_</span></span></span><span class="org-inline-src-block"><span class="org-meta-line"><span class="org-level-1">java</span></span></span><span class="org-inline-src-block"><span class="org-level-1">[:exports code]</span></span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">switch</span><span class="shadow"><span class="org-inline-src-block">}</span></span><span class="org-level-1"> </span><span class="org-level-1"><span class="org-tag">:noexport_pdf:</span></span>

Dispatching on a value with switch

<span class="org-block-begin-line">#+begin_parallel
</span>  <span class="bold">&#10214;Switch Statement&#10215;</span>
   #+begin_src java
switch (x){
  case v&#8321;: S&#8321;
  &#8942;
  case v&#8345;: S&#8345;
  default: S&#8345;
}
#+end_src

#+columnbreak:

   The <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">switch</span><span class="shadow"><span class="org-inline-src-block">}</span></span> works as follows:
   Find the <span class="italic">first</span> &#119998; with <span class="org-code">x == v&#7522;</span>, then execute
   <span class="org-code">{S&#7522;; &#8943;; S&#8344;;}</span>, if there is no such &#119998;, execute the
   default statement <span class="org-code">S&#8345;</span>. Where <span class="org-code">S&#8344;</span> is the first
   statement after <span class="org-code">S&#7522;</span> that ends with <span class="org-code">break;</span>.

<span class="org-block-end-line">#+end_parallel
</span>
   E.g., <span class="org-code">case v: S; case w: S&#8242;; break</span>
   means do <span class="org-code">S;S&#8242;</span> if we see <span class="org-code">v</span>
   but we do <span class="org-code">S&#8242;</span>
   when seeing both <span class="org-code">v</span> and <span class="org-code">w</span>.

<span class="org-block-begin-line">    #+begin_src java
</span><span class="org-block"><span class="keyword">switch</span></span><span class="org-block"> (2){
  </span><span class="org-block"><span class="keyword">case</span></span><span class="org-block"> 0: System.out.println(0);
  </span><span class="org-block"><span class="keyword">case</span></span><span class="org-block"> 1: System.out.println(1);
  </span><span class="org-block"><span class="keyword">case</span></span><span class="org-block"> 2: System.out.println(2);
  </span><span class="org-block"><span class="keyword">default</span></span><span class="org-block">: System.out.println(-1);
} </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; Outputs: 2 -1
</span></span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+html: &lt;hr&gt;</span>

   <span class="bold">&#10214;Switch Expression&#10215;</span>
   If we want to perform case analysis <span class="italic">without the fall-over behaviour</span>, we use
   arrows &#8216;&#8594;&#8217; instead of colons &#8216;:&#8217;.
<span class="org-block-begin-line">   #+begin_src java
</span><span class="org-block">   </span><span class="org-block"><span class="keyword">switch</span></span><span class="org-block"> (2){
     </span><span class="org-block"><span class="keyword">case</span></span><span class="org-block"> 0 -&gt; 0;
     </span><span class="org-block"><span class="keyword">case</span></span><span class="org-block"> 1 -&gt; 1;
     </span><span class="org-block"><span class="keyword">case</span></span><span class="org-block"> 2 -&gt; 2;
     </span><span class="org-block"><span class="keyword">default</span></span><span class="org-block"> -&gt; -1;
   } </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; 2
</span></span><span class="org-block-end-line">   #+end_src
</span>
<span class="org-level-1">* Strings</span>

Any pair of matching double-quotes will produce a string literal
---whereas single-quote around a single character produce a
<span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">char</span><span class="shadow"><span class="org-inline-src-block">}</span></span>acter value. For multi-line strings, use
triple quotes, <span class="org-verbatim">"""</span>, to produce <span class="italic">text blocks</span>.

String interpolation can <span class="writegood-passive-voice">be done</span> with <span class="org-code">String.format</span> using <span class="org-code">%s</span>
placeholders.  For advanced interpolation, such as positional
placeholders, use <span class="org-link"><a href="https://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html">MessageFormat</a></span>.

<span class="org-block-begin-line">#+BEGIN_SRC java
</span><span class="org-block">String.format(</span><span class="org-block"><span class="string">"Half of 100 is %s"</span></span><span class="org-block">, 100 / 2) </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; "Half of 100 is 50"
</span></span><span class="org-block-end-line">#+END_SRC
</span>
<span class="comment"># import java.text.MessageFormat;</span>
<span class="comment"># MessageFormat.format("G {0}", 12)</span>

+ <span class="org-code">s.repeat(&#120003;)</span> &#8776; Get a new string by gluing &#120003;-copies of the string &#120008;.
+ <span class="org-code">s.toUpperCase()</span> and <span class="org-code">s.toLowerCase()</span> to change case.
+ Trim removes spaces, newlines, tabs, and other whitespace from the start and
  end of a string.
  E.g., <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">"  okay \n ".trim().equals("okay")</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
+ <span class="org-code">s.length()</span> is the number of characters in the string.
+ <span class="org-code">s.isEmpty() &#160;&#8801;&#160; s.length() == 0</span>
+ <span class="org-code">s.isBlank() &#160;&#8801;&#160; s.trim().isEmpty()</span>
+ <span class="org-code">String.valueOf(x)</span> gets a string representation of anything <span class="org-code">x</span>.
+ <span class="org-code">s.concat(t)</span> glues together two strings into one longer string; i.e., <span class="org-code">s + t</span>.

<span class="org-level-1">* Equality</span>

+ In general, &#8216;==&#8217; <span class="writegood-passive-voice">is used</span> to check two primitives for equality, whereas
  <span class="org-verbatim">.equals</span> <span class="writegood-passive-voice">is used</span> to check if two objects are equal.

+ The equality operator &#8216;==&#8217; means &#8220;two things are indistinguishable:
  They evaluate to the same literal value, or refer to the same place in memory&#8221;.

+ As a method, <span class="org-code">.equals</span> can <span class="writegood-passive-voice">be redefined</span> to obtain a suitable notion
  of equality between objects; e.g., &#8220;two people are the same if they
  have the same name (regardless of anything else)&#8221;.  If it's not
  redefined, <span class="org-code">.equals</span> behaves the same as &#8216;==&#8217;.  In contrast, Java
  does not support operator overloading and so &#8216;==&#8217; cannot <span class="writegood-passive-voice">be
  redefined</span>.

+ For strings, &#8216;==&#8217; and <span class="org-code">.equals</span> behave differently:
  <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">new </span><span class="org-block"><span class="type">String</span></span><span class="org-block">("x") == new </span><span class="org-block"><span class="type">String</span></span><span class="org-block">("x")</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is false, but
  <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">new </span><span class="org-block"><span class="type">String</span></span><span class="org-block">("x").equals(new </span><span class="org-block"><span class="type">String</span></span><span class="org-block">("x"))</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is
  true!  The first checks that two things refer to the same place
  in memory, the second checks that they have the same letters in the
  same order.
  - If we want this kind of &#8220;two objects are equal when they have the
    same contents&#8221; behaviour, we can get it for free by using
    <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">record</span><span class="shadow"><span class="org-inline-src-block">}</span></span>s instead of <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports
    code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">class</span><span class="shadow"><span class="org-inline-src-block">}</span></span>es.

<span class="comment"># ?? + Precedence: Relationals like ~==~ and ~&gt;~ are first, then &#8220;and&#8221; ~&amp;&amp;~, then &#8220;or&#8221; ~||~.</span>
<span class="comment">#</span>
<span class="comment"># + The ternary operator: =condition ? if_true : if_false=</span>
<span class="comment">#</span>
<span class="comment"># &amp;&amp; and || are lazy.</span>

<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-2"> Equality</span>

References to the same object are equal, whereas different object literals
with the same properties <span class="writegood-passive-voice">are considered</span> different.
<span class="org-block-begin-line">#+BEGIN_SRC js
</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">a</span></span><span class="org-block"> = {value: 10};
</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">b</span></span><span class="org-block"> = a;
</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">c</span></span><span class="org-block"> = {value: 10};

console.log(a == b); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; true
</span></span><span class="org-block">console.log(a == c); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; false
</span></span><span class="org-block">
a.value = 15;
console.log(b.value); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; 15
</span></span><span class="org-block">console.log(c.value); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; 10
</span></span><span class="org-block-end-line">#+END_SRC
</span>
Since <span class="org-code">a</span> and <span class="org-code">b</span> refer to the same object, changing one also changes the value of
the other. However, <span class="org-code">c</span> only superficially looks the same.

We say different objects with the same properties are &#8220;deeply equal&#8221;.
<span class="org-block-begin-line">#+BEGIN_SRC js
</span><span class="org-block">  </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">If non-objects, perform strict equality. Else, recursively check they have
</span></span><span class="org-block">  </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">the (deeply) same values and properties.
</span></span><span class="org-block">  </span><span class="org-block"><span class="keyword">function</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">deepEqual</span></span><span class="org-block">(</span><span class="org-block"><span class="variable-name">x</span></span><span class="org-block">, </span><span class="org-block"><span class="variable-name">y</span></span><span class="org-block">){
    </span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (</span><span class="org-block"><span class="keyword">typeof</span></span><span class="org-block"> x != </span><span class="org-block"><span class="keyword">typeof</span></span><span class="org-block"> y) </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">false</span></span><span class="org-block">;
    </span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (x &amp;&amp; y &amp;&amp; </span><span class="org-block"><span class="keyword">typeof</span></span><span class="org-block"> x != </span><span class="org-block"><span class="string">'object'</span></span><span class="org-block">) </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> x === y; </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Values
</span></span><span class="org-block">    </span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">props</span></span><span class="org-block"> = Object.keys(x).concat(Object.keys(y));
    </span><span class="org-block"><span class="keyword">for</span></span><span class="org-block"> (</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">p</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">of</span></span><span class="org-block"> props) </span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (! deepEqual(x[p], y[p])) </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">false</span></span><span class="org-block">;
    </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">true</span></span><span class="org-block">;
  }

  </span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">obj</span></span><span class="org-block"> = {here: {is: </span><span class="org-block"><span class="string">"an"</span></span><span class="org-block">}, object: 2};
  console.log(deepEqual(obj, {here: 1, object: 2})); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; false
</span></span><span class="org-block">  console.log(deepEqual(obj, {here: {is: </span><span class="org-block"><span class="string">"an"</span></span><span class="org-block">}, object: 2})); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; true
</span></span><span class="org-block">  console.log(deepEqual(1, 0 + 1)); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; true
</span></span><span class="org-block-end-line">#+END_SRC
</span>
Because of a historical accident, <span class="org-code">typeof null</span> produces <span class="org-code">"object"</span>.
<span class="org-level-1">* Arithmetic</span>

In addition to the standard arithmetic operations, we have <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports
code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Math.max(x, y)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> that takes two numbers and gives the largest; likewise
<span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Math.min(x, y)</span><span class="shadow"><span class="org-inline-src-block">}</span></span>.  Other common functions include
<span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Math.sqrt, Math.ceil, Math.round, Math.abs,</span><span class="shadow"><span class="org-inline-src-block">}</span></span> and
<span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Math.random()</span><span class="shadow"><span class="org-inline-src-block">}</span></span> which returns a random number between 0
and 1.  Also, use <span class="org-code">%</span> for remainder after division; e.g., <span class="org-verbatim">n % 10</span> is the right-most
digit of integer<span class="org-latex-and-related"> $n$,</span> and <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">n % 2 = 0</span><span class="shadow"><span class="org-inline-src-block">}</span></span><span class="org-verbatim"> exactly when $n$ is
even, and </span><span class="org-verbatim"><span class="org-verbatim">d % 1</span></span> gives the decimal points of a floating point number<span class="org-latex-and-related"> $d$,</span> and
finally: If <span class="org-code">d</span> is the index of the current weekday (0..6), then <span class="org-code">d + 13 % 7</span> is the
weekday 13-days from today.
<span class="comment"># In general, modulus is useful when working with a value that resets after a certain limit</span>

<span class="org-block-begin-line">#+begin_parallel :bar t
</span><span class="org-block">#+latex: \begingroup\scriptsize
#+begin_src java
// Scientific notation: &#120013;e&#120014; &#8776; &#120013; &#215; 10&#696;
assert 1.2e3 == 1.2 * Math.pow(10, 3)
#+end_src

#+begin_src java
// random integer x with 4 &#8804; x &lt; 99
var x = new Random().nextInt(4, 99);
#+end_src
#+latex:\endgroup
</span><span class="org-block-end-line">#+end_parallel
</span>
<span class="org-block-begin-line">#+begin_box "Sum the digits of the integer $n = 31485$"
</span><span class="org-block">#+begin_src java
int n = 31485;
int sum = 0;
while (n % 10 != 0) { sum += n % 10; n /= 10; }
assert sum == 3 + 1 + 4 + 8 + 5;
#+end_src

--------------------------------------------------------------------------------
#+latex: \vspace{1em}
A more elegant, &#8220;functional style&#8221;, solution:
#+latex: \vspace{.3em}
#+begin_src java
String.valueOf(n).chars().map(c -&gt; c - '0').sum();
#+end_src


# Neato.
# // Random number in range min..max
# Math.floor(Math.random() * (max - min) + min)

#+latex: \vspace{1em}
The chars() methods returns a stream of integers (Java
</span><span class="org-inline-src-block"><span class="shadow"><span class="org-block">src_</span></span></span><span class="org-inline-src-block"><span class="org-meta-line"><span class="org-block">java</span></span></span><span class="org-inline-src-block"><span class="org-block">[:exports code]</span></span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">char</span><span class="shadow"><span class="org-inline-src-block">}</span></span><span class="org-block">acters are really just integers).
Likewise, </span><span class="org-inline-src-block"><span class="shadow"><span class="org-block">src_</span></span></span><span class="org-inline-src-block"><span class="org-meta-line"><span class="org-block">java</span></span></span><span class="org-inline-src-block"><span class="org-block">[:exports code]</span></span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">IntStream.range(0, 20)</span><span class="shadow"><span class="org-inline-src-block">}</span></span><span class="org-block"> makes a
sequence of numbers that we can then map over, then sum, min, max, average.
</span><span class="org-block-end-line">#+end_box
</span>
<span class="org-drawer">:Ordering_on_chars:</span>
<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Upper case letters come first, then lower case ones.
</span></span><span class="org-block">assert </span><span class="org-block"><span class="string">'Z'</span></span><span class="org-block"> &lt; </span><span class="org-block"><span class="string">'a'</span></span><span class="org-block"> &amp;&amp; </span><span class="org-block"><span class="string">'a'</span></span><span class="org-block"> &lt; </span><span class="org-block"><span class="string">'z'</span></span><span class="org-block">;
</span><span class="org-block-end-line">#+end_src
</span><span class="org-drawer">:End:</span>

<span class="org-level-1">* Collections and Streams</span>

<span class="italic">Collections</span> are types that hold a bunch of similar data: Lists,
Sets, and Maps are the most popular. <span class="italic">Streams</span> are pipelines for
altering collections: Usually one has a collection, converts it to a
stream by invoking <span class="org-code">.stream()</span>, then performs <span class="org-code">map</span> and <span class="org-code">filter</span>
methods, etc, then &#8220;collects&#8221; (i.e., runs the stream pipeline to get
an actual collection value back) the result.
<span class="comment"># &#10214;Streams exist because</span>
<span class="comment"># Java lacks a proper extension mechanism, such as C#'s /extension</span>
<span class="comment"># methods/ or Haskell's /typeclasses/ or JavaScript's /prototypes/.&#10215;</span>

<span class="org-meta-line">#+html: &lt;hr&gt;</span>

<span class="bold">Lists </span><span class="bold"><span class="writegood-passive-voice">are ordered</span></span><span class="bold"> collections, that care about multiplicity</span>.  Lists
<span class="writegood-passive-voice">are made</span> with <span class="org-code">List.of(x&#8320;, x&#8321;, &#8230;, x&#8345;)</span>.  Indexing, <span class="org-code">xs.get(&#119998;)</span>, yields
the &#119998;-th element from the start; i.e., the number of items to skip;
whence <span class="org-code">xs.get(0)</span> is the first element.

<span class="bold">Sets </span><span class="bold"><span class="writegood-passive-voice">are unordered</span></span><span class="bold"> collections, that ignore multiplicity</span>. Sets <span class="writegood-passive-voice">are
made</span> with <span class="org-code">Set.of(x&#8320;, x&#8321;, &#8230;, x&#8345;)</span>.

<span class="bold">Maps are pairs of &#8216;keys&#8217; along with &#8216;values&#8217;.</span> <span class="org-code">Map&lt;K, V&gt;</span> is
essentially the class of objects that have no methods but instead have
an arbitary number of properties (the &#8216;keys&#8217; of type <span class="org-verbatim">K</span>), where each
property has a value of type <span class="org-verbatim">V</span>.  Maps <span class="writegood-passive-voice">are made</span> with <span class="org-code">Map.of(k&#8320;, v&#8320;,
&#8230;, k&#8321;&#8320;, v&#8321;&#8320;)</span> by explicitly declaraing keys and their associated
values.  The method <span class="org-code">&#8499;.get(k)</span> returns the value to which the
specified key <span class="org-verbatim">k</span> <span class="writegood-passive-voice">is mapped</span>, or <span class="org-verbatim">null</span> if the map &#8499; contains no
mapping for the key. Maps have an <span class="org-code">entrySet()</span> method that gives a set
of key-value pairs, which can then <span class="writegood-passive-voice">be converted</span> to a stream, if need
be.

<span class="org-meta-line">#+html: &lt;hr&gt;</span>

Other collection methods include, for a collection instance &#119966;:
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">&#119966;.size()</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is the number of elements in the collection
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">&#119966;.isEmpty()</span><span class="shadow"><span class="org-inline-src-block">}</span></span> &#160;&#8801;&#160; <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">&#119966;.size() == 0</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">&#119966;.contains(e)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> &#160;&#8801;&#160; <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">&#119966;.stream().filter(x -&gt; x.equals(e)).count() &gt; 0</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Collections.fill(&#8466;, e)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> &#160;&#8773;&#160; <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">&#8466;.stream().map(_ -&gt; e).toList()</span><span class="shadow"><span class="org-inline-src-block">}</span></span>;
  i.e., copy list <span class="org-code">&#8466;</span> but replace all elements with <span class="org-code">e</span>.
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Collections.frequency(&#119966;, e)</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
  counts how <span class="writegood-weasels">many</span> times <span class="org-code">e</span> occurs in a collection.
<span class="comment">  # ~Collections.frequency(&#119966;, e) &#160;&#8773;&#160; &#119966;.stream().filter(x -&gt; x.equals(e)).count()~;</span>
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Collections.max(&#119966;)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is the largest value in a collection; likewise <span class="org-code">min</span>.
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Collections.nCopies(n, e)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is a list of<span class="org-latex-and-related"> $n$ </span>copies of <span class="org-code">e</span>.

<span class="org-meta-line">#+html: &lt;hr&gt;</span>

<span class="bold">src_java[:exports code]{Stream&lt;&#964;&gt;} methods</span>
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Stream.of(x&#8320;, ..., x&#8345;)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> makes a stream of data, of type &#964;, ready to <span class="writegood-passive-voice">be acted</span> on.
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.map(f)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> changes the elements according to a function<span class="org-latex-and-related"> $f : &#964; &#8594; &#964;&#8242;$.</span>
  - <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.flatMap(f)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> transforms each element into a stream since<span class="org-latex-and-related"> $f : &#964; &#8594; Stream&lt;&#964;&#8242;&gt;$,</span> then the resulting
    stream-of-streams <span class="writegood-passive-voice">is flattened</span> into a single sequential stream.
  - As such, to merge a streams of streams just invoke <span class="org-code">.flatMap(s -&gt; s)</span>.
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.filter(p)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> keeps only the elements that satisfy property <span class="org-code">p</span>
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.count()</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is the number of elements in the stream
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.allMatch(p)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> tests if all elements  satisfy the <span class="org-link"><a href="https://download.java.net/java/early_access/panama/docs/api/java.base/java/util/function/Predicate.html">predicate</a></span> <span class="org-code">p</span>
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.anyMatch(p)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> tests if any element satisfies <span class="org-code">p</span>
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.noneMatch(p)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> &#160;&#8801;&#160; <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.allMatch(p.negate())</span><span class="shadow"><span class="org-inline-src-block">}</span></span>
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.distinct()</span><span class="shadow"><span class="org-inline-src-block">}</span></span> drops all duplicates
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.findFirst()</span><span class="shadow"><span class="org-inline-src-block">}</span></span> returns an <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">Optional&lt;&#964;&gt;</span><span class="shadow"><span class="org-inline-src-block">}</span></span> denoting the first element, if any.
+ <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.forEach(a)</span><span class="shadow"><span class="org-inline-src-block">}</span></span> to loop over the elements and perform action <span class="org-code">a</span>.
  - If you want to do <span class="writegood-weasels">some</span> action, and get the stream <span class="org-code">s</span> back for further use,
    then use <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">s.peek(a)</span><span class="shadow"><span class="org-inline-src-block">}</span></span>.

<span class="comment"># Higher-order functions start to shine when you need to compose operations.</span>

<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-level-2"><span class="org-todo"><span class="hl-todo"><span class="custom-1">TODO</span></span></span></span><span class="org-level-2"> </span><span class="org-special-keyword">COMMENT</span><span class="org-level-2"> Dictionries or maps</span>

   An object can also <span class="writegood-passive-voice">be used</span> as a <span class="italic">&#8220;key:value&#8221;</span> dictionary: When we &#8216;look-up&#8217; a key,
   we find a particular value. E.g., with <span class="org-code">ages = {mark: 12, james: 23, larry: 42}</span>
   we use <span class="org-code">ages.mark</span> to find Mark's age.

   Similarly, objects can <span class="writegood-passive-voice">be used</span> to simulate <span class="italic">keyword arguments</span> in function calls.

<span class="org-level-1">* </span><span class="org-level-1"><span class="org-done"><span class="hl-todo"><span class="custom">DONE</span></span></span></span><span class="org-level-1"> </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"><span class="org-headline-done"> Streams are just a lazy, declarative, (</span></span><span class="org-level-1"><span class="org-headline-done"><span class="writegood-weasels">mostly</span></span></span><span class="org-level-1"><span class="org-headline-done"> side-effect-free), abstraction of design patterns manually implemented with procedural for-loops and </span></span><span class="org-level-1"><span class="org-headline-done"><span class="org-code">if</span></span></span><span class="org-level-1"><span class="org-headline-done">'s</span></span>

When someone sees the stream <span class="org-code">.map</span> method, it's clear that we are
using the obvious explicit design pattern for transforming elements of
a data source.  In contrast, using a <span class="org-code">for</span> loop means that the entire
data source will <span class="writegood-passive-voice">be processed</span> even if it's not all needed, and <span class="italic">there
may be</span> stateful mutation within the loop body.

--------------------------------------------------------------------------------

<span class="italic">Collections</span> are data, and <span class="italic">Streams</span> are how we operate on them at a high-level
rather ---than resorting to <span class="org-code">for</span> loops and <span class="org-code">if</span>'s.

Collections are just containers of objects. There are a bunch of them with slightly different API's, depending on what you need. There is List, Set, Map, ...

Streams are for data transformation and processing. That's what the API <span class="writegood-passive-voice">is designed</span> for. You can map, filter, reduce, ...

--------------------------------------------------------------------------------0

Streams are for incrementally processing <span class="writegood-weasels">some</span> data source (could be a
collection, or it could <span class="writegood-passive-voice">be generated</span> on the fly as you process it) and
either doing something on the result, or transforming it to <span class="writegood-weasels">some</span> other
representation.

Think of it like a pipeline of operations <span class="writegood-passive-voice">being performed</span> on <span class="writegood-weasels">some</span> data
<span class="writegood-passive-voice">being fed</span> in.

Stuff <span class="writegood-passive-voice">is accessed</span> in a stream lazily (so only when you demand each
item), unless you use a terminal operation like .toList, .collect,
.reduce, .forEach, .distinct, .count, .iterator, etc. In the latter
case, the entire stream contents will usually get retrieved eagerly
and buffered before the next operation <span class="writegood-passive-voice">is run</span>. The side effect of this
is that unless your stream contains/ends with a terminal operation,
nothing will <span class="writegood-passive-voice">be executed</span>.

Streams <span class="writegood-passive-voice">are designed</span> to let you focus on "what is <span class="writegood-passive-voice">being done</span>" rather
than "how it is <span class="writegood-passive-voice">being done</span>" (declarative rather than
imperitive). Doing this lets you write code in a functional style
which ideally reads more closely to how you would explain it as a
human.

--------------------------------------------------------------------------------

Stuff <span class="writegood-passive-voice">is accessed</span> in a stream lazily (so only when you demand each
item), unless you use a terminal operation like .toList, .collect,
.reduce, .forEach, .distinct, .count, .iterator, etc. In the latter
case, the entire stream contents will usually get retrieved eagerly
and buffered before the next operation <span class="writegood-passive-voice">is run</span>. The side effect of this
is that unless your stream contains/ends with a terminal operation,
nothing will <span class="writegood-passive-voice">be executed</span>.

This means that streams can be infinite; e.g., see .generate or .iterate.
Since they are lazy (ie fancy &#8220;short circuiting&#8221;).
<span class="italic">And can only </span><span class="italic"><span class="writegood-passive-voice">be consumed</span></span><span class="italic"> once.</span>
+ So a method with an argument typed <span class="italic">Stream</span> communicates more information
  about how the argument <span class="writegood-passive-voice">is used</span>: Namely, that the argument <span class="writegood-passive-voice">is used</span> only once!
  - C.f., &#8220;linear methods&#8221; and &#8220;linear logic and programming&#8221;.
  - This use-once constraint is because a stream's data values need not exist
    before they <span class="writegood-passive-voice">are accessed</span>, nor <span class="writegood-passive-voice">be stored</span> anywhere afterwards. The canonical
    example here is a stream of random integers where each <span class="writegood-passive-voice">is generated</span> upon access.
    Such a stream cannot <span class="writegood-passive-voice">be reused</span> unless we explicitly save the values somewhere.

<span class="org-level-1">* Generics</span>

Java only lets us return a single value from a method, what if we want
to return a pair of values? <span class="writegood-weasels">Easy</span>, let's declare <span class="org-code">record Pair(Object
first, Object second) { }</span> and then return <span class="org-code">Pair</span>. This solution has
the same problem as methods that just return <span class="org-code">Object</span>: It communicates
essentially no information ---after all, <span class="italic">everything is an object!</span>---
and so requires dangerous casts to be useful, and the compiler wont
help me avoid type mistakes.
<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="type">record</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">Pair</span></span><span class="org-block">(</span><span class="org-block"><span class="type">Object</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">first</span></span><span class="org-block">, </span><span class="org-block"><span class="type">Object</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">second</span></span><span class="org-block">) { }

</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">This should return an integer and a string
</span></span><span class="org-block"><span class="type">Pair</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">myMethod</span></span><span class="org-block">() { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Pair</span></span><span class="org-block">(</span><span class="org-block"><span class="string">"1"</span></span><span class="org-block">, </span><span class="org-block"><span class="string">"hello"</span></span><span class="org-block">); } </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Oops, I made a typo!
</span></span><span class="org-block">
</span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">num</span></span><span class="org-block"> = (</span><span class="org-block"><span class="type">int</span></span><span class="org-block">) (myMethod().first()); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">BOOM!
</span></span><span class="org-block-end-line">#+end_src
</span>
It would be better if we could say &#8220;this method returns a pair of an integer and a string&#8221;, for example.
We can do just that with <span class="italic">generics</span>!
<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="type">record</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">Pair&lt;</span></span><span class="org-block"><span class="type">A</span></span><span class="org-block"><span class="function-name">, </span></span><span class="org-block"><span class="type">B</span></span><span class="org-block"><span class="function-name">&gt;</span></span><span class="org-block">(</span><span class="org-block"><span class="type">A</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">first</span></span><span class="org-block">, </span><span class="org-block"><span class="type">B</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">second</span></span><span class="org-block">) { }

</span><span class="org-block"><span class="type">Pair</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">Integer</span></span><span class="org-block">, </span><span class="org-block"><span class="type">String</span></span><span class="org-block">&gt; </span><span class="org-block"><span class="function-name">myMethod</span></span><span class="org-block">() { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Pair</span></span><span class="org-block">&lt;&gt;(1, </span><span class="org-block"><span class="string">"hello"</span></span><span class="org-block">); }

</span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">num</span></span><span class="org-block"> = myMethod().first();
</span><span class="org-block-end-line">#+end_src
</span>This approach <span class="italic">communicates to the compiler my intentions</span> and so the compiler ensures I don't make any silly typos.
Such good communication also means no dangerous casts <span class="writegood-passive-voice">are required</span>.

We can use the new type in three ways:
<span class="org-table">| </span><span class="org-table"><span class="org-code">Pair&lt;A, B&gt;</span></span><span class="org-table"> | explicitly providing the types we want to use </span><span class="org-table"><span class="org-code">Pair</span></span><span class="org-table"> with          |</span>
<span class="org-table">| </span><span class="org-table"><span class="org-code">Pair&lt;&gt;</span></span><span class="org-table">     | letting Java </span><span class="org-table"><span class="italic">infer, guess,</span></span><span class="org-table"> the types for </span><span class="org-table"><span class="org-code">Pair</span></span><span class="org-table"> by how we use it |</span>
<span class="org-table">| </span><span class="org-table"><span class="org-code">Pair</span></span><span class="org-table">       | defaulting the types to all be </span><span class="org-table"><span class="org-code">Object</span></span><span class="org-table">                            |</span>

The final option is not recommended, since it looses type information. It's only allowed
since older versions of Java do not have type parameters and so, at run time, all type
parameters are &#8216;erased&#8217;. That is, <span class="italic">type parameters only exist at compile time and so cannot
</span><span class="italic"><span class="writegood-passive-voice">be inspected</span></span><span class="italic">/observed at run-time.</span>

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Methods</span>

<span class="org-meta-line">#+latex: {\color{white}.}\vspace{-1em}</span>
+ <span class="italic">Warning!</span> Arguments <span class="writegood-passive-voice">are evaluated</span> <span class="bold">before</span> the function <span class="writegood-passive-voice">is executed</span>.

+ <span class="italic">Method</span> definition:
<span class="org-block-begin-line">  #+BEGIN_SRC java
</span><span class="org-block"><span class="type">&#964;</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">f</span></span><span class="org-block">(&#964;&#8321; x&#8321;, &#8230;, </span><span class="org-block"><span class="type">&#964;&#8345;</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">x&#8345;</span></span><span class="org-block">) {
    &#8942;
    </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> e;
    }
</span><span class="org-block-end-line">  #+END_SRC
</span>
In your home, furniture <span class="italic">must</span> be in <span class="writegood-weasels">some</span> room.
  Likewise, in Java, methods <span class="italic">must</span> be part of <span class="writegood-weasels">some</span>
  <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">class</span><span class="shadow"><span class="org-inline-src-block">}</span></span>,
  <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">record</span><span class="shadow"><span class="org-inline-src-block">}</span></span>, or
  <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">interface</span><span class="shadow"><span class="org-inline-src-block">}</span></span>.
  - A <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">class</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is a <span class="italic">type</span> consisting of <span class="writegood-weasels">some</span> state and <span class="writegood-weasels">some</span> methods.
  - A <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">record</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is a "value class": It is like a class, but it has no private hidden state
    and cannot <span class="writegood-passive-voice">be changed</span>. It's like a number: <span class="italic">What you see is what you get!</span>
    (It's essentially a fancy tuple, pair, or heterogenous-array. More on this later!)
  - An <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">interface</span><span class="shadow"><span class="org-inline-src-block">}</span></span> is a collection of method <span class="italic">signatures</span>: It is a bunch of method names,
    that can <span class="writegood-passive-voice">be implemented</span> by a <span class="org-verbatim">class</span> or a <span class="org-verbatim">record</span>. It may also have <span class="org-inline-src-block"><span class="shadow">src_</span></span><span class="org-inline-src-block"><span class="org-meta-line">java</span></span><span class="org-inline-src-block">[:exports code]</span><span class="shadow"><span class="org-inline-src-block">{</span></span><span class="org-block">default</span><span class="shadow"><span class="org-inline-src-block">}</span></span> definitions
    of methods. It is an abstraction with <span class="italic">no</span> state.

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> The </span><span class="org-level-1"><span class="org-code">this</span></span><span class="org-level-1"> Keyword</span>

<span class="org-drawer">:Hide:</span>
Methods are nothing more than properties that hold function values. This is a
<span class="writegood-weasels">simple</span> method:

<span class="org-block-begin-line">#+BEGIN_SRC js
</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">rabbit</span></span><span class="org-block"> = {};
rabbit.speak = </span><span class="org-block"><span class="keyword">function</span></span><span class="org-block">(</span><span class="org-block"><span class="variable-name">line</span></span><span class="org-block">) {
  console.log(</span><span class="org-block"><span class="string">`The rabbit says '${line}'`</span></span><span class="org-block">);
};

rabbit.speak(</span><span class="org-block"><span class="string">"I'm alive."</span></span><span class="org-block">); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; The rabbit says 'I'm alive.'
</span></span><span class="org-block-end-line">#+END_SRC
</span><span class="org-drawer">:End:</span>

Usually a method needs to do something with the object it <span class="writegood-passive-voice">was called</span> on. When a
function <span class="writegood-passive-voice">is called</span> as a method --- looked up as a property and immediately
called, as in <span class="org-code">object.method()</span> &#8212;-- the binding called <span class="org-code">this</span> in its body
automatically points at the object that it <span class="writegood-passive-voice">was called</span> on.

<span class="org-block-begin-line">#+BEGIN_SRC js
</span><span class="org-block"><span class="keyword">function</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">speak</span></span><span class="org-block">(</span><span class="org-block"><span class="variable-name">line</span></span><span class="org-block">) {
  console.log(</span><span class="org-block"><span class="string">`The ${this.type} rabbit says '${line}'`</span></span><span class="org-block">);
}
</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">whiteRabbit</span></span><span class="org-block">  = {type: </span><span class="org-block"><span class="string">"white"</span></span><span class="org-block">, speak};
</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">hungryRabbit</span></span><span class="org-block"> = {type: </span><span class="org-block"><span class="string">"hungry"</span></span><span class="org-block">, speak};

whiteRabbit.speak(</span><span class="org-block"><span class="string">"Hola!"</span></span><span class="org-block">); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; The white rabbit says 'Hola!'
</span></span><span class="org-block">hungryRabbit.speak(</span><span class="org-block"><span class="string">"Hey!"</span></span><span class="org-block">)  </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; The hungry rabbit says 'Hey!'
</span></span><span class="org-block-end-line">#+END_SRC
</span>
<span class="org-hide">*</span><span class="org-level-2">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-2"> </span><span class="org-level-2"><span class="org-verbatim">THIS</span></span><span class="org-level-2"> keyword</span>

The keyword <span class="org-code">this</span> is useful when your code needs to refer to the instance of the object, where this code is running.


Notice that the <span class="org-code">this</span> keyword allows us to refer to other parts of
<span class="italic">this</span> object literal.
<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Object-Oriented Programming / Inheritance</span>

<span class="org-hide">*</span><span class="org-level-2">* Intro </span><span class="org-level-2"><span class="org-tag">:myIgnore:</span></span>

In English, <span class="italic">prototype</span> means a preliminary model of something from which
other forms <span class="writegood-passive-voice">are developed</span> or <span class="italic">copied</span>. As such, a <span class="italic">prototypical</span> object
is an object denoting the original or typical form of something.

In addition to their properties, JavaScript objects also have prototype ---i.e.,
another object that <span class="writegood-passive-voice">is used</span> as a source of additional properties. When an object
gets a request for a property that it does not have, its prototype will <span class="writegood-passive-voice">be
searched</span> for the property, then the prototype&#8217;s prototype, and so on.
<span class="comment"># the way JavaScript objects work. In addition to their set of properties, most</span>
<span class="comment"># objects also have a prototype. A prototype is another object that </span><span class="comment"><span class="writegood-passive-voice">is used</span></span><span class="comment"> as a</span>
<span class="comment"># fallback source of properties. When an object gets a request for a property that</span>
<span class="comment"># it does not have, its prototype will </span><span class="comment"><span class="writegood-passive-voice">be searched</span></span><span class="comment"> for the property, then the</span>
<span class="comment"># prototype&#8217;s prototype, and so on.</span>

+ <span class="org-code">Object.getPrototypeOf(x)</span> returns the prototype of an object <span class="org-code">x</span>.

For example, arrays <span class="writegood-passive-voice">are derived</span> from <span class="org-code">Array.prototype</span> which <span class="writegood-passive-voice">is derived</span> from
<span class="org-code">Object.prototype</span> ---which is the great ancestral prototype, the entity behind
almost all object. <span class="org-code">Object.prototype</span> provides a <span class="writegood-weasels">few</span> methods that show up in all
objects, such as <span class="org-code">toString</span>, which converts an object to a string representation.

<span class="comment"># What Properties Does a (prototype) Object have?</span>
+ We can use the <span class="org-code">Object.getOwnPropertyNames(x)</span> to get all the property names
  linked to object <span class="org-code">x</span>.

It is occasionally useful to know whether an object <span class="writegood-passive-voice">was derived</span> from a specific
class. For this, JavaScript provides a binary operator called <span class="org-code">instanceof</span>.
Almost every object is an instance of Object.

+ <span class="org-code">&#120013; instanceof &#120014;  &#8776;  Object.getPrototypeOf(&#120013;) == &#120014;.prototype</span>

<span class="org-block-begin-line">#+BEGIN_SRC js
</span><span class="org-block"> </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8220;Object&#8221; includes &#8220;toString&#8221;, and </span></span><span class="org-block"><span class="comment"><span class="writegood-weasels">some</span></span></span><span class="org-block"><span class="comment"> other technical utilities.
</span></span><span class="org-block"> console.log(Object.getOwnPropertyNames(Object.</span><span class="org-block"><span class="constant">prototype</span></span><span class="org-block">))

</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment"><span class="writegood-weasels">Some</span></span></span><span class="org-block"><span class="comment"> true facts
</span></span><span class="org-block">console.log( {}       </span><span class="org-block"><span class="keyword">instanceof</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Object</span></span><span class="org-block">
           , []       </span><span class="org-block"><span class="keyword">instanceof</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Array</span></span><span class="org-block">
           , Math.max </span><span class="org-block"><span class="keyword">instanceof</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Function</span></span><span class="org-block">
           , Math.max </span><span class="org-block"><span class="keyword">instanceof</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Object</span></span><span class="org-block">) </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Since Function derives from Object
</span></span><span class="org-block">
</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8220;Object&#8221; has no parent prototype.
</span></span><span class="org-block">console.log(Object.getPrototypeOf(Object.</span><span class="org-block"><span class="constant">prototype</span></span><span class="org-block">)); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; null
</span></span><span class="org-block-end-line">#+END_SRC
</span>
<span class="org-hide">*</span><span class="org-level-2">* Overriding Methods</span>

<span class="comment"># +latex: \newpage</span>
 (<span class="bold">Overriding</span>)
 When you add a property to an object, whether it is present in the prototype or
 not, the property <span class="writegood-passive-voice">is added</span> to the object itself. If there was already a property
 with the same name in the prototype, this property will no longer affect the
 object, as it is now hidden behind the object&#8217;s own property.
<span class="org-meta-line">#+latex: \vspace{-0.5em}</span>
<span class="comment"># #</span>
<span class="org-block-begin-line">#+begin_parallel org
</span><span class="org-block"><span class="org-block-begin-line"> #+BEGIN_SRC js
</span></span><span class="org-block"><span class="org-block">Array.</span></span><span class="org-block"><span class="org-block"><span class="constant">prototype</span></span></span><span class="org-block"><span class="org-block">.colour = </span></span><span class="org-block"><span class="org-block"><span class="string">'purple'</span></span></span><span class="org-block"><span class="org-block">

</span></span><span class="org-block"><span class="org-block"><span class="keyword">let</span></span></span><span class="org-block"><span class="org-block"> </span></span><span class="org-block"><span class="org-block"><span class="variable-name">xs</span></span></span><span class="org-block"><span class="org-block"> = [1, 2, 3]
console.log(xs.colour) </span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">// </span></span></span><span class="org-block"><span class="org-block"><span class="comment">&#8658; purple
</span></span></span><span class="org-block"><span class="org-block-end-line">#+END_SRC
</span></span><span class="org-block"><span class="org-meta-line">#+latex: \columnbreak</span></span><span class="org-block">
</span><span class="org-block"><span class="org-block-begin-line">#+BEGIN_SRC js
</span></span><span class="org-block"><span class="org-block">xs.colour = </span></span><span class="org-block"><span class="org-block"><span class="string">'green'</span></span></span><span class="org-block"><span class="org-block">
console.log(xs.colour) </span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">// </span></span></span><span class="org-block"><span class="org-block"><span class="comment">&#8658; green
</span></span></span><span class="org-block"><span class="org-block">
console.log(Array.</span></span><span class="org-block"><span class="org-block"><span class="constant">prototype</span></span></span><span class="org-block"><span class="org-block">.colour)
</span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">// </span></span></span><span class="org-block"><span class="org-block"><span class="comment">&#8658; purple
</span></span></span><span class="org-block"><span class="org-block-end-line">#+END_SRC
</span></span><span class="org-block-end-line">#+end_parallel
</span>
<span class="org-meta-line">#+latex: \vspace{-1em}</span>

<span class="org-hide">*</span><span class="org-level-2">* Inheritance</span>

 With <span class="org-code">extends</span>, the new class inherits properties and behavior from the old
 class ---it is like <span class="org-code">Object.create(parentPrototype)</span>. The old, parent, class <span class="writegood-passive-voice">is
 called</span> the &#8220;super-class&#8221; and we refer to it using the <span class="org-code">super</span> binding.

<span class="org-block-begin-line"> #+BEGIN_SRC js
</span><span class="org-block">   </span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> Person {
     constructor(name) { </span><span class="org-block"><span class="constant">this</span></span><span class="org-block">.name = name; }
     speak() { console.log(</span><span class="org-block"><span class="string">`I am ${this.name}`</span></span><span class="org-block">); }
   }

   </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Use &#8220;super&#8221; to invoke properties of the parent, such as the parent's
</span></span><span class="org-block">   </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">constructor.
</span></span><span class="org-block">   </span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> Teacher </span><span class="org-block"><span class="keyword">extends</span></span><span class="org-block"> Person {
    constructor(name, topic) { </span><span class="org-block"><span class="keyword">super</span></span><span class="org-block">(name); </span><span class="org-block"><span class="constant">this</span></span><span class="org-block">.topic = topic; }
    speak() { </span><span class="org-block"><span class="keyword">super</span></span><span class="org-block">.speak(); console.log(</span><span class="org-block"><span class="string">`I teach ${this.topic}`</span></span><span class="org-block">); }
   }

   </span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">bobby</span></span><span class="org-block"> = </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Person</span></span><span class="org-block">(</span><span class="org-block"><span class="string">'Bob'</span></span><span class="org-block">);
   bobby.speak(); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; I am Bob
</span></span><span class="org-block">
   </span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">bobert</span></span><span class="org-block"> = </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Teacher</span></span><span class="org-block">(</span><span class="org-block"><span class="string">'Bob'</span></span><span class="org-block">, </span><span class="org-block"><span class="string">'Maths'</span></span><span class="org-block">);
   bobert.speak(); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; I am Bob \n I teach Maths
</span></span><span class="org-block-end-line"> #+END_SRC
</span> <span class="org-drawer">:Hide:</span>
<span class="org-block-begin-line"> #+BEGIN_SRC js
</span><span class="org-block">   </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">It is occasionally useful to know whether an object </span></span><span class="org-block"><span class="comment"><span class="writegood-passive-voice">was derived</span></span></span><span class="org-block"><span class="comment"> from a
</span></span><span class="org-block">   </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">specific class. For this, JavaScript provides a binary operator called
</span></span><span class="org-block">   </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">instanceof. Almost every object is an instance of Object.
</span></span><span class="org-block">   console.log( bobert </span><span class="org-block"><span class="keyword">instanceof</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Person</span></span><span class="org-block">
              , bobert </span><span class="org-block"><span class="keyword">instanceof</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Teacher</span></span><span class="org-block">
              , bobby  </span><span class="org-block"><span class="keyword">instanceof</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Teacher</span></span><span class="org-block">
              , [1, 2] </span><span class="org-block"><span class="keyword">instanceof</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Array</span></span><span class="org-block">
              )
</span><span class="org-block-end-line"> #+END_SRC
</span> <span class="org-drawer">:End:</span>

<span class="org-hide">*</span><span class="org-level-2">* OOP Summary</span>

 So objects do more than just hold their own properties. They have prototypes,
 which are other objects. They&#8217;ll act as if they have properties they don&#8217;t have
 as long as their prototype has that property. <span class="writegood-weasels">Simple</span> objects have
 Object.prototype as their prototype.

 The instanceof operator can, given an object and a constructor, tell you whether
 that object is an instance of that constructor.

 When implementing multiple classes that differ in only <span class="writegood-weasels">some</span> details, it can be
 helpful to write the new classes as subclasses of an existing class, inheriting
 part of its behavior.
<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Class Extension &amp; Overloading</span>

In the real life, every person inherits <span class="writegood-weasels">some</span> features from his or her parents.  Likewise, it&#8217;s easier to create <span class="italic">children</span>
classes that will inherit <span class="writegood-weasels">some</span> common behavior and attributes from a <span class="italic">parent</span> class, rather than creating each <span class="italic">child</span> class
from scratch every time and copy-pasting the common features.

<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> </span><span class="org-block"><span class="type">A</span></span><span class="org-block">           { </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">age</span></span><span class="org-block">() { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> 1; } }
</span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> </span><span class="org-block"><span class="type">B</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">extends</span></span><span class="org-block"> </span><span class="org-block"><span class="type">A</span></span><span class="org-block"> { </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">age</span></span><span class="org-block">() { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> 2; } } </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8220;Overrides&#8221; the &#8216;age&#8217; of parent </span></span><span class="org-block"><span class="comment"><span class="writegood-duplicates">A
</span></span></span><span class="org-block"><span class="writegood-duplicates">
</span></span><span class="org-block"><span class="type"><span class="writegood-duplicates">A</span></span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">a</span></span><span class="org-block"> = </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">B</span></span><span class="org-block">();
a.age(); </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">2
</span></span><span class="org-block-end-line">#+end_src
</span>
The actual implementation of <span class="org-verbatim">age()</span> <span class="writegood-passive-voice">is determined</span> at run-time: <span class="org-verbatim">a</span> is an
<span class="org-verbatim">A</span> which has an <span class="org-verbatim">age</span> method; moreover, <span class="org-verbatim">a</span> <span class="writegood-passive-voice">is specialised</span> kind of
<span class="org-verbatim">A</span> known as a <span class="org-verbatim">B</span>, which overrides the implementation of the <span class="org-verbatim">age</span>
method.

In general, <span class="italic">when there are overloads, the most specific overload </span><span class="italic"><span class="writegood-passive-voice">is used</span></span><span class="italic">.</span>
<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">height</span></span><span class="org-block">(</span><span class="org-block"><span class="type"><span class="writegood-duplicates">A</span></span></span><span class="org-block"><span class="writegood-duplicates"> </span></span><span class="org-block"><span class="variable-name"><span class="writegood-duplicates">a</span></span></span><span class="org-block">) { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> 10; }
</span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">height</span></span><span class="org-block">(</span><span class="org-block"><span class="type"><span class="writegood-duplicates">B</span></span></span><span class="org-block"><span class="writegood-duplicates"> </span></span><span class="org-block"><span class="variable-name"><span class="writegood-duplicates">b</span></span></span><span class="org-block">) { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> 20; }

height(a) </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">20
</span></span><span class="org-block-end-line">#+end_src
</span>
Note: Properties cannot be overriden, only methods can.

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Streams</span>

<span class="org-block-begin-line">#+BEGIN_SRC java
</span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> </span><span class="org-block"><span class="type">SameNameNoProblem0</span></span><span class="org-block"> {

    </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Recursion with the &#8216;tri&#8217;angle numbers: tri(f, n) = &#931;&#8319;&#7522;&#8332;&#8320; f(i).
</span></span><span class="org-block">    </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">tri</span></span><span class="org-block">(</span><span class="org-block"><span class="type">Function</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">Integer</span></span><span class="org-block">, </span><span class="org-block"><span class="type">Integer</span></span><span class="org-block">&gt; </span><span class="org-block"><span class="variable-name">f</span></span><span class="org-block">, </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">n</span></span><span class="org-block">) {
        </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> n &lt;= 0 ? 0 : f.apply(n) + tri(f, n - 1);
        </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Equivalently: return IntStream.range(0, n + 1).map(f::apply).sum();
</span></span><span class="org-block">    }

    </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">tri(Function.identity(), 100); // &#8658; 5050
</span></span><span class="org-block">    </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">tri(x -&gt; x / 2, 100);         // &#8658; 2500
</span></span><span class="org-block">
    </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Contextual location determines dispatch.
</span></span><span class="org-block">    </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">int tri = 100; int fiftyFifty = tri(Function.identity(), tri); //  &#8658; 5050
</span></span><span class="org-block">    </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Likewise, location determines dispatch!
</span></span><span class="org-block">    </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Function</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">Integer</span></span><span class="org-block">, </span><span class="org-block"><span class="type">Integer</span></span><span class="org-block">&gt; </span><span class="org-block"><span class="variable-name">tri</span></span><span class="org-block"> = x -&gt; x;
    </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">fiftyFifty</span></span><span class="org-block"> = tri(tri, 100); </span><span class="org-block"><span class="comment-delimiter">//  </span></span><span class="org-block"><span class="comment">&#8658; 5050
</span></span><span class="org-block">}
</span><span class="org-block-end-line">#+END_SRC
</span>
<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Lists and List-Like Structures</span>

+ Produce a syntactic, un-evaluated list, we use the single quote:
  <span class="org-code">'(1 2 3)</span>.

+ Construction: <span class="org-code">(cons 'x&#8320; '(x&#8321; &#8230; x&#8342;)) &#8594; (x&#8320; x&#8321; &#8230; x&#8342;)</span>.

+ Head, or <span class="italic">contents of the address part of the register</span>:
   <span class="org-code">(car '(x&#8320; x&#8321; &#8230; x&#8342;)) &#8594; x&#8320;</span>.

+ Tail, or <span class="italic">contents of the decrement part of the register</span>:
   <span class="org-code">(cdr '(x&#8320; x&#8321; &#8230; x&#8342;)) &#8594; (x&#8321; &#8230; x&#8342;)</span>.

<span class="comment"># + Deletion: ~(delete e xs)~ yields ~xs~ with all instance of ~e~ removed.</span>
<span class="comment">#  - E.g., ~(delete 1 '(2 1 3 4 1)) &#8594; '(2 3 4)~.</span>
<span class="comment">#</span>
<span class="comment"># (describe-symbol 'remove-if-not) ;; &#8220;filter&#8221; ;-)</span>

E.g., <span class="org-code">(cons 1 (cons "a" (cons 'nice nil))) &#8776; (list 1 "a" 'nice) &#8776; '(1 "a" nice)</span>.

<span class="org-meta-line">#+latex: \room</span>
Since variables refer to literals and functions have lambdas as literals, we
can produce forms that take functions as arguments. E.g., the standard <span class="org-code">mapcar</span>
may <span class="writegood-passive-voice">be construed</span>:
<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">defun</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">my-mapcar</span></span><span class="org-block"> (f xs)
  (</span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (null xs) xs
   (cons (funcall f (car xs)) (my-mapcar f (cdr xs)))))

(my-mapcar (</span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> (x) (* 2 x)) '(0 1 2 3 4 5)) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; (0 2 4 6 8 10)
</span></span><span class="org-block">(my-mapcar 'upcase '(</span><span class="org-block"><span class="string">"a"</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"b"</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"cat"</span></span><span class="org-block">)) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; ("A" "B" "CAT")
</span></span><span class="org-block-end-line">#+END_SRC
</span>
Pairs: <span class="org-code">(x . y) &#8776; (cons x y)</span>.

  An association list, or alist, is a list formed of such pairs.
  They're useful for any changeable collection of key-value pairs.
  The <span class="org-code">assoc</span> function takes a key and an alist and returns the first pair
  having that key. In the end, alists are just lists.

  <span class="org-drawer">:Try_it_out:</span>
<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> drinks '( (jasim . coffee) (mary . tea) (jasim . chai) ))

(assoc 'mary drinks) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; (mary . tea)
</span></span><span class="org-block">(assoc 'jasim drinks) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; (jasim . coffee)
</span></span><span class="org-block">
(</span><span class="org-block"><span class="keyword">push</span></span><span class="org-block"> '(mary . cola) drinks)
(assoc 'mary drinks) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; (mary . cola)
</span></span><span class="org-block-end-line">#+END_SRC
</span><span class="org-drawer">:End:</span>

<span class="org-meta-line">#+latex: \room</span>
(Rose) Trees in lisp are <span class="writegood-weasels">easily</span> formed as lists of lists where each inner
   list is of length 2:
   The first symbol is the parent node and the second is the list of children.

<span class="org-meta-line">#+latex: \room</span>
Lists <span class="writegood-passive-voice">are formed</span> by chains of cons cells, so getting and setting are <span class="writegood-weasels">very</span> slow;
likewise for alists. If performance <span class="writegood-passive-voice">is desired</span>, one uses arrays and hash tables,
respectively, instead. In particular, the performance of arrays and hash tables always
requires a constant amount of time whereas the performance of lists and alists grows in
proportion with their lengths.

However, the size of an array <span class="writegood-passive-voice">is fixed</span> ---it cannot change and thus grow--- and hash
tables have a lookup cost as well as issues with "hash collisions". Their use is worth
it for large amounts of data, otherwise lists are the way to go.

<span class="org-meta-line">#+latex: \room</span>
An <span class="org-link"><a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Arrays.html">array</a></span> <span class="writegood-passive-voice">is created</span> like a list but using [only square brackets] with getter <span class="org-code">(aref arr index)</span>.

A hash table <span class="writegood-passive-voice">is created</span> with <span class="org-code">(make-hash-table)</span> with getter <span class="org-code">(gethash key table)</span>.

<span class="org-drawer">:Try_it_out:</span>
<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> x [0 1 2 nice])
(aref x 3)
(aset x 0 'woah)

(</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> drinks (make-hash-table))
(</span><span class="org-block"><span class="keyword">setf</span></span><span class="org-block"> (gethash 'mary drinks) 'tea)
(</span><span class="org-block"><span class="keyword">setf</span></span><span class="org-block"> (gethash 'mary drinks) 'chai)
(gethash 'mary drinks) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; 'chai
</span></span><span class="org-block-end-line">#+END_SRC
</span><span class="org-drawer">:End:</span>

<span class="org-meta-line">#+latex: \room</span>
What if you look up a key and get <span class="org-code">nil</span>, is there no value for that key or is the value
<span class="org-code">nil</span>? <span class="org-code">gethash</span> takes a final, optional, argument which is the value to return when the
key is not found; it is <span class="org-code">nil</span> by default.

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Records</span>

If we want to keep a list of related properties in a list, then we have to remember
which position keeps track of which item and may write helper functions to keep track
of this. Instead we could use a structure.
<span class="org-drawer">:More:</span>
A Lisp "Structure, record, object" represents objects with properties as in OOP.
Make a structure like this: (defstruct X (f1 d1) (f2 d2) ... (fn dn)), this creates a record type named X with slots/properties/fields fi having defaults di or nil if di is absent in which case we <span class="writegood-weasels">simply</span> write fi rather than (fi di), moreover it gives the generic constructor (make-X :f1 val1 :f2 val2 ... :fn valn) where any of the fi is optional and assigned nil by default; projection functions X.fi are also provided automatically.
Printing and reading symmetry works as expected with structures and updates happen with setf as expected.
<span class="org-drawer">:End:</span>

<span class="org-block-begin-line">#+BEGIN_SRC elisp
</span><span class="org-block">(defstruct X </span><span class="org-block"><span class="doc">"Record with fields/slots f&#7522; having defaults d&#7522;"</span></span><span class="org-block">
  (f&#8320; d&#8320;) &#8943; (f&#8342; d&#8342;))

</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">Automatic constructor is &#8220;make-X&#8221; with keyword parameters for
</span></span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">initialising any subset of the fields!
</span></span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">Hence (expt 2 (1+ k)) kinds of possible constructor combinations!
</span></span><span class="org-block">(make-X </span><span class="org-block"><span class="builtin">:f&#8320;</span></span><span class="org-block"> val&#8320; </span><span class="org-block"><span class="builtin">:f&#8321;</span></span><span class="org-block"> val&#8321; &#8943; </span><span class="org-block"><span class="builtin">:f&#8342;</span></span><span class="org-block"> val&#8342;) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">Any, or all, f&#7522; may </span></span><span class="org-block"><span class="comment"><span class="writegood-passive-voice">be omitted</span></span></span><span class="org-block"><span class="comment">
</span></span><span class="org-block">
</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">Automatic runtime predicate for the new type.
</span></span><span class="org-block">(X-p (make-X)) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; true
</span></span><span class="org-block">(X-p 'nope)    </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; nil
</span></span><span class="org-block">
</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">Field accessors &#8220;X-f&#7522;&#8221; take an X record and yield its value.
</span></span><span class="org-block">
</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">Field update: (setf (X-f&#7522; x) val&#7522;)
</span></span><span class="org-block">
(defstruct book
  title  (year  0))

(</span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> ladm (make-book </span><span class="org-block"><span class="builtin">:title</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"Logical Approach to Discrete Math"</span></span><span class="org-block"> </span><span class="org-block"><span class="builtin">:year</span></span><span class="org-block"> 1993))
(book-title ladm) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; "Logical Approach to Discrete Math"
</span></span><span class="org-block">(</span><span class="org-block"><span class="keyword">setf</span></span><span class="org-block"> (book-title ladm) </span><span class="org-block"><span class="string">"LADM"</span></span><span class="org-block">)
(book-title ladm) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; "LADM"
</span></span><span class="org-block-end-line">#+END_SRC
</span>
Advanced OOP constructs can <span class="writegood-passive-voice">be found</span> within the CLOS, Common Lisp Object System;
which is also used as a research tool for studying OOP ideas.

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Conditionals</span>

+ Booleans: <span class="org-code">nil</span>, the empty list <span class="org-code">()</span>, <span class="writegood-passive-voice">is considered</span> <span class="italic">false</span>, all else
  is <span class="italic">true</span>.
  - Note: <span class="org-code">nil &#8776; () &#8776; '() &#8776; 'nil</span>.
  - (Deep structural) equality: <span class="org-code">(equal x y)</span>.
  - Comparisons: As expected; e.g., <span class="org-code">(&lt;= x y)</span> denotes <span class="italic">x &#8804; y</span>.

+ <span class="org-code">(if condition thenExpr optionalElseBlock)</span>
  - Note: <span class="org-code">(if x y) &#8776; (if x y nil)</span>; \newline better: <span class="org-code">(when c thenBlock) &#8776; (if c (progn thenBlock))</span>.
  - Note the else-clause is a &#8216;block&#8217;: Everything after the then-clause <span class="writegood-passive-voice">is considered</span> to be part of it.
  - <span class="org-code">(if xs &#8943;)</span> means &#8220;if xs is nonempty then &#8943;&#8221; is akin to C style idioms on
    linked lists.

<span class="comment">#</span>
<span class="org-block-begin-line">#+begin_parallel org
</span><span class="org-block"><span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span></span><span class="org-block"><span class="org-block">(</span></span><span class="org-block"><span class="org-block"><span class="keyword">cond</span></span></span><span class="org-block"><span class="org-block">
  (test&#8320;
    actionBlock&#8320;)
  (test&#8321;
    actionBlock&#8321;)
  &#8230;
  (t                    </span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">;; </span></span></span><span class="org-block"><span class="org-block"><span class="comment">optional
</span></span></span><span class="org-block"><span class="org-block">    defaultActionBlock))
</span></span><span class="org-block"><span class="org-block-end-line">#+END_SRC
</span></span><span class="org-block">  \columnbreak
</span><span class="org-block"><span class="org-block-begin-line">   #+BEGIN_SRC emacs-lisp
</span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">;; </span></span></span><span class="org-block"><span class="org-block"><span class="comment">pattern matching on any type
</span></span></span><span class="org-block"><span class="org-block">(</span></span><span class="org-block"><span class="org-block"><span class="keyword">defun</span></span></span><span class="org-block"><span class="org-block"> </span></span><span class="org-block"><span class="org-block"><span class="function-name">go</span></span></span><span class="org-block"><span class="org-block"> (x)
  (</span></span><span class="org-block"><span class="org-block"><span class="keyword">pcase</span></span></span><span class="org-block"><span class="org-block"> x
    ('bob 1972)
    (`(,a ,_ ,c) (+ a c))
    (otherwise </span></span><span class="org-block"><span class="org-block"><span class="string">"Shucks!"</span></span></span><span class="org-block"><span class="org-block">)))

(go 'bob)     </span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">;; </span></span></span><span class="org-block"><span class="org-block"><span class="comment">&#8658; 1972
</span></span></span><span class="org-block"><span class="org-block">(go '(1 2 3)) </span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">;; </span></span></span><span class="org-block"><span class="org-block"><span class="comment">&#8658; 4
</span></span></span><span class="org-block"><span class="org-block">(go 'hallo)   </span></span><span class="org-block"><span class="org-block"><span class="comment-delimiter">;; </span></span></span><span class="org-block"><span class="org-block"><span class="comment">"Shucks!"
</span></span></span><span class="org-block"><span class="org-block-end-line">#+END_SRC
</span></span><span class="org-block-end-line">#+end_parallel
</span>
Avoid nested if-then-else clauses by using a <span class="org-code">cond</span> statement --a (lazy) generalisation
of switch statements: It sequentially evaluates the expressions <span class="org-code">test&#7522;</span> and
performs only the action of the first true test; yielding <span class="org-code">nil</span> when no tests are true.
Or use <span class="org-link"><a href="http://www.wilfred.me.uk/blog/2017/03/19/pattern-matching-in-emacs-lisp/">pattern matching</a></span>; which even allows predicates in the case position ---<span class="org-code">C-h o</span> ;-)

<span class="org-drawer">:Try_it_out:</span>
<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
  (t (message </span><span class="org-block"><span class="string">"first"</span></span><span class="org-block">))
  ((/ 2 0) (message </span><span class="org-block"><span class="string">"crash"</span></span><span class="org-block">))
)
</span><span class="org-block-end-line">#+END_SRC
</span><span class="org-drawer">:End:</span>

<span class="org-meta-line">#+latex: \room</span>
Hint: If you write a predicate, think of what else you can return besides <span class="org-code">t</span>; such as
a witness to why you're returning truth --all non-nil values denote true after all.
E.g., <span class="org-code">(member e xs)</span> returns the sublist of <span class="org-code">xs</span> that begins with <span class="org-code">e</span>.
<span class="comment"># Return more than just the truth!</span>

<span class="org-drawer">:Try_it_out:</span>
<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block">(member 1 '(2 1 3 5))
</span><span class="org-block-end-line">#+END_SRC
</span><span class="org-drawer">:End:</span>

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Loops</span>

Let's sum the first <span class="org-code">100</span> numbers in 3 ways.
<span class="comment">#</span>
<span class="org-block-begin-line">#+begin_parallel org
</span><span class="org-block"><span class="org-block-begin-line">#+BEGIN_SRC elisp
</span></span><span class="org-block"><span class="org-block">(</span></span><span class="org-block"><span class="org-block"><span class="keyword">let</span></span></span><span class="org-block"><span class="org-block"> ((n 100) (i 0) (sum 0))
  (</span></span><span class="org-block"><span class="org-block"><span class="keyword">while</span></span></span><span class="org-block"><span class="org-block"> (&lt;= i n)
    (incf sum i) (incf i))
    (message (format </span></span><span class="org-block"><span class="org-block"><span class="string">"sum: %s"</span></span></span><span class="org-block"><span class="org-block"> sum)))
</span></span><span class="org-block"><span class="org-block-end-line">#+END_SRC
</span></span><span class="org-block">\columnbreak

</span><span class="org-block"><span class="org-table">| </span></span><span class="org-block"><span class="org-table"><span class="underline">C</span></span></span><span class="org-block"><span class="org-table">      | </span></span><span class="org-block"><span class="org-table"><span class="underline">Elisp</span></span></span><span class="org-block"><span class="org-table">      |</span></span><span class="org-block">
</span><span class="org-block"><span class="org-table">| </span></span><span class="org-block"><span class="org-table"><span class="org-code">x += y</span></span></span><span class="org-block"><span class="org-table"> | </span></span><span class="org-block"><span class="org-table"><span class="org-code">(incf x y)</span></span></span><span class="org-block"><span class="org-table"> |</span></span><span class="org-block">
</span><span class="org-block"><span class="org-table">| </span></span><span class="org-block"><span class="org-table"><span class="org-code">x -= y</span></span></span><span class="org-block"><span class="org-table"> | </span></span><span class="org-block"><span class="org-table"><span class="org-code">(decf x y)</span></span></span><span class="org-block"><span class="org-table"> |</span></span><span class="org-block">

</span><span class="org-block"><span class="org-code">y</span></span><span class="org-block"> is optional, and is 1 by default.
</span><span class="org-block-end-line">#+end_parallel
</span>
<span class="comment"># dotimes is just a specfic while loop.</span>
<span class="comment"># (insert (format "\n\n%s" (macroexpand '(dotimes (x l r) b))))</span>

<span class="comment"># Two instances of a while loop:</span>
<span class="org-block-begin-line">#+BEGIN_SRC elisp
</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">Repeat body n times, where i is current iteration.
</span></span><span class="org-block">(</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> ((result 0) (n 100))
  (</span><span class="org-block"><span class="keyword">dotimes</span></span><span class="org-block"> (i (1+ n) result) (incf result i)))

</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">A for-each loop: Iterate through the list [0..100].
</span></span><span class="org-block">(</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> ((result 0) (mylist (number-sequence 0 100)))
  (</span><span class="org-block"><span class="keyword">dolist</span></span><span class="org-block"> (e mylist result) (incf result e)))
</span><span class="org-block-end-line">#+END_SRC
</span>
In both loops, <span class="org-code">result</span> is optional and defaults to nil.
It is the return value of the loop expression.
<span class="org-meta-line">#+latex: \vspace{-1em}</span>
<span class="org-table">| </span><span class="org-table"><span class="bold">Example of Above Constructs</span></span><span class="org-table"> |</span>
<span class="org-meta-line">#+latex: \vspace{-1em}</span>
<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">defun</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">my/cool-function</span></span><span class="org-block"> (N D)
  </span><span class="org-block"><span class="doc">"Sum the numbers 0..N that are not divisible by D"</span></span><span class="org-block">
  (</span><span class="org-block"><span class="keyword">catch</span></span><span class="org-block"> '</span><span class="org-block"><span class="constant">return</span></span><span class="org-block">
    (</span><span class="org-block"><span class="keyword">when</span></span><span class="org-block"> (&lt; N 0) (</span><span class="org-block"><span class="keyword">throw</span></span><span class="org-block"> '</span><span class="org-block"><span class="constant">return</span></span><span class="org-block"> 0)) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">early exit
</span></span><span class="org-block">    (</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> ((counter 0) (sum 0))
      (</span><span class="org-block"><span class="keyword">catch</span></span><span class="org-block"> '</span><span class="org-block"><span class="constant">break</span></span><span class="org-block">
    (</span><span class="org-block"><span class="keyword">while</span></span><span class="org-block"> 'true
      (</span><span class="org-block"><span class="keyword">catch</span></span><span class="org-block"> '</span><span class="org-block"><span class="constant">continue</span></span><span class="org-block">
        (incf counter)
        (</span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block"> ((equal counter N)       (</span><span class="org-block"><span class="keyword">throw</span></span><span class="org-block"> '</span><span class="org-block"><span class="constant">break</span></span><span class="org-block"> sum   ))
           ((zerop (% counter D))  (</span><span class="org-block"><span class="keyword">throw</span></span><span class="org-block"> '</span><span class="org-block"><span class="constant">continue</span></span><span class="org-block"> nil))
           ('otherwise             (incf sum counter   )) )))))))

(my/cool-function  100 3)  </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; 3267
</span></span><span class="org-block">(my/cool-function  100 5)  </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; 4000
</span></span><span class="org-block">(my/cool-function -100 7)  </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; 0
</span></span><span class="org-block-end-line">#+END_SRC
</span>
The special <span class="org-link"><a href="http://www.gigamonkeys.com/book/loop-for-black-belts.html">loop</a></span> construct provides immensely <span class="writegood-weasels">many</span> options to form
nearly any kind of imperative loop. E.g., Python-style &#8216;downfrom&#8217; for-loops
and Java do-while loops. I personally prefer functional programming, so wont
look into this much.

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Exception Handling</span>

We can attempt a dangerous clause and catch a possible exceptional case
--below we do not do so via <span class="org-code">nil</span>-- for which we have an associated handler.
<span class="comment"># Which handles how to recover from such exceptional circumstances.</span>
<span class="org-block-begin-line">#+BEGIN_SRC elisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">condition-case</span></span><span class="org-block"> nil attemptClause (</span><span class="org-block"><span class="warning">error</span></span><span class="org-block"> recoveryBody))

  (</span><span class="org-block"><span class="keyword">ignore-errors</span></span><span class="org-block"> attemptBody)
&#8776; (</span><span class="org-block"><span class="keyword">condition-case</span></span><span class="org-block"> nil (</span><span class="org-block"><span class="keyword">progn</span></span><span class="org-block"> attemptBody) (</span><span class="org-block"><span class="warning">error</span></span><span class="org-block"> nil))

(</span><span class="org-block"><span class="keyword">ignore-errors</span></span><span class="org-block"> (+ 1 </span><span class="org-block"><span class="string">"nope"</span></span><span class="org-block">)) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; nil
</span></span><span class="org-block-end-line">#+END_SRC
</span>
<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Types &amp; Overloading</span>

Since Lisp is dynamically typed, a variable can have any kind of data, possibly
different kinds if data at different times in running a program.
We can use <span class="org-code">type-of</span> to get the type of a given value; suffixing that with <span class="org-code">p</span>
gives the associated predicate; \newline e.g., <span class="org-code">function &#8614; functionp</span>.
<span class="org-drawer">:More:</span>
The following predicates tell us what kind of data a variable
has: <span class="org-code">numberp, arrayp, characterp,</span>
<span class="org-code">consp, functionp, hash-tablep, listp, stringp, and symbolp</span>.
<span class="org-drawer">:End:</span>

<span class="org-drawer">:Details:</span>
Using these we can write functions that behave differently according to the types of
their arguments. However this sort of ad hoc polymorphism can be slow and difficult to
maintain when new types need to <span class="writegood-passive-voice">be considered</span>. Instead, we could create overloaded
methods using the defmethod command: Lisp decides which one to use by considering the
types, hence the types of each declaration need to differ in at least one argument.
<span class="org-drawer">:End:</span>

<span class="org-drawer">:Try_it_out:</span>
<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block">(type-of 3)        </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">integer
</span></span><span class="org-block">(type-of </span><span class="org-block"><span class="string">"3"</span></span><span class="org-block">)      </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">string
</span></span><span class="org-block">(type-of 'x)       </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">symbol
</span></span><span class="org-block">(type-of '(x . y)) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">cons
</span></span><span class="org-block">(type-of nil)      </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">symbol
</span></span><span class="org-block">(type-of '(1 2 3)) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">cons
</span></span><span class="org-block">(type-of [1 2 3])  </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">vector
</span></span><span class="org-block-end-line">#+END_SRC
</span><span class="org-drawer">:End:</span>

<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">Difficult to maintain as more types </span></span><span class="org-block"><span class="comment"><span class="writegood-passive-voice">are added</span></span></span><span class="org-block"><span class="comment">.
</span></span><span class="org-block">(</span><span class="org-block"><span class="keyword">defun</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">sad-add</span></span><span class="org-block"> (a b)
  (</span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (</span><span class="org-block"><span class="keyword">and</span></span><span class="org-block"> (numberp a) (numberp b))
      (+ a b)
      (format </span><span class="org-block"><span class="string">"%s + %s"</span></span><span class="org-block"> a b))
)

(sad-add 2 3)       </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; 5
</span></span><span class="org-block">(sad-add 'nice </span><span class="org-block"><span class="string">"3"</span></span><span class="org-block">) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; "nice + 3"
</span></span><span class="org-block">
</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">Better: Seperation of concerns.
</span></span><span class="org-block"><span class="comment-delimiter">;;</span></span><span class="org-block"><span class="comment">
</span></span><span class="org-block">(</span><span class="org-block"><span class="keyword">cl-defmethod</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">add</span></span><span class="org-block"> ((a number) (b number)) (+ a b))      </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">number types
</span></span><span class="org-block">(</span><span class="org-block"><span class="keyword">cl-defmethod</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">add</span></span><span class="org-block"> ((a t) (b t)) (format </span><span class="org-block"><span class="string">"%s + %s"</span></span><span class="org-block"> a b)) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">catchall types
</span></span><span class="org-block">
(add 2 3)       </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; 5
</span></span><span class="org-block">(add 'nice </span><span class="org-block"><span class="string">"3"</span></span><span class="org-block">) </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#8658; "nice + 3"
</span></span><span class="org-block-end-line">#+END_SRC
</span>
While list specific functions like list-length and mapcar may be more efficient than
generic functions, which require extra type checking, the generic ones are easier to
remember. The following generic functions work on lists, arrays, and strings:
+ <span class="org-code">find-if</span>, gets first value satisfying a predicate.
+ <span class="org-code">count</span>, finds how <span class="writegood-weasels">often</span> an element appears in a sequence
+ <span class="org-code">position</span>, finds the index of a given element.
+ <span class="org-code"><span class="writegood-weasels">some</span></span>, check if any element satisfies a given predicate
+ <span class="org-code">every</span>, check if every element satisfies the given predicate
+ <span class="org-code">reduce</span>, takes a binary operation and a sequence and mimics a for-loop.
  Use keyword <span class="org-code">:initial-value</span> to specify the starting value, otherwise use head of
  sequence.
+ <span class="org-code">sum</span>, add all numbers; crash for strings.
+ <span class="org-code">length, subseq, sort</span>.
<span class="org-drawer">:More:</span>
+ <span class="org-code">map</span>, like <span class="org-code">mapcar</span> but works for any sequence with the added ability to transform
  sequences to other types: Its first argument could be <span class="org-code">'list</span> even if we operate in a
  string, so that the list <span class="writegood-passive-voice">is converted</span> after the operation <span class="writegood-passive-voice">is mapped</span>.
+ <span class="org-code">subseq</span>, yields subsequence according to given indices.
+ <span class="org-code">sort</span>, takes an ordering relation and sorts according to it.
<span class="org-drawer">:End:</span>

<span class="org-link"><a href="https://github.com/magnars/dash.el">dash</a></span> is a modern list library for Emacs that uses Haskell-like names for list operations ;-)
Likewise, <span class="org-link"><a href="https://github.com/magnars/s.el">s</a></span> is a useful Emacs string manipulation library.

In-fact, we can <span class="org-link"><a href="https://github.com/knupfer/haskell-emacs">write Emacs extensions using Haskell directly</a></span>.

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> This is how we do it ---Assertions</span>


An <span class="org-link"><a href="https://nodejs.org/api/assert.html#assert_strict_mode">assertion</a></span> describes what the result of a computation <span class="writegood-passive-voice">is expected</span> to look like
and throws an exception if those expectations are not met.
<span class="org-block-begin-line">#+BEGIN_SRC js
</span><span class="org-block"><span class="keyword">const</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">assert</span></span><span class="org-block"> = require(</span><span class="org-block"><span class="string">'assert'</span></span><span class="org-block">);
assert.ok(!</span><span class="org-block"><span class="constant">null</span></span><span class="org-block">)

</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Printing a value to standard out (another method call)
</span></span><span class="org-block">console.log(</span><span class="org-block"><span class="string">'Hello!'</span></span><span class="org-block">);
</span><span class="org-block-end-line">#+END_SRC
</span>
<span class="org-meta-line">#+RESULTS:</span>
<span class="org-code">: Hello!
</span><span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Misc experiments </span><span class="org-level-1"><span class="org-tag">:SomeUsefulStuffHere:</span></span>
<span class="org-hide">*</span><span class="org-level-2">* Clean up multiple if/else statements by using a Map</span>
<span class="hl-todo"><span class="custom-1">TODO</span></span>: Take a look on Martin Fowler's book ''Refactoring", he talks about a technique called Replace Conditional With Polymorphism

<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="type">var</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">perform</span></span><span class="org-block"> = </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Utilities</span></span><span class="org-block">();
</span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (someCondition(1)) perform.a();
</span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (someCondition(2)) perform.b();
</span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (someCondition(3)) perform.c();

</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">The &#8220;if&#8221;s have a common condition
</span></span><span class="org-block"><span class="type">boolean</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">someCondition</span></span><span class="org-block">(</span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">i</span></span><span class="org-block">) {
    </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> List.of(1, 3, 4).contains(i);
}

</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">But the &#8220;if&#8221; branches can each do something different
</span></span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Utilities</span></span><span class="org-block"> {
    </span><span class="org-block"><span class="type">void</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">a</span></span><span class="org-block">() { System.out.println(</span><span class="org-block"><span class="string">"A"</span></span><span class="org-block">); }
    </span><span class="org-block"><span class="type">void</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">b</span></span><span class="org-block">() { System.out.println(</span><span class="org-block"><span class="string">"B"</span></span><span class="org-block">); }
    </span><span class="org-block"><span class="type">void</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">c</span></span><span class="org-block">() { System.out.println(</span><span class="org-block"><span class="string">"C"</span></span><span class="org-block">); }
}

</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Then you can replace the sequence of &#8220;if&#8221;s with a map as follows
</span></span><span class="org-block">
</span><span class="org-block"><span class="type">Map</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">Integer</span></span><span class="org-block">, </span><span class="org-block"><span class="type">Consumer</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">Utilities</span></span><span class="org-block">&gt;&gt; </span><span class="org-block"><span class="variable-name">ifs</span></span><span class="org-block"> =
    Map.of(1, it -&gt; it.a(),
           2, it -&gt; it.b(),
           3, it -&gt; it.c());

ifs.keySet().stream().filter(k -&gt; someCondition(k)).forEach(k -&gt; ifs.get(k).accept(perform))

</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Though this is not necessarily much better.
</span></span><span class="org-block">
</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">An alternative approach is to use enum-s.
</span></span><span class="org-block-end-line">#+end_src
</span>
<span class="org-hide">*</span><span class="org-level-2">* Lisp's </span><span class="org-level-2"><span class="org-code">apply</span></span><span class="org-level-2"> operator in Java; i.e., JS's spread operator         </span><span class="org-level-2"><span class="org-tag">:Misc:</span></span>
(See also: <span class="org-link"><a href="https://stackoverflow.com/questions/48351536/varargs-as-input-parameter-to-a-function-in-java-8">https://stackoverflow.com/questions/48351536/varargs-as-input-parameter-to-a-function-in-java-8</a></span>)
- What are varargs behind the scenes? Arrays! <span class="org-link"><a href="https://stackoverflow.com/a/57290781">https://stackoverflow.com/a/57290781</a></span>
- How to write Lisp's <span class="org-code">apply</span> operator in Java? i.e., JS's spread operator? <span class="org-link"><a href="https://stackoverflow.com/a/46388765">https://stackoverflow.com/a/46388765</a></span>
<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="keyword">import</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">java</span></span><span class="org-block">.</span><span class="org-block"><span class="constant">lang</span></span><span class="org-block">.</span><span class="org-block"><span class="constant">reflect</span></span><span class="org-block">.*;
</span><span class="org-block"><span class="keyword">class</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Test</span></span><span class="org-block"> {
    </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">go</span></span><span class="org-block">(</span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">a</span></span><span class="org-block">, </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">b</span></span><span class="org-block">, </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">c</span></span><span class="org-block">) {
        </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> a + b + c;
    }
    </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">go</span></span><span class="org-block">(</span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">a</span></span><span class="org-block">, </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">b</span></span><span class="org-block">) {
        </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> a + b;
    }
    </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">og</span></span><span class="org-block">(</span><span class="org-block"><span class="type">String</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">a</span></span><span class="org-block">, </span><span class="org-block"><span class="type">Integer</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">b</span></span><span class="org-block">) {
        </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> 12;
    }
    </span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">static</span></span><span class="org-block"> </span><span class="org-block"><span class="type">void</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">main</span></span><span class="org-block"> () </span><span class="org-block"><span class="keyword">throws</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">java</span></span><span class="org-block">.</span><span class="org-block"><span class="constant">lang</span></span><span class="org-block">.</span><span class="org-block"><span class="type">Exception</span></span><span class="org-block"> {
        </span><span class="org-block"><span class="type">Method</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">goM</span></span><span class="org-block"> = Test.</span><span class="org-block"><span class="keyword">class</span></span><span class="org-block">.getMethod(</span><span class="org-block"><span class="string">"go"</span></span><span class="org-block">, </span><span class="org-block"><span class="constant">Integer</span></span><span class="org-block">.TYPE, </span><span class="org-block"><span class="constant">Integer</span></span><span class="org-block">.TYPE);
        </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Note that args is Object[], not int[]
</span></span><span class="org-block">        </span><span class="org-block"><span class="type">Object</span></span><span class="org-block">[] </span><span class="org-block"><span class="variable-name">args</span></span><span class="org-block"> = </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Object</span></span><span class="org-block">[] {1, 2};
        </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Result is also Object, not int
</span></span><span class="org-block">        </span><span class="org-block"><span class="type">Object</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">res</span></span><span class="org-block"> = goM.invoke(</span><span class="org-block"><span class="constant">null</span></span><span class="org-block">, args);
        System.out.println(res);
    }
}

</span><span class="org-block"><span class="c-annotation">@FunctionalInterface</span></span><span class="org-block">
</span><span class="org-block"><span class="keyword">public</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">interface</span></span><span class="org-block"> </span><span class="org-block"><span class="type">VarArgsBiFunction</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">S</span></span><span class="org-block">, </span><span class="org-block"><span class="type">T</span></span><span class="org-block">, </span><span class="org-block"><span class="type">R</span></span><span class="org-block">&gt;{
    </span><span class="org-block"><span class="type">R</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">apply</span></span><span class="org-block">(</span><span class="org-block"><span class="type">S</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">a</span></span><span class="org-block">, </span><span class="org-block"><span class="type">T</span></span><span class="org-block">... </span><span class="org-block"><span class="variable-name">args</span></span><span class="org-block">);
}
</span><span class="org-block"><span class="comment-delimiter">//</span></span><span class="org-block"><span class="comment">
</span></span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">args[0] should be a string, the name of the method we want to execute.
</span></span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Remaining args are the actual arguments to </span></span><span class="org-block"><span class="comment"><span class="writegood-passive-voice">be passed</span></span></span><span class="org-block"><span class="comment"> to the method.
</span></span><span class="org-block"><span class="type">VarArgsBiFunction</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">Class</span></span><span class="org-block">,</span><span class="org-block"><span class="type">Object</span></span><span class="org-block">,</span><span class="org-block"><span class="type">Object</span></span><span class="org-block">&gt; </span><span class="org-block"><span class="variable-name">spread</span></span><span class="org-block"> = (clazzy, arguments) -&gt; {
    String fname = (</span><span class="org-block"><span class="type">String</span></span><span class="org-block">) arguments[0];
    </span><span class="org-block"><span class="type">Object</span></span><span class="org-block">[] </span><span class="org-block"><span class="variable-name">args</span></span><span class="org-block">  = Arrays.stream(arguments).skip(1).toArray();
    </span><span class="org-block"><span class="type">Class</span></span><span class="org-block">&lt;? </span><span class="org-block"><span class="keyword">extends</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Object</span></span><span class="org-block">&gt;[] </span><span class="org-block"><span class="variable-name">types</span></span><span class="org-block"> = Arrays.stream(args).map(x -&gt; x.getClass()).toArray(Class[]::</span><span class="org-block"><span class="keyword">new</span></span><span class="org-block">);
    </span><span class="org-block"><span class="keyword">try</span></span><span class="org-block"> { </span><span class="org-block"><span class="type">Method</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">f</span></span><span class="org-block"> = clazzy.getMethod(fname, types);
          </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> f.invoke(</span><span class="org-block"><span class="constant">null</span></span><span class="org-block">, args);} </span><span class="org-block"><span class="keyword">catch</span></span><span class="org-block">(Exception e) { </span><span class="org-block"><span class="keyword">return</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">null</span></span><span class="org-block">; }
};
</span><span class="org-block"><span class="comment-delimiter">//</span></span><span class="org-block"><span class="comment">
</span></span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">Example usage:
</span></span><span class="org-block"><span class="comment-delimiter">//</span></span><span class="org-block"><span class="comment">
</span></span><span class="org-block">spread.apply(Test.</span><span class="org-block"><span class="keyword">class</span></span><span class="org-block">, </span><span class="org-block"><span class="string">"og"</span></span><span class="org-block">, </span><span class="org-block"><span class="string">"hello"</span></span><span class="org-block">, 1)
</span><span class="org-block-end-line">#+end_src
</span><span class="org-hide">*</span><span class="org-level-2">* How to make a &#8216;fat&#8217; jar file</span>

Do you want to make a regular desktop GUI application? If so, in IntelliJ click File &gt; New... &gt; Project... And pick JavaFX and go from there. It even gives you a sort of Hello World window. You can just launch the app by clicking the green play button.

IntelliJ's new project wizard does a ton to make it easier to get started so you don't have to futz as much with IDE, JDK and build tool configuration. I like to let IntelliJ download and install the JDK too. It's just so much easier.

To build an executable, open the Maven pane and run package under "lifecycle". That creates your runnable jar in the target/ folder.

--------------------------------------------------------------------------------

None of the responses so far answered what you are asking. I will give you the terms you need to look up in order to do what you want to do. First you need to install the Java SDK on your computer. Next you can create a new project in intellij. Intellij manages the packages so you don't have to worry about that for the most part. If you plan on using third party libraries you will need to use Maven or Gradle to <span class="writegood-weasels">easily</span> download and apply them. Once you have coded your project then you need to compile the project into a Jar file. A jar file is like a zip folder full of class files which <span class="writegood-passive-voice">are compiled</span> Java files. To run you project you will use the Java command in the terminal with the jar name. If you want to double click on an icon to run the project you will need to create a "fat" jar instead which has Java bundled into it. Using these keywords you can look up tutorials on how to do each step. Good luck!
<span class="org-hide">*</span><span class="org-level-2">* Searlisation</span>

Neato article: <span class="org-link"><a href="https://yfain.github.io/Java4Kids/#_serialization_turning_an_object_into_bytes">https://yfain.github.io/Java4Kids/#_serialization_turning_an_object_into_bytes</a></span>
<span class="org-block-begin-line">#+begin_quote
</span><span class="org-quote">11.5. Serialization: Turning an Object Into Bytes

Imagine a building that, with a push of a button, can </span><span class="org-quote"><span class="writegood-passive-voice">be turned</span></span><span class="org-quote"> into a
pile of construction materials. Load all these materials on the truck
and drive to a different city. On arrival push another button, and the
building is magically re-created in its original form. This is what
Java serialization is about, but instead of a building we&#8217;ll use a
Java object. By &#8220;clicking the serialize button&#8221; JVM turns an instance
of an object into a pile of bytes, and &#8220;clicking the deserialize
button&#8221; re-creates the object.

Why would you need such functionality? Say you are working on a board
game and want to be able to save the current state of the game so the
player can continue playing it tomorrow even if the computer will need
to </span><span class="org-quote"><span class="writegood-passive-voice">be rebooted</span></span><span class="org-quote">. The program needs to save the state of the game in a
file, and when the player launches the game again, the program should
load the saved state and recreate the situation on the board. Creating
a Java class with fields like player name, level, score, and lives can
be a good way to represent a state of the game.
</span><span class="org-block-end-line">#+end_quote
</span>
A Java object can <span class="writegood-passive-voice">be serialized</span> if it implements Serializabe
interface. It&#8217;s a <span class="writegood-weasels">very</span> <span class="writegood-weasels">simple</span> interface to implement, as it doesn&#8217;t
declare any abstract methods. Just add implements Serializable to the
class declaration to make a class serializable.

<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="type">record</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">Winner</span></span><span class="org-block">(</span><span class="org-block"><span class="type">String</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">name</span></span><span class="org-block">, </span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">score</span></span><span class="org-block">) </span><span class="org-block"><span class="keyword">implements</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Serializable</span></span><span class="org-block"> { }

</span><span class="org-block"><span class="type">var</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">gameState</span></span><span class="org-block"> = List.of(</span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Winner</span></span><span class="org-block">(</span><span class="org-block"><span class="string">"You"</span></span><span class="org-block">, 123), </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">Winner</span></span><span class="org-block">(</span><span class="org-block"><span class="string">"Me"</span></span><span class="org-block">, 456));
</span><span class="org-block"><span class="type">var</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">gamePath</span></span><span class="org-block"> = Paths.get(</span><span class="org-block"><span class="string">"gamestate.ser"</span></span><span class="org-block">);

</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">write the state to the gamePath file
</span></span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">ObjectOutputStream</span></span><span class="org-block">(Files.newOutputStream(gamePath, </span><span class="org-block"><span class="constant">StandardOpenOption</span></span><span class="org-block">.CREATE)).writeObject(gameState);

</span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">read the state from the gamePath file
</span></span><span class="org-block"><span class="type">List</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">Winner</span></span><span class="org-block">&gt; </span><span class="org-block"><span class="variable-name">mySavedState</span></span><span class="org-block"> = (</span><span class="org-block"><span class="type">List</span></span><span class="org-block">&lt;</span><span class="org-block"><span class="type">Winner</span></span><span class="org-block">&gt;) </span><span class="org-block"><span class="keyword">new</span></span><span class="org-block"> </span><span class="org-block"><span class="type">ObjectInputStream</span></span><span class="org-block">(Files.newInputStream(gamePath)).readObject();
</span><span class="org-block-end-line">#+end_src
</span>
you&#8217;ll see that it creates a new file gamestate.ser. Open this file in
a text editor, and you&#8217;ll see <span class="writegood-weasels">some</span> gibberish. Java serializes objects
in its internal format, which is not meant to <span class="writegood-passive-voice">be read</span> by people.

<span class="org-hide">*</span><span class="org-level-2">* Reading URLs (including local files)</span>
var url = "<span class="org-link"><a href="file:///Users/musa/blog/java-cheat-sheet.html">file:///Users/musa/blog/java-cheat-sheet.html</a></span>";
var buffer = new BufferedReader(new InputStreamReader(new URL(url).openStream()));
//
for(String line; (line = buffer.readLine()) != null;) System.out.println(line);


There are better ways to read local files, though.

<span class="org-hide">*</span><span class="org-level-2">* labels aka jump points</span>

<span class="org-link"><a href="https://stackoverflow.com/questions/3821827/loop-in-java-code-what-is-this-and-why-does-it-compile">https://stackoverflow.com/questions/3821827/loop-in-java-code-what-is-this-and-why-does-it-compile</a></span>

these are labels.

They should not even <span class="writegood-passive-voice">be taught</span> to you. Labels are <span class="writegood-weasels">mostly</span> a thing of the past (like line numbers in BASIC were).

Do yourself a favor and forget them as soon as you are over with that chapter/have done your test.

Basically what they do is define "jump points" to where the code execution <span class="writegood-passive-voice">is rerouted</span>.

--------------------------------------------------------------------------------

these are essentially a limited form of 'goto' in Java.

There are <span class="writegood-weasels">very</span> rare cases where the use of labels could allow you to write faster control-flow - but unless you're micro-optimising something, you really shouldn't use them. I wouldn't go as far as saying you shouldn't <span class="writegood-passive-voice">be taught</span> about them, or that you should immediately forget them - you may encounter them in highly tuned, <span class="writegood-weasels">very</span> specialised code (or in cases where people optimise when they shouldn't), but their use is exceptionally rare and justified use even more so.


You can short-circuit a block of code by naming it, then using <span class="org-code">break</span> to &#8220;break out of it&#8221;:
<span class="org-code">N : {S&#8320;; S&#8321;; &#8230;; if(someCondition) break N; S&#7503;; S&#7503;&#8314;&#185;; &#8230; } &#160;&#8776;&#160; S&#8320;; S&#8321;; &#8943;; if(!someCondition) { S&#7503;; S&#7503;&#8314;&#185;; &#8943; }</span>.



A fair number of those that know about labels, don't realise that they don't just apply to loops.

Both of these are valid Java (assuming I don't have a typo).

<span class="org-block-begin-line">#+begin_src java
</span><span class="org-block"><span class="type">void</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">m1</span></span><span class="org-block">(</span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">x</span></span><span class="org-block">) {
    </span><span class="org-block"><span class="constant">X1</span></span><span class="org-block">: {
        System.out.println(1);
        </span><span class="org-block"><span class="constant">X2</span></span><span class="org-block">: {
            System.out.println(2);
            </span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (x %2 == 0) </span><span class="org-block"><span class="keyword">break</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">X1</span></span><span class="org-block">;
            </span><span class="org-block"><span class="keyword">else</span></span><span class="org-block"> </span><span class="org-block"><span class="keyword">break</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">X2</span></span><span class="org-block">;
        }
        System.out.println(3);
    }
    System.out.println(4);
}

m1(3) </span><span class="org-block"><span class="comment-delimiter">// </span></span><span class="org-block"><span class="comment">&#8658; 1 2 3 4
</span></span><span class="org-block">
</span><span class="org-block"><span class="type">void</span></span><span class="org-block"> m2(</span><span class="org-block"><span class="type">int</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">x</span></span><span class="org-block">) {
    </span><span class="org-block"><span class="constant">X1</span></span><span class="org-block">: </span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (x &gt; 5) {
        System.out.println(1);
        </span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (x &lt; 10) </span><span class="org-block"><span class="keyword">break</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">X1</span></span><span class="org-block">;
        System.out.println(2);
    }
    </span><span class="org-block"><span class="keyword">else</span></span><span class="org-block"> X2: {
        System.out.println(3);
        </span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> (x &gt; 0) </span><span class="org-block"><span class="keyword">break</span></span><span class="org-block"> </span><span class="org-block"><span class="constant">X2</span></span><span class="org-block">;
        System.out.println(4);
    }
}
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-hide">*</span><span class="org-level-2">* Subclasses</span>

We can be more specific and create another Java class called
PlayStation4. It also belongs to the family of video games, but has
<span class="writegood-weasels">some</span> properties that are specific to the model Play Station 4,

<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Making </span><span class="org-level-1"><span class="org-code">README.org</span></span>

  Evaluate the following source block with <span class="org-code">C-</span><span class="org-code"><span class="writegood-duplicates">c C</span></span><span class="org-code">-c</span>
  to produce a <span class="org-code">README</span> file.

<span class="comment">  # :'( For </span><span class="comment"><span class="writegood-weasels">some</span></span><span class="comment"> reason using title below would not work.</span>

<span class="org-meta-line">#+NAME: make-readme</span>

Note that the <span class="org-code">blurb</span> macro <span class="writegood-passive-voice">is defined</span> by the user, to provide a terse description of the project.
   - Think the one-line statement at the top of a github repo page.

<span class="comment">#    The ~d:nil~ ensures the &#8216;drawer&#8217; ~:Hide: &#8943; :End:~ is not exported; it's there for me</span>
<span class="comment">#    as a reminder.</span>


<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block">(</span><span class="org-block"><span class="keyword">with-temp-buffer</span></span><span class="org-block">
    (insert
    </span><span class="org-block"><span class="string">"#+EXPORT_FILE_NAME: README.md
     # HTML: &lt;h1&gt; </span></span><span class="org-block"><span class="string"><span class="writegood-weasels">Easily</span></span></span><span class="org-block"><span class="string"> Making CheatSheets with Org-mode &lt;/h1&gt;
     #+OPTIONS: toc:nil d:nil
     # Toc </span></span><span class="org-block"><span class="string"><span class="writegood-passive-voice">is displayed</span></span></span><span class="org-block"><span class="string"> below at a strategic position.

     {{{blurb}}}

     :Hide:
     This project is to contain a listing of common results in X Theory.

     *The repo contains other articles I've written on X Theory;*
     *which may </span></span><span class="org-block"><span class="string"><span class="writegood-passive-voice">be read</span></span></span><span class="org-block"><span class="string"> in a blog-format at:*
     <a href="https://alhassy.github.io/blog/categories/#Xtheory">https://alhassy.github.io/blog/categories/#Xtheory</a>
     :End:

     *The listing sheet, as PDF, can </span></span><span class="org-block"><span class="string"><span class="writegood-passive-voice">be found</span></span></span><span class="org-block"><span class="string">
     <a href="file:java-cheat-sheet.pdf">[[file:java-cheat-sheet.pdf][here]]</a>*,
     while below is an unruly html rendition
     ---there is also a
     <a href="badge:beautiful|HTML_webpage|success|https://alhassy.com/java-cheat-sheet|java">badge:beautiful|HTML_webpage|success|https://alhassy.com/java-cheat-sheet|java</a> (&#8226;&#768;&#7447;&#8226;&#769;)

     # Markdown links: [title](target)

     This reference sheet </span></span><span class="org-block"><span class="string"><span class="writegood-passive-voice">is built</span></span></span><span class="org-block"><span class="string"> from a
     <a href="https://github.com/alhassy/CheatSheet">[[https://github.com/alhassy/CheatSheet][CheatSheets with Org-mode]]</a>
     system.

     #+TOC: headlines 2
     #+INCLUDE: java-cheat-sheet.org
    "</span></span><span class="org-block">)

    </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">No code execution on export
</span></span><span class="org-block">    </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">&#10218; For a particular block, we use &#8220;:eval never-export&#8221; &#10219;
</span></span><span class="org-block">    </span><span class="org-block"><span class="comment-delimiter">;;</span></span><span class="org-block"><span class="comment">
</span></span><span class="org-block">    (</span><span class="org-block"><span class="keyword">let</span></span><span class="org-block"> ((org-export-use-babel nil))
      (org-mode)
      (org-md-export-to-markdown)
      </span><span class="org-block"><span class="comment-delimiter">; </span></span><span class="org-block"><span class="comment">(package-install 'toc-org)
</span></span><span class="org-block">      </span><span class="org-block"><span class="comment-delimiter">; </span></span><span class="org-block"><span class="comment">(toc-org-mode)
</span></span><span class="org-block">      </span><span class="org-block"><span class="comment-delimiter">; </span></span><span class="org-block"><span class="comment">(toc-org-insert-toc)
</span></span><span class="org-block">      </span><span class="org-block"><span class="comment-delimiter">; </span></span><span class="org-block"><span class="comment">(setq org-toc-noexport-regexp ".*:myIgnore:.*") </span></span><span class="org-block"><span class="comment"><span class="hl-todo"><span class="custom-2"><span class="hl-todo"><span class="custom-2">MA</span></span></span></span></span></span><span class="org-block"><span class="comment">: Doesn't work.
</span></span><span class="org-block">      </span><span class="org-block"><span class="comment-delimiter">; </span></span><span class="org-block"><span class="comment">(delete "TOC" org-export-exclude-tags)
</span></span><span class="org-block">      (</span><span class="org-block"><span class="keyword">pop</span></span><span class="org-block"> org-export-exclude-tags)
      </span><span class="org-block"><span class="comment-delimiter">; </span></span><span class="org-block"><span class="comment">(org-org-export-to-org)
</span></span><span class="org-block">      (add-to-list 'org-export-exclude-tags </span><span class="org-block"><span class="string">"TOC"</span></span><span class="org-block">)
      )
)
</span><span class="org-block-end-line">#+END_SRC
</span>
<span class="org-level-1">* </span><span class="org-special-keyword">COMMENT</span><span class="org-level-1"> Making artifacts for the Github Repo                               </span><span class="org-level-1"><span class="org-tag">:myIgnore:</span></span>

<span class="comment"># Whenever I save, C-x C-s, a new HTML </span><span class="comment"><span class="writegood-passive-voice">is exported</span></span><span class="comment"> and then copied over to the write directory.</span>
<span class="comment">#</span>
<span class="comment"># (lambda nil (-let [file (f-base (buffer-file-name))] (when (org-html-export-to-html) (copy-file (concat file ".html") (concat "~/JavaCheatSheet/" file ".html") 'overwrite-if-exists))))</span>
<span class="comment">#</span>
<span class="comment"># eval (progn (load-file "~/blog/AlBasmala.el") (blog/preview))</span>
<span class="comment"># after-save-hook (lambda nil (-let [file (f-base (buffer-file-name))] (copy-file (concat file ".html") (concat "~/JavaCheatSheet/" file ".html") 'overwrite-if-exists)))</span>
</pre>
  </body>
</html>
