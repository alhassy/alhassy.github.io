<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-05-18 Thu 11:09 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Java CheatSheet</title>
<meta name="author" content="Musa Al-hassy" />
<meta name="description" content="Quick reference for an old-school-cool high-level language ^_^" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style>  summary:hover {background:pink;} </style>
        <style>
        /* From: https://endlessparentheses.com/public/css/endless.css */
        /* See also: https://meta.superuser.com/questions/4788/css-for-the-new-kbd-style */
        kbd
        {
          -moz-border-radius: 6px;
          -moz-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          -webkit-border-radius: 6px;
          -webkit-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          background-color: #f7f7f7;
          border: 1px solid #ccc;
          border-radius: 6px;
          box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          color: #333;
          display: inline-block;
          font-family: 'Droid Sans Mono', monospace;
          font-size: 80%;
          font-weight: normal;
          line-height: inherit;
          margin: 0 .1em;
          padding: .08em .4em;
          text-shadow: 0 1px 0 #fff;
          word-spacing: -4px;
        
          box-shadow: 2px 2px 2px #222; /* MA: An extra I've added. */
        }
        </style>
        <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/tooltipster.bundle.min.css"/>
        
        <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-punk.min.css" />
        
        <script type="text/javascript">
            if (typeof jQuery == 'undefined') {
                document.write(unescape('%3Cscript src="https://code.jquery.com/jquery-1.10.0.min.js"%3E%3C/script%3E'));
            }
        </script>
        
         <script type="text/javascript"            src="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/js/tooltipster.bundle.min.js"></script>
        
          <script>
                 $(document).ready(function() {
                     $('.tooltip').tooltipster({
                         theme: 'tooltipster-punk',
                         contentAsHTML: true,
                         animation: 'grow',
                         delay: [100,500],
                         // trigger: 'click'
                         trigger: 'custom',
                         triggerOpen: {
                             mouseenter: true
                         },
                         triggerClose: {
                             originClick: true,
                             scroll: true
                         }
         });
                 });
             </script>
        
        <style>
           abbr {color: red;}
        
           .tooltip { border-bottom: 1px dotted #000;
                      color:red;
                      text-decoration: none;}
        </style>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<div id="table-of-contents" role="doc-toc">
<h2>¬†<a href="javascript:window.scrollTo(0,0)" style="color: black !important; border-bottom: none !important;" class="tooltip" title="Go to the top of the page"> Œû </a>¬†</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org140d9b7">1. The Philosophy of Classes &amp; Interfaces</a></li>
<li><a href="#orgbe75c72">2. Primitive Objects</a></li>
<li><a href="#org3799bf8">3. Properties and methods have <b>separate namespaces</b></a></li>
<li><a href="#org69dccc7">4. Anonymous <i>functions</i>: ¬†¬† <code>(arg‚ÇÅ, ‚Ä¶, arg‚Çô) ‚Üí bodyHere</code> ¬†¬†¬† </a></li>
<li><a href="#org959632a">5. Lambdas are a shorthand for classes that implement functional interfaces</a>
<ul>
<li><a href="#org171a931">5.1. Functional Interfaces</a></li>
<li><a href="#org3bfa19f">5.2. The Type of a Lambda</a></li>
<li><a href="#org71b2b9d">5.3. Common Java Functional Types</a></li>
<li><a href="#org6bcaf42">5.4. Eta Reduction: Writing Lambda Expressions as Method References</a></li>
</ul>
</li>
<li><a href="#orge747dad">6. Variable Bindings</a></li>
<li><a href="#orga1624f4">7. Scope, Statements, and Control Flow</a></li>
<li><a href="#orga1f6302">8. <code class="src src-java"><span style="color: #98971a; font-weight: bold;">switch</span></code></a></li>
<li><a href="#orgcb213b0">9. Strings</a></li>
<li><a href="#orgb6f0c55">10. Equality</a></li>
<li><a href="#org74da38d">11. Arithmetic</a></li>
<li><a href="#orgbac0050">12. Collections and Streams</a></li>
<li><a href="#org32de5b6">13. Generics</a></li>
</ul>
</div>
</div>
<p>
<div class="header">
  <a href="https://alhassy.github.io/" class="logo">Life & Computing Science</a>
  <br>
    <a href="https://alhassy.github.io/AlBasmala">AlBasmala</a>
    <a href="https://alhassy.github.io/archive">Archive</a>
    <a href="https://alhassy.github.io/tags">Tags</a>
    <a href="https://alhassy.github.io/rss.xml">RSS</a>
    <a href="https://alhassy.github.io/about">About</a>
</div><style>  summary:hover {background:pink;} </style>
        <style>
        /* From: https://endlessparentheses.com/public/css/endless.css */
        /* See also: https://meta.superuser.com/questions/4788/css-for-the-new-kbd-style */
        kbd
        {
          -moz-border-radius: 6px;
          -moz-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          -webkit-border-radius: 6px;
          -webkit-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          background-color: #f7f7f7;
          border: 1px solid #ccc;
          border-radius: 6px;
          box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          color: #333;
          display: inline-block;
          font-family: 'Droid Sans Mono', monospace;
          font-size: 80%;
          font-weight: normal;
          line-height: inherit;
          margin: 0 .1em;
          padding: .08em .4em;
          text-shadow: 0 1px 0 #fff;
          word-spacing: -4px;
        
          box-shadow: 2px 2px 2px #222; /* MA: An extra I've added. */
        }
        </style>
        <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/tooltipster.bundle.min.css"/>
        
        <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-punk.min.css" />
        
        <script type="text/javascript">
            if (typeof jQuery == 'undefined') {
                document.write(unescape('%3Cscript src="https://code.jquery.com/jquery-1.10.0.min.js"%3E%3C/script%3E'));
            }
        </script>
        
         <script type="text/javascript"            src="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/js/tooltipster.bundle.min.js"></script>
        
          <script>
                 $(document).ready(function() {
                     $('.tooltip').tooltipster({
                         theme: 'tooltipster-punk',
                         contentAsHTML: true,
                         animation: 'grow',
                         delay: [100,500],
                         // trigger: 'click'
                         trigger: 'custom',
                         triggerOpen: {
                             mouseenter: true
                         },
                         triggerClose: {
                             originClick: true,
                             scroll: true
                         }
         });
                 });
             </script>
        
        <style>
           abbr {color: red;}
        
           .tooltip { border-bottom: 1px dotted #000;
                      color:red;
                      text-decoration: none;}
        </style>
        <meta name="author" content="Musa Al-hassy">
    <meta name="referrer" content="no-referrer"><link href="usual-org-front-matter.css" rel="stylesheet" type="text/css" /><link href="org-notes-style.css" rel="stylesheet" type="text/css" /><link href="floating-toc.css" rel="stylesheet" type="text/css" /><link href="blog-banner.css" rel="stylesheet" type="text/css" /><link rel="icon" href="images/favicon.png"><script type="text/javascript">
   /*
   @licstart  The following is the entire license notice for the
   JavaScript code in this tag.
   
   Copyright (C) 2012-2020 Free Software Foundation, Inc.
   
   The JavaScript code in this tag is free software: you can
   redistribute it and/or modify it under the terms of the GNU
   General Public License (GNU GPL) as published by the Free Software
   Foundation, either version 3 of the License, or (at your option)
   any later version.  The code is distributed WITHOUT ANY WARRANTY;
   without even the implied warranty of MERCHANTABILITY or FITNESS
   FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
   
   As additional permission under GNU GPL version 3 section 7, you
   may distribute non-source (e.g., minimized or compacted) forms of
   that code without the copy of the GNU GPL normally required by
   section 4, provided you include this license notice and a URL
   through which recipients can access the Corresponding Source.
   
   
   @licend  The above is the entire license notice
   for the JavaScript code in this tag.
   */
   <!--/*--><![CDATA[/*><!--*/
    function CodeHighlightOn(elem, id)
    {
      var target = document.getElementById(id);
      if(null != target) {
        elem.cacheClassElem = elem.className;
        elem.cacheClassTarget = target.className;
        target.className = "code-highlighted";
        elem.className   = "code-highlighted";
      }
    }
    function CodeHighlightOff(elem, id)
    {
      var target = document.getElementById(id);
      if(elem.cacheClassElem)
        elem.className = elem.cacheClassElem;
      if(elem.cacheClassTarget)
        target.className = elem.cacheClassTarget;
    }
   /*]]>*///-->
   </script><script type="text/x-mathjax-config">
       MathJax.Hub.Config({
           displayAlign: "center",
           displayIndent: "0em",
   
           "HTML-CSS": { scale: 100,
                           linebreaks: { automatic: "false" },
                           webFont: "TeX"
                          },
           SVG: {scale: 100,
                 linebreaks: { automatic: "false" },
                 font: "TeX"},
           NativeMML: {scale: 100},
           TeX: { equationNumbers: {autoNumber: "AMS"},
                  MultLineWidth: "85%",
                  TagSide: "right",
                  TagIndent: ".8em"
                }
   });
   </script>
   <script type="text/javascript"
           src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
   <link href="https://alhassy.github.io/org-notes-style.css" rel="stylesheet" type="text/css" /><link href="https://alhassy.github.io/floating-toc.css" rel="stylesheet" type="text/css" /><link href="https://alhassy.github.io/blog-banner.css" rel="stylesheet" type="text/css" /><br><center><h1 class="post-title">Java CheatSheet</h1></center> <script> window.parent.document.title =  window.parent.document.title.replace(/@@.*@@/, "") </script> 
</p>

<center><a href="https://alhassy.github.io/tags.html"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 16" width="15" height="16"><path fill-rule="evenodd" d="M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 000-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z"></path></svg> </a><a href="https://alhassy.github.io/tag-java.html"><img src="https://img.shields.io/badge/-java-grey?logo=nil"></a> <a href="https://alhassy.github.io/tag-cheat-sheet.html"><img src="https://img.shields.io/badge/-cheat_sheet-grey?logo=nil"></a></center>
<center><a href="../images/modern-java.png" class="tooltip" title="Image credit ‚Äú../images/modern-java.png‚Äù"><img src="../images/modern-java.png" alt="Article image" style="border: 2px solid black;" width="88%" height="88%" align="top"/></a></center>


<div class="abstract" style="border: 1px solid black;padding: 1%; margin-top: 1%; margin-bottom: 1%;margin-right: 10%; margin-left: 10%; background-color: lightblue;"><center> <strong class="tooltip"title="What's the goal of this article?"> Abstract </strong> </center>
<div class="org-center">
This is a quick reference of concepts in modern Java.

<p>
<a href="https://alhassy.com/java-cheat-sheet.pdf"><img src="https://img.shields.io/badge/PDF-colorful_cheat_sheet-success?logo=read-the-docs"></a>
</p>

<p>
<a href="https://twitter.com/intent/tweet?text=This looks super neat (‚Ä¢ÃÄ·¥ó‚Ä¢ÃÅ)Ÿà::&url=https://alhassy.com/java-cheat-sheet"><img src="https://img.shields.io/twitter/url?url=https://alhassy.com/java-cheat-sheet"></a>
<a href="https://www.buymeacoffee.com/alhassy"><img src="https://img.shields.io/badge/-buy_me_a_coffee-gray?logo=buy-me-a-coffee"></a>
<a href="https://github.com/alhassy/alhassy.github.io/issues"><img src="https://img.shields.io/badge/contributions-welcome-green?logo=nil"></a>
</p>
</div>

<p>
Modern Java is a strongly-typed, eagery evaluated, case sensative, yet
whitespace insensative language. It uses hierarchies of classes/types
to structure data, but also has first-class support for
functional-style algebraic datatypes.
</p>

<p>
Java programs are made up of ‚Äòclasses‚Äô, classes contain methods, and methods contain commands.  To just try out a
snippet of code, we can
</p>
<ul class="org-ul">
<li><p>
Open a terminal and enter <code>jshell</code>; then enter:
</p>
<div class="org-src-container">
<pre class="src src-java">1 + 2 <span style="color: #a89984;">// </span><span style="color: #a89984;">The jshell lets you try things out!</span>

<span style="color: #a89984;">// </span><span style="color: #a89984;">Say hello in a fancy way</span>
<span style="color: #98971a; font-weight: bold;">import</span> <span style="color: #076678; font-weight: bold;">javax</span>.<span style="color: #076678; font-weight: bold;">swing</span>.*;
JOptionPane.showMessageDialog(<span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">JFrame</span>(), <span style="color: #689d6a;">"Hello, World!"</span>);

</pre>
</div></li>

<li>Alternatively, in IntelliJ, click <i>Tools</i> then <i>Groovy Console</i> to try things out!</li>
<li>Finally, <a href="http://alhassy.com/making-vscode-itself-a-java-repl.html">VSCode</a> allows arbitrary Java code to be sent to a <code>jshell</code>
in the background(!) and it echoes the result in a friendly way.</li>
</ul>

<!--
<p>
To be terse, lots of content is not shown in this <a href="http://alhassy.com/java-cheat-sheet.pdf">PDF</a>, but is shown in the <b><a href="https://alhassy.com/java-cheat-sheet">HTML</a></b>
version.
</p>
-->


</div>

<div id="outline-container-org140d9b7" class="outline-2">
<h2 id="org140d9b7"><span class="section-number-2">1.</span> <a href="#org140d9b7">The Philosophy of Classes &amp; Interfaces</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Real life objects have properties and behaviour.  For example, my cat
has the properties of <i>name</i> and <i>age</i>, and amongst its behaviours are
<i>sleep</i> and <i>meow</i>.  However, an apple does not have such features.
<b>The possible features of an object are understood when we <i>classify</i>
it;</b> e.g., my cat is an animal, whereas an apple is food.  In Java, a
set of features is known as a <code class="src src-java"><span style="color: #98971a; font-weight: bold;">class</span></code> and
objects having those features are called ‚Äúobjects of that class‚Äù.
Just as <code>int</code> is the type of the value <code>12</code>, we say a class is a
<i>type</i> of an object.
</p>

<p>
We tend to think in (disjoint, hierarchical) categories; for example,
in my library, a book can be found in one section, either ‚ÄúSports‚Äù or
‚ÄúHistory‚Äù or ‚ÄúTrees‚Äù. So where should books on the history of football
be located? Or books on the history of trees?  My library places such
books under ‚ÄúSports‚Äù, and ‚ÄúTree‚Äù respecively, but then adds a
‚Äúhistorical‚Äù <b>tag</b> to them.  Likewise, in Java, <b>to say different
kinds of things have a feature in common, we ‚Äútag‚Äù them with an</b>
<b><code class="src src-java"><span style="color: #98971a; font-weight: bold;">interface</span></code>.</b> (Real life tagging is a also known
as <i>multi</i>-<code>class</code>-<i>ificiation</i>.)
</p>

<div style="padding: 1em;background-color: #CCFFCC;border-radius: 15px;font-size: 0.9em;"> <h3>Java's Main Organisational Mechanisms</h3> 
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">With state</th>
<th scope="col" class="org-left">Without state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Attributes &amp; properties</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">  <code class="src src-java"><span style="color: #98971a; font-weight: bold;">class</span></code></td>
<td class="org-left">  <code class="src src-java"><span style="color: #98971a; font-weight: bold;">record</span></code></td>
</tr>

<tr>
<td class="org-left">Partial implementations</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">  <code class="src src-java"><span style="color: #98971a; font-weight: bold;">abstract class</span></code></td>
<td class="org-left">  <code class="src src-java"><span style="color: #98971a; font-weight: bold;">interface</span></code></td>
</tr>
</tbody>
</table>

</div>


<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Here is a teaser of nearly all of these packaging mechanisms </font> </strong> </summary>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #98971a; font-weight: bold;">interface</span> <span style="color: #b57614;">Hospitable</span> {
    <span style="color: #b57614;">String</span> <span style="color: #076678;">name</span>();   <span style="color: #a89984;">/* </span><span style="color: #a89984;">unimplemented method signature</span><span style="color: #a89984;"> */</span>
    <span style="color: #98971a; font-weight: bold;">default</span> <span style="color: #b57614;">void</span> <span style="color: #076678;">greet</span>() { <span style="color: #a89984;">/* </span><span style="color: #a89984;">derived, implemented, method</span><span style="color: #a89984;"> */</span>
        System.out.printf(<span style="color: #689d6a;">"%s says &#8220;Welcome!&#8221;"</span>, name());
    }
}

<span style="color: #a89984;">////////////////////////////////////////////////////////////////////////////////</span>

<span style="color: #98971a; font-weight: bold;">class</span> <span style="color: #b57614;">Person</span> <span style="color: #98971a; font-weight: bold;">implements</span> <span style="color: #b57614;">Hospitable</span> {
    <span style="color: #b57614;">String</span> <span style="color: #076678;">name</span>;
    <span style="color: #b57614;">int</span> <span style="color: #076678;">age</span>;
    <span style="color: #98971a; font-weight: bold;">public</span> <span style="color: #b57614;">String</span> <span style="color: #076678;">name</span>() { <span style="color: #98971a; font-weight: bold;">return</span> name; }
}

<span style="color: #a89984;">// </span><span style="color: #a89984;">Actual usage of &#8220;Person&#8221;:</span>
<span style="color: #b57614;">Person</span> <span style="color: #076678;">me</span> = <span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">Person</span>();
me.name = <span style="color: #689d6a;">"Musa"</span>;
me.age = 31;
me.greet();

<span style="color: #a89984;">////////////////////////////////////////////////////////////////////////////////</span>

<span style="color: #b57614;">record</span> <span style="color: #076678;">Person2</span>(<span style="color: #b57614;">String</span> <span style="color: #076678;">name</span>, <span style="color: #b57614;">int</span> <span style="color: #076678;">age</span>) <span style="color: #98971a; font-weight: bold;">implements</span> <span style="color: #b57614;">Hospitable</span> { }

<span style="color: #a89984;">// </span><span style="color: #a89984;">Actual usage of &#8220;Person2&#8221;:</span>
<span style="color: #b57614;">Person2</span> <span style="color: #076678;">me</span> = <span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">Person2</span>(<span style="color: #689d6a;">"Musa"</span>, 31);
me.greet();
</pre>
</div>

</details> </div>
<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">‚ÄúInterfaces are the types of classes‚Äù </font> </strong> </summary>

<p>
A <i>module</i> is
a bunch of utilities that can be defined from some shared set of parameters.
Those utilities can be thought of as an interface ùë∞.
<i>Then a module is a function from parameters to an anonymous implementation of an interface.</i>
However, functions that return implementations are essentially records/classes that implement
the interface; i.e.,
</p>

<div class="org-src-container">
<pre class="src src-java">   <span style="color: #b57614;">&#119920;</span> <span style="color: #076678;">R</span>(<span style="color: #b57614;">params</span>) { <span style="color: #98971a; font-weight: bold;">return</span> <span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">&#119920;</span>() { &#119920;_&#119926;&#119933;&#119916;&#119929;&#119920;&#119915;&#119916;&#119930; }; } <span style="color: #a89984;">// </span><span style="color: #a89984;">module-as-function</span>
&#8776;  record R(params) <span style="color: #98971a; font-weight: bold;">implements</span> <span style="color: #b57614;">&#119920;</span> { &#119920;_&#119926;&#119933;&#119916;&#119929;&#119920;&#119915;&#119916;&#119930; }; <span style="color: #a89984;">// </span><span style="color: #a89984;">module-as-record</span>
</pre>
</div>

<p>
This equation justifies the phrase ‚Äúinterfaces are the types of records/classes‚Äù
since a record declaration (i.e., the right side of the ‚Äú‚âà‚Äù)
can be converted to an (abstract) module (of type ùë∞) &#x2014;i.e., the left side of the ‚Äú‚âà‚Äù.
</p>

</details> </div>
<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Algebraic Data Types :ignore</font> </strong> </summary>

<p>
Finally, suppose there's something you want to do <i>and</i> there are a number of
ways/configurations to get it done.  You could write it as a method in
a <code class="src src-java"><span style="color: #98971a; font-weight: bold;">class</span></code> with a bunch of <code>if</code>'s to account for
all of those ways.  Better would be to create an interface, then have
a bunch of classes that implement it: One class for each possible
implementation. Finally, if you know <i>all</i> configurations, you
can move those classes <i>into</i> the definition of the interface
and make it <i>sealed</i>: This is known as an <i>algebraic data-type</i>,
whose kill-feature is that you can use <code class="src src-java"><span style="color: #98971a; font-weight: bold;">switch</span></code>
to pattern match on instances of the interface.
</p>


</details> </div>
<div><a style="width: 1%;float: left; padding: 0px" id="ADTs" href="#ADTs">üîó</a> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">ADT example </font> </strong> </summary>

<p>
An example 3-level hierarchy that can be easily represented with ADTs
rather than a traditional class hierarchy.
</p>

<center><image src="../images/monsters-adt.png" width="50%" height="50%" /> </center>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #b57614;">sealed</span> <span style="color: #98971a; font-weight: bold;">interface</span> Monster {

    <span style="color: #b57614;">sealed</span> <span style="color: #98971a; font-weight: bold;">interface</span> Flying <span style="color: #98971a; font-weight: bold;">extends</span> <span style="color: #b57614;">Monster</span> { }
    <span style="color: #b57614;">record</span> <span style="color: #076678;">Griffin</span>() <span style="color: #98971a; font-weight: bold;">implements</span> <span style="color: #b57614;">Flying</span> { }
    <span style="color: #b57614;">record</span> <span style="color: #076678;">Pegasus</span>() <span style="color: #98971a; font-weight: bold;">implements</span> <span style="color: #b57614;">Flying</span> { }

    <span style="color: #b57614;">sealed</span> <span style="color: #98971a; font-weight: bold;">interface</span> Ground <span style="color: #98971a; font-weight: bold;">extends</span> <span style="color: #b57614;">Monster</span> { }
    <span style="color: #b57614;">record</span> <span style="color: #076678;">Ogre</span>() <span style="color: #98971a; font-weight: bold;">implements</span> <span style="color: #b57614;">Ground</span> { }
}
</pre>
</div>

<p>
Then we can actually use this new type as follows:
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #98971a; font-weight: bold;">private</span> <span style="color: #98971a; font-weight: bold;">static</span> <span style="color: #b57614;">String</span> <span style="color: #076678;">glare</span>(<span style="color: #b57614;">Monster</span> <span style="color: #076678;">m</span>) {
    <span style="color: #98971a; font-weight: bold;">return</span> <span style="color: #98971a; font-weight: bold;">switch</span> (m) {
        <span style="color: #98971a; font-weight: bold;">case</span> <span style="color: #076678; font-weight: bold;">Monster</span>.Griffin it -&gt; <span style="color: #689d6a;">"Roar"</span>;
        <span style="color: #98971a; font-weight: bold;">case</span> <span style="color: #076678; font-weight: bold;">Monster</span>.Pegasus it -&gt; <span style="color: #689d6a;">"HeeHaw"</span>;
        <span style="color: #98971a; font-weight: bold;">case</span> <span style="color: #076678; font-weight: bold;">Monster</span>.Ogre it -&gt; <span style="color: #689d6a;">"Grrr"</span>;
    };
}

glare(<span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #076678; font-weight: bold;">Monster</span>.<span style="color: #076678; font-weight: bold;">Flying</span>.<span style="color: #b57614;">Griffin</span>()); <span style="color: #a89984;">// </span><span style="color: #a89984;">"Roar"</span>
</pre>
</div>

<p>
Or only look at the <code>Flying</code> sub-type:
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #98971a; font-weight: bold;">private</span> <span style="color: #98971a; font-weight: bold;">static</span> <span style="color: #b57614;">int</span> <span style="color: #076678;">attackDamage</span>(<span style="color: #076678; font-weight: bold;">Monster</span>.<span style="color: #b57614;">Flying</span> <span style="color: #076678;">f</span>) {
    <span style="color: #98971a; font-weight: bold;">return</span> <span style="color: #98971a; font-weight: bold;">switch</span> (f) {
        <span style="color: #98971a; font-weight: bold;">case</span> <span style="color: #076678; font-weight: bold;">Monster</span>.<span style="color: #076678; font-weight: bold;">Flying</span>.Griffin it -&gt; 120;
        <span style="color: #98971a; font-weight: bold;">case</span> <span style="color: #076678; font-weight: bold;">Monster</span>.<span style="color: #076678; font-weight: bold;">Flying</span>.Pegasus it -&gt; 60;
    };
}

attackDamage(<span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #076678; font-weight: bold;">Monster</span>.<span style="color: #b57614;">Pegasus</span>()); <span style="color: #a89984;">// </span><span style="color: #a89984;">60</span>
</pre>
</div>

</details> </div>
<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Reads </font> </strong> </summary>

<ul class="org-ul">
<li><a href="https://www.mooc.fi/en/#courses">‚ÄúMOOC‚Äù Massive Open Online Course - University of Helsinki</a>
<ul class="org-ul">
<li>Useful for learning Java, Python, Haskell, JavaScript.</li>
<li>I highly reccommend their <a href="https://fullstackopen.com/en/">‚Äúfull stack‚Äù</a> course on web development, with JS!</li>
</ul></li>
<li>Effective Java, 3rd Edition by Joshua Bloch</li>
<li>Seriously Good Software Code that Works, Survives, and Wins</li>
<li>Functional Programming in Java Harnessing the Power of Java 8 Lambda Expressions</li>
<li>Java Generics and Collections Speed Up the Java Development Process</li>
<li>Java 8 Lambdas Pragmatic Functional Programming - Richard Warburton</li>
</ul>

</details> </div>
</div>
</div>

<div><a style="width: 1%;float: left; padding: 0px" id="null" href="#null">üîó</a> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Null </font> </strong> </summary>

<p>
There is a special value named <code class="src src-java"><span style="color: #076678; font-weight: bold;">null</span></code> that
denotes the absence of a meaningful value.  Ironically, it is a value
of every type (excluding the primitive types).  <a href="https://funcall.blogspot.com/2007/11/in-kingdom-of-nouns.html?m=1">Here</a> is a neat story
about <code>null</code>.
</p>


</details> </div>

<div id="outline-container-orgbe75c72" class="outline-2">
<h2 id="orgbe75c72"><span class="section-number-2">2.</span> <a href="#orgbe75c72">Primitive Objects</a></h2>
<div class="outline-text-2" id="text-2">
<p>
For performance reasons, there are a handful of types whose values are created
by <i>literals</i>; i.e., ‚ÄúWhat you see is what you get‚Äù.  (As such, primitives are a
basic building block which cannot be broken apart; whereas non-primitives (aka
references) are made-up from primitives and other references.)  For example, to
create a value of <code class="src src-java"><span style="color: #b57614;">int</span></code> we simply write <code>5</code>.
</p>

<p>
<i>There are no instance methods on literals;</i> only a
handful of operator methods.  For example, we cannot write <code>2.pow(3)</code>
to compute 2¬≥, but instead must write <code class="src src-java">Math.pow(2, 3)</code>.
Finally, variables of primitive types have default values when not initialised
whereas object types default to <code class="src src-java"><span style="color: #076678; font-weight: bold;">null</span></code> &#x2014;note: <code>null</code> is a value of all object types, but not of primitive types.
</p>

<div style="column-rule-style: solid black;column-count: 2;">
<div class="org-src-container">
<pre class="src src-java"><span style="color: #a89984;">// </span><span style="color: #a89984;">Declare a new object type</span>
<span style="color: #98971a; font-weight: bold;">class</span> <span style="color: #b57614;">Person</span> { <span style="color: #b57614;">String</span> <span style="color: #076678;">name</span>; }

<span style="color: #b57614;">Person</span> <span style="color: #076678;">obj</span>; <span style="color: #a89984;">// </span><span style="color: #a89984;">&#8776; null (OBJECT)</span>
<span style="color: #b57614;">int</span> <span style="color: #076678;">prim</span>;    <span style="color: #a89984;">// </span><span style="color: #a89984;">&#8776; 0   (PRIMITIVE)</span>

<span style="color: #a89984;">// </span><span style="color: #a89984;">Primitives are created as literals</span>
prim = 1;    <span style="color: #a89984;">// </span><span style="color: #a89984;">&#8776; 1</span>

<span style="color: #a89984;">// </span><span style="color: #a89984;">Objects are created with &#8220;new&#8221;</span>
obj = <span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">Person</span>(); <span style="color: #a89984;">// </span><span style="color: #a89984;">&#8776; a reference,</span>
   <span style="color: #a89984;">// </span><span style="color: #a89984;">like: Person@66048bfd</span>

<span style="color: #a89984;">// </span><span style="color: #a89984;">Primitives are  identified by</span>
<span style="color: #a89984;">// </span><span style="color: #a89984;">thier literal shape</span>
<span style="color: #b57614;">assert</span> <span style="color: #076678;">prim</span> == 1;

<span style="color: #a89984;">// </span><span style="color: #a89984;">Objects are identified by</span>
<span style="color: #a89984;">/// </span><span style="color: #a89984;">references to their memory</span>
<span style="color: #a89984;">// </span><span style="color: #a89984;">locations (not syntax shape!)</span>
assert obj != <span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">Person</span>();

<span style="color: #a89984;">// </span><span style="color: #a89984;">Primitives copy values</span>
<span style="color: #b57614;">int</span> <span style="color: #076678;">primCopy</span> = prim;  <span style="color: #a89984;">// </span><span style="color: #a89984;">&#8776; 1</span>

<span style="color: #a89984;">/// </span><span style="color: #a89984;">Objects copy references</span>
<span style="color: #b57614;">Person</span> <span style="color: #076678;">objCopy</span> = obj;
  <span style="color: #a89984;">// </span><span style="color: #a89984;">&#8776; a reference, like: Person@66048bfd</span>

<span style="color: #a89984;">// </span><span style="color: #a89984;">Changing primitive copy has</span>
<span style="color: #a89984;">// </span><span style="color: #a89984;">no impact on original</span>
primCopy = 123;
<span style="color: #b57614;">assert</span> <span style="color: #076678;">prim</span> == 1;

<span style="color: #a89984;">// </span><span style="color: #a89984;">Changing object copy also</span>
<span style="color: #a89984;">// </span><span style="color: #a89984;">changes the original!</span>
<span style="color: #b57614;">assert</span> <span style="color: #076678;">obj.name</span> == <span style="color: #076678; font-weight: bold;">null</span>;
objCopy.name = <span style="color: #689d6a;">"woah"</span>;    <span style="color: #a89984;">// </span><span style="color: #a89984;">Alter copy!</span>
<span style="color: #a89984;">// </span><span style="color: #a89984;">Original is altered!</span>
<span style="color: #b57614;">assert</span> <span style="color: #076678;">obj.name.equals</span>(<span style="color: #689d6a;">"woah"</span>);
</pre>
</div>

</div>
<div> <details class="float-child" style="background-color: nil"><summary> <strong> <font face="Courier" size="3" color="green">Wrapper Types </font> </strong> </summary>

<p>
Java lets primitives shift back and forth from their literal representations
and the world of reference objects somewhat-harmoniously by automatically
‚Äúboxing‚Äù them up as objects when need be. This is done by having class
versions of every primitive type; e.g., the primitive <code class="src src-java"><span style="color: #b57614;">int</span></code>
has the class version <code class="src src-java">Integer</code>.
</p>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #b57614;">Integer</span> <span style="color: #076678;">x</span> = 1; <span style="color: #a89984;">// </span><span style="color: #a89984;">auto-boxed to an object</span>
<span style="color: #b57614;">int</span> <span style="color: #076678;">y</span> = <span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">Integer</span>(2); <span style="color: #a89984;">// </span><span style="color: #a89984;">auto-unboxed to a primitive</span>
</pre>
</div>

<p>
<i>Primitives require much less memory!</i>
An <code>int</code> requires 32-bits to represent, whereas an <code>Integer</code> requires 128-bits:
The object requires as much space as 4 primitives, in this case.
</p>

</details> </div>
</div>
</div>

<div id="outline-container-org3799bf8" class="outline-2">
<h2 id="org3799bf8"><span class="section-number-2">3.</span> <a href="#org3799bf8">Properties and methods have <b>separate namespaces</b></a></h2>
<div class="outline-text-2" id="text-3">
<!--
<p>
Properties and methods have <b>separate namespaces</b> ---
</p>
-->

<p>
Below we use the name <code>plus1</code> in two different definitional roles.
Which one we want to refer to depends on whether we use "dot-notation" with <i>or</i> without parenthesis:
The parentheis indicate we want to use the method.
</p>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #98971a; font-weight: bold;">class</span> <span style="color: #b57614;">SameNameNoProblem</span> {
    <span style="color: #98971a; font-weight: bold;">public</span> <span style="color: #98971a; font-weight: bold;">static</span> <span style="color: #b57614;">int</span> <span style="color: #076678;">plus1</span>(<span style="color: #b57614;">int</span> <span style="color: #076678;">x</span>){ <span style="color: #98971a; font-weight: bold;">return</span> x + 1; } <span style="color: #a89984;">// </span><span style="color: #a89984;">Method!</span>
    <span style="color: #98971a; font-weight: bold;">public</span> <span style="color: #98971a; font-weight: bold;">static</span> <span style="color: #b57614;">String</span> <span style="color: #076678;">plus1</span> = <span style="color: #689d6a;">"+1"</span>;             <span style="color: #a89984;">// </span><span style="color: #a89984;">Property!</span>
}

<span style="color: #98971a; font-weight: bold;">class</span> <span style="color: #b57614;">ElseWhere</span> {
    <span style="color: #b57614;">String</span> <span style="color: #076678;">pretty</span> = SameNameNoProblem.plus1;
    <span style="color: #b57614;">Integer</span> <span style="color: #076678;">three</span> = SameNameNoProblem.plus1(2);
}
</pre>
</div>
<p>
The consequence of different namespaces  are
</p>
<ol class="org-ol">
<li>Use <code class="src src-java">apply</code> to call functions bound to variables.</li>
<li>Refer to functions outside of function calls by using a double colon, <code>::</code>.</li>
</ol>
</div>
</div>

<div id="outline-container-org69dccc7" class="outline-2">
<h2 id="org69dccc7"><span class="section-number-2">4.</span> <a href="#org69dccc7">Anonymous <i>functions</i>: ¬†¬† <code>(arg‚ÇÅ, ‚Ä¶, arg‚Çô) ‚Üí bodyHere</code> ¬†¬†¬† </a></h2>
<div class="outline-text-2" id="text-4">
<div style="padding: 1em;background-color: #CCFFCC;border-radius: 15px;font-size: 0.9em;"> <h3>Functions are formed with the ‚Äú‚Üí‚Äù notation and used with ‚Äúapply‚Äù</h3> 
<div class="org-src-container">
<pre class="src src-java"><span style="color: #a89984;">// </span><span style="color: #a89984;">define, then invoke later on</span>
<span style="color: #b57614;">Function</span>&lt;<span style="color: #b57614;">Integer</span>, <span style="color: #b57614;">Integer</span>&gt; <span style="color: #076678;">f</span>  =  x -&gt; x * 2;

f.apply(3) <span style="color: #a89984;">// </span><span style="color: #a89984;">&#8658; 6</span>
<span style="color: #a89984;">// </span><span style="color: #a89984;">f(3)    // invalid!</span>

<span style="color: #a89984;">// </span><span style="color: #a89984;">define and immediately invoke</span>
((Function&lt;<span style="color: #b57614;">Integer</span>, Integer&gt;) x -&gt; x * 2).apply(3);

<span style="color: #a89984;">// </span><span style="color: #a89984;">define from a method reference, using &#8220;::&#8221;</span>
<span style="color: #b57614;">Function</span>&lt;<span style="color: #b57614;">Integer</span>, <span style="color: #b57614;">Integer</span>&gt; <span style="color: #076678;">f</span> = SameNameNoProblem::plus1;
</pre>
</div>

</div>

<div style="padding: 1em;background-color: #CCFFCC;border-radius: 15px;font-size: 0.9em;"> <h3>Let's make a method that takes anonymous functions, and use it</h3> 
<div class="org-src-container">
<pre class="src src-java"><span style="color: #a89984;">// </span><span style="color: #a89984;">Recursion with the &#8216;tri&#8217;angle numbers: tri(f, n) = &#931;&#8319;&#7522;&#8332;&#8320; f(i).</span>
<span style="color: #98971a; font-weight: bold;">public</span> <span style="color: #98971a; font-weight: bold;">static</span> <span style="color: #b57614;">int</span> <span style="color: #076678;">tri</span>(<span style="color: #b57614;">Function</span>&lt;<span style="color: #b57614;">Integer</span>, <span style="color: #b57614;">Integer</span>&gt; <span style="color: #076678;">f</span>, <span style="color: #b57614;">int</span> <span style="color: #076678;">n</span>) {
    <span style="color: #98971a; font-weight: bold;">return</span> n &lt;= 0 ? 0 : f.apply(n) + tri(f, n - 1);
}

tri(x -&gt; x / 2, 100);  <span style="color: #a89984;">//  </span><span style="color: #a89984;">&#8658;  &#931;&#185;&#8304;&#8304;&#7522;&#8332;&#8320; i/2 = 2500</span>

<span style="color: #a89984;">// </span><span style="color: #a89984;">Using the standard &#8220;do nothing&#8221; library function</span>
tri(Function.identity(), 100);  <span style="color: #a89984;">//  </span><span style="color: #a89984;">&#8658;  &#931;&#185;&#8304;&#8304;&#7522;&#8332;&#8320; i = 5050</span>
</pre>
</div>

</div>

<div style="padding: 1em;background-color: #CCFFCC;border-radius: 15px;font-size: 0.9em;"> <h3>Exercise! Why does the following code work?</h3> 
<div class="org-src-container">
<pre class="src src-java"><span style="color: #b57614;">int</span> <span style="color: #076678;">tri</span> = 100;
tri(Function.identity(), tri); <span style="color: #a89984;">//  </span><span style="color: #a89984;">&#8658; 5050</span>

<span style="color: #b57614;">Function</span>&lt;<span style="color: #b57614;">Integer</span>, <span style="color: #b57614;">Integer</span>&gt; <span style="color: #076678;">tri</span> = x -&gt; x;
tri(tri, 100); <span style="color: #a89984;">//  </span><span style="color: #a89984;">&#8658; 5050</span>
</pre>
</div>

</div>

<p>
In Java, everything is an object! (Ignoring primitives, which exist for the purposes of efficiency!)
As such, functions are also objects! Which means, they must have a type: Either some class (or some interface), but which
one? The arrow literal notation <code>x -&gt; e</code> <b>is a short-hand</b> for an implementation of an interface with one abstract
method&#x2026;
</p>
</div>
</div>

<div id="outline-container-org959632a" class="outline-2">
<h2 id="org959632a"><span class="section-number-2">5.</span> <a href="#org959632a">Lambdas are a shorthand for classes that implement functional interfaces</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Let's take a more theoretical look at anonymous functions.
</p>
</div>
<div id="outline-container-org171a931" class="outline-3">
<h3 id="org171a931"><span class="section-number-3">5.1.</span> <a href="#org171a931">Functional Interfaces</a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
A <i>lambda expression</i> is a (shorthand) implementation of the only abstract method
in a <i>functional interface</i> ‚Äî‚Äî‚Äìwhich is an interface that has exactly one abstract
method, and possibly many default methods.
</p>

<p>
For example, the following interface is a functional interface: It has only one abstract method.
</p>
<div class="org-src-container">
<pre class="src src-java">  <span style="color: #98971a; font-weight: bold;">public</span> <span style="color: #98971a; font-weight: bold;">interface</span> <span style="color: #b57614;">Predicate</span>&lt;<span style="color: #b57614;">T</span>&gt; {

      <span style="color: #b57614;">boolean</span> <span style="color: #076678;">test</span>(<span style="color: #b57614;">T</span> <span style="color: #076678;">t</span>);  <span style="color: #a89984;">// </span><span style="color: #a89984;">This is the abstract method</span>

      <span style="color: #a89984;">// </span><span style="color: #a89984;">Other non-abstract methods.</span>
      <span style="color: #98971a; font-weight: bold;">default</span> <span style="color: #b57614;">Predicate</span>&lt;<span style="color: #b57614;">T</span>&gt; <span style="color: #076678;">and</span>(<span style="color: #b57614;">Predicate</span>&lt;? <span style="color: #98971a; font-weight: bold;">super</span> <span style="color: #b57614;">T</span>&gt; <span style="color: #076678;">other</span>) { ... }
      <span style="color: #a89984;">// </span><span style="color: #a89984;">Example usage: nonNull.and(nonEmpty).and(shorterThan5)</span>
      <span style="color: #98971a; font-weight: bold;">static</span> &lt;<span style="color: #b57614;">T</span>&gt; <span style="color: #b57614;">Predicate</span>&lt;<span style="color: #b57614;">T</span>&gt; <span style="color: #076678;">isEqual</span>(<span style="color: #b57614;">T</span> <span style="color: #076678;">target</span>) {...}
      <span style="color: #a89984;">// </span><span style="color: #a89984;">Example usage: Predicate.isEqual("Duke") is a new predicate to use.</span>
  }
</pre>
</div>

<p>
Optionally, to ensure that this is indeed a functional interface, i.e., it has
only one abstract method, we can place <code>@FunctionalInterface</code> above its
declaration. Then the complier will check our intention for us.
</p>
</div>
</div>
<div id="outline-container-org3bfa19f" class="outline-3">
<h3 id="org3bfa19f"><span class="section-number-3">5.2.</span> <a href="#org3bfa19f">The Type of a Lambda</a></h3>
<div class="outline-text-3" id="text-5-2">
<p>
Anyhow, since a lambda is a shorthand implementation of an interface, this means
that what you can do with a lambda depenends on the interface it's impementing!
</p>

<p>
As such, when you see a lambda it's important to know it's type is not "just a function"!
This mean <b>to run/apply/execute a lambda variable</b> you need to remember that the variable
is technically an object implementing a specific functional interface, which has a single
<i>named</i> abstract method (which is implemented by the lambda) and so we need to invoke that
method on our lambda variable to actually run the lambda. For example,
</p>
<div class="org-src-container">
<pre class="src src-java">  <span style="color: #b57614;">Predicate</span>&lt;<span style="color: #b57614;">String</span>&gt; <span style="color: #076678;">f</span> = s -&gt; s.length() == 3;   <span style="color: #a89984;">// </span><span style="color: #a89984;">Make a lambda variable</span>
  <span style="color: #b57614;">boolean</span> <span style="color: #076678;">isLength3String</span> = f.test(<span style="color: #689d6a;">"hola"</span>);     <span style="color: #a89984;">// </span><span style="color: #a89984;">Actually invoke it.</span>
</pre>
</div>

<p>
Since different lambdas may implement different interfaces, the actually method
to run the lambda will likely be different! Moreover, you can invoke <i>any</i> method
on the interface that the lambda is implementing. After-all, a lambda is an object; not just a function.
</p>

<p>
Moreover, <code>Function</code> has useful methods: Such as <code>andThen</code> for composing functions sequentially,
and <code>Function.identity</code> for the do-nothing function.
</p>
</div>
</div>
<div id="outline-container-org71b2b9d" class="outline-3">
<h3 id="org71b2b9d"><span class="section-number-3">5.3.</span> <a href="#org71b2b9d">Common Java Functional Types</a></h3>
<div class="outline-text-3" id="text-5-3">
<p>
Anyhow, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/function/package-summary.html">Java has ~40 functional interfaces</a>, which are essentially useful variations around the following 4:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Class</th>
<th scope="col" class="org-left">runner</th>
<th scope="col" class="org-left">Description &amp; example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">  <code class="src src-java"><span style="color: #98971a; font-weight: bold;">Supplier<T></span></code></td>
<td class="org-left"><code>get</code></td>
<td class="org-left">Makes objects for us; e.g.,   <code class="src src-java"><span style="color: #98971a; font-weight: bold;">() -> "Hello"!</span></code>.</td>
</tr>

<tr>
<td class="org-left">  <code class="src src-java"><span style="color: #98971a; font-weight: bold;">Consumer<T></span></code></td>
<td class="org-left"><code>accept</code></td>
<td class="org-left">Does stuff with our objects, returning void;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">e.g.,   <code class="src src-java"><span style="color: #98971a; font-weight: bold;">s -> System.out.println(s)</span></code>.</td>
</tr>

<tr>
<td class="org-left">  <code class="src src-java"><span style="color: #98971a; font-weight: bold;">Predicate<T></span></code></td>
<td class="org-left"><code>test</code></td>
<td class="org-left">Tests our object for some property, returning a boolean</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">e.g.,   <code class="src src-java"><span style="color: #98971a; font-weight: bold;">s -> s.length() == 3</span></code></td>
</tr>

<tr>
<td class="org-left">  <code class="src src-java"><span style="color: #98971a; font-weight: bold;">Function<T</span></code></td>
<td class="org-left"><code>apply</code></td>
<td class="org-left">Takes our object and gives us a new one; e.g.,   <code class="src src-java"><span style="color: #98971a; font-weight: bold;">s -> s.length()</span></code></td>
</tr>
</tbody>
</table>

<p>
For example, <code class="src src-java">&#119966;::<span style="color: #98971a; font-weight: bold;">new</span></code> is a supplier for the
class ùíû, and the <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)">forEach</a> method on iterables actually uses a consumer
lambda, and a supplier can be used to <a href="https://stackoverflow.com/questions/36255007/is-there-any-way-to-reuse-a-stream">reuse streams</a> (discussed below).
</p>

<p>
The remaining Java functional interfaces are variations on these 4
that are optimised for primitive types, or have different number of
inputs as functions. For example, <code>UnaryOperator&lt;T&gt;</code> is essentially
<code>Function&lt;T, T&gt;</code>, and <code>BiFunction&lt;A, B, C&gt;</code> is essentially
<code>Function&lt;A, Function&lt;B, C&gt;&gt;</code> ‚Äî‚Äî‚Äînot equivalent, but essentially the
same thing.
</p>

<ul class="org-ul">
<li>As another example, Java has a <code>TriConsumer</code> which is the type of functions that have 3 inputs and no outputs
&#x2014;since <code>Tri</code> means 3, as in <i>tricycle</i>.</li>
</ul>
</div>
</div>
<div id="outline-container-org6bcaf42" class="outline-3">
<h3 id="org6bcaf42"><span class="section-number-3">5.4.</span> <a href="#org6bcaf42">Eta Reduction: Writing Lambda Expressions as Method References</a></h3>
<div class="outline-text-3" id="text-5-4">
<p>
Lambdas can sometimes be simplified by using <i>method reference</i>:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Method type</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Static</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">\((x,ys) ‚Üí œÑ.f(x, ys)\)</td>
<td class="org-left">‚âà</td>
<td class="org-left">\(œÑ::f\)</td>
</tr>

<tr>
<td class="org-left">Instance</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">\((x,ys) ‚Üí x.f(ys)\)</td>
<td class="org-left">‚âà</td>
<td class="org-left">\(œÑ::f\), where œÑ is the type of \(x\)</td>
</tr>

<tr>
<td class="org-left">Constructor</td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>args ‚Üí new œÑ&lt;A&gt;(args)</code></td>
<td class="org-left">‚âà</td>
<td class="org-left"><code>œÑ&lt;A&gt;::new</code></td>
</tr>
</tbody>
</table>

<p>
For example, <code class="src src-java">(sentence, word) -&gt; sentence.indexOf(word)</code> is the same
as <code class="src src-java">String::indexOf</code>. Likewise, <code class="src src-java">(a, b) -&gt; Integer.max(a, b)</code> is just <code class="src src-java">Integer::max</code>.
</p>

<ul class="org-ul">
<li>Note that a class name œÑ might be qualified; e.g., <code class="src src-java">x -&gt; System.out.println(x)</code> is just <code class="src src-java">System.out::println</code>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orge747dad" class="outline-2">
<h2 id="orge747dad"><span class="section-number-2">6.</span> <a href="#orge747dad">Variable Bindings</a></h2>
<div class="outline-text-2" id="text-6">
<p>
Let's declare some new names, and assert what we know about them.
</p>
<div class="org-center">
<p>
<code class="src src-java"><span style="color: #b57614;">Integer</span> <span style="color: #076678;">x</span>, <span style="color: #076678;">y</span> = 1, <span style="color: #076678;">z</span>;</code>
</p>

<p>
<code class="src src-java"><span style="color: #b57614;">assert</span> <span style="color: #076678;">x</span> == <span style="color: #076678; font-weight: bold;">null</span> &amp;&amp; y == 1 &amp;&amp; z == <span style="color: #076678; font-weight: bold;">null</span>;</code>
</p>
</div>

<p>

<code>œÑ x‚ÇÄ = v‚ÇÄ, ‚Ä¶, x‚Çô = v‚Çô;</code> introduces ùìÉ-new names <code>x·µ¢</code> each having value <code>v·µ¢</code> of type œÑ.
</p>
<ul class="org-ul">
<li>The <code>v·µ¢</code> are optional, defaulting to <code class="src src-java"> 0, <span style="color: #076678; font-weight: bold;">false</span>,</code> <code>'\000'</code>,
<code class="src src-java"><span style="color: #076678; font-weight: bold;">null</span> </code> for numbers, booleans, characters, and
object types, respectively.</li>
<li>Later we use <code>x·µ¢ = w·µ¢;</code> to update the name <code>x·µ¢</code> to refer to a new value
<code>w·µ¢</code>.</li>
</ul>


<hr>
<div style="column-rule-style: solid black;column-count: 2;">
<p>
There are a variety of update statements:
Suppose \(œÑ\) is the type of \(x\) then,
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Augment:¬† <code>x ‚äï= y ¬†‚âà¬† x = (œÑ)(x ‚äï y)</code></td>
</tr>

<tr>
<td class="org-left">Increment:¬†¬† <code>x++ ¬†‚âà¬† x += 1)</code></td>
</tr>

<tr>
<td class="org-left">Decrement:¬† <code>x-- ¬†‚âà¬† x -= 1)</code></td>
</tr>
</tbody>
</table>

<p>
The operators <code>--</code> and <code>++</code> can appear <i>before or after</i> a name:
Suppose \(ùíÆ(x)\) is a statement mentioning the name \(x\), then
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><code>ùíÆ(x++) ¬†‚âà¬† ùíÆ(x); x += 1</code></td>
</tr>

<tr>
<td class="org-left"><code>ùíÆ(++x) ¬†‚âà¬† x += 1; ùíÆ(x)</code></td>
</tr>
</tbody>
</table>


</div>

<p>
Since compound assignment is really an <a href="https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.26.2">update with a <i>cast</i></a>,
there could be unexpected behaviour when \(x\) and \(y\) are not both
ints/floats.
</p>

<hr>

<ul class="org-ul">
<li>If we place the keyword <code class="src src-java"><span style="color: #98971a; font-weight: bold;">final</span></code> before the type œÑ,
then the names are constant: They can appear only once on the right side of an ‚Äò=‚Äô,
and any further occurrences (i.e., to change their values) crash the program.
<code class="src src-java"> <span style="color: #98971a; font-weight: bold;">final</span> <span style="color: #b57614;">int</span> <span style="color: #076678;">x</span> = 1, <span style="color: #076678;">y</span>; y = 3; </code> is fine, but changing the
second <code>y</code> to an <code>x</code> fails.</li>

<li>We may use <code class="src src-java"><span style="color: #b57614;">var</span> <span style="color: #076678;">x</span> = v</code>, for only <i>one</i>
declaration, to avoid writing the name of the type œÑ (which may be
lengthy). Java then <i>infers</i> the type by inspecting the shape of
<code>v</code>.</li>

<li><p>
Chained assignments associate to the right:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><code>a += b /= 2 * ++c;</code></td>
<td class="org-left">¬†‚âà¬†</td>
<td class="org-left"><code>a += (b /= (2 * ++c));</code></td>
</tr>
</tbody>
</table>
<p>
(The left side of an ‚Äú=‚Äù, or ‚Äú‚äï=‚Äù, must a single name!)
</p></li>
</ul>
</div>
</div>
<div id="outline-container-orga1624f4" class="outline-2">
<h2 id="orga1624f4"><span class="section-number-2">7.</span> <a href="#orga1624f4">Scope, Statements, and Control Flow</a></h2>
<div class="outline-text-2" id="text-7">
<div style="column-rule-style: none nil;column-count: 2;">
<div class="org-src-container">
<pre class="src src-java"><span style="color: #b57614;">var</span> <span style="color: #076678;">x</span> = 1;

{ <span style="color: #a89984;">// </span><span style="color: #a89984;">new local scope</span>
  <span style="color: #b57614;">var</span> <span style="color: #076678;">x</span> = 200; <span style="color: #a89984;">// </span><span style="color: #a89984;">&#8220;shadows&#8221; top x</span>
  <span style="color: #b57614;">var</span> <span style="color: #076678;">y</span> = 300;
  assert x + y == 500;
}

<span style="color: #a89984;">// </span><span style="color: #a89984;">y is not visible here</span>
<span style="color: #b57614;">assert</span> <span style="color: #076678;">y</span> == 20; <span style="color: #a89984;">// </span><span style="color: #a89984;">CRASH!</span>

<span style="color: #a89984;">// </span><span style="color: #a89984;">The top-most x has not changed</span>
<span style="color: #b57614;">assert</span> <span style="color: #076678;">x</span> == 1;
</pre>
</div>

<p>
‚äô Each binding has a scope, which is the part of the program in which
the binding is visible.
</p>

<p>
‚äô <i>local bindings</i> are defined within a block and can only be referenced in it.
</p>


<p>
‚äô Names within a block /shadow//hide bindings with the same name.
</p>

</div>


<p>
Besides the assignment statement, we also have the following statements:
</p>
<ul class="org-ul">
<li>Blocks: If <code>S·µ¢</code> are statements, then <code>{S‚ÇÄ; ‚Ä¶; S‚Çô;}</code> is a statement.</li>
<li>Conditionals: <code class="src src-java"><span style="color: #98971a; font-weight: bold;">if</span> (condition) S&#8321; <span style="color: #98971a; font-weight: bold;">else</span> S&#8322;</code></li>
<li><p>
The ‚Äúfor-each‚Äù syntax applies to iterable structures
&#x2014;we will define our own later.
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #a89984;">// </span><span style="color: #a89984;">Print all the elements in the given list.</span>
<span style="color: #98971a; font-weight: bold;">for</span> (<span style="color: #b57614;">var</span> <span style="color: #076678;">x</span> : List.of(1, 2, 3))
   System.out.printf(<span style="color: #689d6a;">"x &#8776; %s\n"</span>, x);
</pre>
</div></li>

<li><p>
While-Loops <code class="src src-java">&#160;<span style="color: #98971a; font-weight: bold;">while</span> (condition) S&#160;</code> and for-loops
<code class="src src-java">&#160;<span style="color: #98971a; font-weight: bold;">for</span>(init; cond; change) body&#160;</code>.
</p>

<div class="org-src-container">
<pre class="src src-java">   <span style="color: #b57614;">var</span> <span style="color: #076678;">i</span> = 0; <span style="color: #98971a; font-weight: bold;">while</span> (i &lt; 10) System.out.println(Math.pow(2, i++));
&#8776;
   <span style="color: #98971a; font-weight: bold;">for</span>(<span style="color: #b57614;">var</span> <span style="color: #076678;">i</span> = 0; i &lt; 10; i++) System.out.println(Math.pow(2, i));
</pre>
</div>

<p>
Exit the current loop with the <code class="src src-java"><span style="color: #98971a; font-weight: bold;">break</span>;</code>
 statement.  Similarly, the <code class="src src-java"><span style="color: #98971a; font-weight: bold;">continue</span>;</code>
 statement jumps out of the body and continues with the next
 iteration of the loop.
</p></li>
</ul>
</div>
</div>
<div id="outline-container-orga1f6302" class="outline-2">
<h2 id="orga1f6302"><span class="section-number-2">8.</span> <a href="#orgb665556"><code class="src src-java"><span style="color: #98971a; font-weight: bold;">switch</span></code></a></h2>
<div class="outline-text-2" id="text-8">
<p>
Dispatching on a value with switch
</p>

<div style="column-rule-style: none nil;column-count: 2;">
<p>
<b>‚ü¶Switch Statement‚üß</b>
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #98971a; font-weight: bold;">switch</span> (x){
  <span style="color: #98971a; font-weight: bold;">case</span> v&#8321;: S&#8321;
  &#8942;
  <span style="color: #98971a; font-weight: bold;">case</span> v&#8345;: S&#8345;
  <span style="color: #98971a; font-weight: bold;">default</span>: S&#8345;
}
</pre>
</div>

<p>
The <code class="src src-java"><span style="color: #98971a; font-weight: bold;">switch</span></code> works as follows:
Find the <i>first</i> ùíæ with <code>x == v·µ¢</code>, then execute
<code>{S·µ¢; ‚ãØ; S‚Çò;}</code>, if there is no such ùíæ, execute the
default statement <code>S‚Çô</code>. Where <code>S‚Çò</code> is the first
statement after <code>S·µ¢</code> that ends with <code>break;</code>.
</p>


</div>

<p>
E.g., <code>case v: S; case w: S‚Ä≤; break</code>
means do <code>S;S‚Ä≤</code> if we see <code>v</code>
but we do <code>S‚Ä≤</code>
when seeing both <code>v</code> and <code>w</code>.
</p>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #98971a; font-weight: bold;">switch</span> (2){
  <span style="color: #98971a; font-weight: bold;">case</span> 0: System.out.println(0);
  <span style="color: #98971a; font-weight: bold;">case</span> 1: System.out.println(1);
  <span style="color: #98971a; font-weight: bold;">case</span> 2: System.out.println(2);
  <span style="color: #98971a; font-weight: bold;">default</span>: System.out.println(-1);
} <span style="color: #a89984;">// </span><span style="color: #a89984;">&#8658; Outputs: 2 -1</span>
</pre>
</div>

<hr>

<p>
<b>‚ü¶Switch Expression‚üß</b>
If we want to perform case analysis <i>without the fall-over behaviour</i>, we use
arrows ‚Äò‚Üí‚Äô instead of colons ‚Äò:‚Äô.
</p>
<div class="org-src-container">
<pre class="src src-java">   <span style="color: #98971a; font-weight: bold;">switch</span> (2){
     <span style="color: #98971a; font-weight: bold;">case</span> 0 -&gt; 0;
     <span style="color: #98971a; font-weight: bold;">case</span> 1 -&gt; 1;
     <span style="color: #98971a; font-weight: bold;">case</span> 2 -&gt; 2;
     <span style="color: #98971a; font-weight: bold;">default</span> -&gt; -1;
   } <span style="color: #a89984;">// </span><span style="color: #a89984;">&#8658; 2</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb213b0" class="outline-2">
<h2 id="orgcb213b0"><span class="section-number-2">9.</span> <a href="#orgcb213b0">Strings</a></h2>
<div class="outline-text-2" id="text-9">
<p>
Any pair of matching double-quotes will produce a string literal
&#x2014;whereas single-quote around a single character produce a
<code class="src src-java"><span style="color: #b57614;">char</span></code>acter value. For multi-line strings, use
triple quotes, <code>"""</code>, to produce <i>text blocks</i>.
</p>

<p>
String interpolation can be done with <code>String.format</code> using <code>%s</code>
placeholders.  For advanced interpolation, such as positional
placeholders, use <a href="https://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html">MessageFormat</a>.
</p>

<div class="org-src-container">
<pre class="src src-java">String.format(<span style="color: #689d6a;">"Half of 100 is %s"</span>, 100 / 2) <span style="color: #a89984;">// </span><span style="color: #a89984;">&#8658; "Half of 100 is 50"</span>
</pre>
</div>

<ul class="org-ul">
<li><code>s.repeat(ùìÉ)</code> ‚âà Get a new string by gluing ùìÉ-copies of the string ùìà.</li>
<li><code>s.toUpperCase()</code> and <code>s.toLowerCase()</code> to change case.</li>
<li>Trim removes spaces, newlines, tabs, and other whitespace from the start and
end of a string.
E.g., <code class="src src-java"><span style="color: #689d6a;">"  okay \n "</span>.trim().equals(<span style="color: #689d6a;">"okay"</span>)</code></li>
<li><code>s.length()</code> is the number of characters in the string.</li>
<li><code>s.isEmpty() ¬†‚â°¬† s.length() == 0</code></li>
<li><code>s.isBlank() ¬†‚â°¬† s.trim().isEmpty()</code></li>
<li><code>String.valueOf(x)</code> gets a string representation of anything <code>x</code>.</li>
<li><code>s.concat(t)</code> glues together two strings into one longer string; i.e., <code>s + t</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgb6f0c55" class="outline-2">
<h2 id="orgb6f0c55"><span class="section-number-2">10.</span> <a href="#orgb6f0c55">Equality</a></h2>
<div class="outline-text-2" id="text-10">
<ul class="org-ul">
<li>In general, ‚Äò==‚Äô is used to check two primitives for equality, whereas
<code>.equals</code> is used to check if two objects are equal.</li>

<li>The equality operator ‚Äò==‚Äô means ‚Äútwo things are indistinguishable:
They evaluate to the same literal value, or refer to the same place in memory‚Äù.</li>

<li>As a method, <code>.equals</code> can be redefined to obtain a suitable notion
of equality between objects; e.g., ‚Äútwo people are the same if they
have the same name (regardless of anything else)‚Äù.  If it's not
redefined, <code>.equals</code> behaves the same as ‚Äò==‚Äô.  In contrast, Java
does not support operator overloading and so ‚Äò==‚Äô cannot be
redefined.</li>

<li>For strings, ‚Äò==‚Äô and <code>.equals</code> behave differently:
<code class="src src-java"><span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">String</span>(<span style="color: #689d6a;">"x"</span>) == <span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">String</span>(<span style="color: #689d6a;">"x"</span>)</code> is false, but
<code class="src src-java"><span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">String</span>(<span style="color: #689d6a;">"x"</span>).equals(<span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">String</span>(<span style="color: #689d6a;">"x"</span>))</code> is
true!  The first checks that two things refer to the same place
in memory, the second checks that they have the same letters in the
same order.
<ul class="org-ul">
<li>If we want this kind of ‚Äútwo objects are equal when they have the
same contents‚Äù behaviour, we can get it for free by using
<code class="src src-java">record</code>s instead of <code class="src src-java"><span style="color: #98971a; font-weight: bold;">class</span></code>es.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org74da38d" class="outline-2">
<h2 id="org74da38d"><span class="section-number-2">11.</span> <a href="#org74da38d">Arithmetic</a></h2>
<div class="outline-text-2" id="text-11">
<p>
In addition to the standard arithmetic operations, we have <code class="src src-java">Math.max(<span style="color: #b57614;">x</span>, <span style="color: #b57614;">y</span>)</code> that takes two numbers and gives the largest; likewise
<code class="src src-java">Math.min(<span style="color: #b57614;">x</span>, <span style="color: #b57614;">y</span>)</code>.  Other common functions include
<code class="src src-java">Math.sqrt, Math.ceil, Math.round, Math.abs,</code> and
<code class="src src-java">Math.random()</code> which returns a random number between 0
and 1.  Also, use <code>%</code> for remainder after division; e.g., <code>n % 10</code> is the right-most
digit of integer \(n\), and <code class="src src-java">n % 2 == 0</code> exactly when \(n\) is
even, and <code>d % 1</code> gives the decimal points of a floating point number \(d\), and
finally: If <code>d</code> is the index of the current weekday (0..6), then <code>d + 13 % 7</code> is the
weekday 13-days from today.
</p>

<div style="column-rule-style: solid black;column-count: 2;">
<div class="org-src-container">
<pre class="src src-java"><span style="color: #a89984;">// </span><span style="color: #a89984;">Scientific notation: &#120013;e&#120014; &#8776; &#120013; &#215; 10&#696;</span>
assert 1.2e3 == 1.2 * Math.pow(10, 3)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #a89984;">// </span><span style="color: #a89984;">random integer x with 4 &#8804; x &lt; 99</span>
<span style="color: #b57614;">var</span> <span style="color: #076678;">x</span> = <span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">Random</span>().nextInt(4, 99);
</pre>
</div>
</div>

<div style="padding: 1em;background-color: #CCFFCC;border-radius: 15px;font-size: 0.9em;"> <h3>Sum the digits of the integer $n = 31485$</h3> 
<div class="org-src-container">
<pre class="src src-java"><span style="color: #b57614;">int</span> <span style="color: #076678;">n</span> = 31485;
<span style="color: #b57614;">int</span> <span style="color: #076678;">sum</span> = 0;
<span style="color: #98971a; font-weight: bold;">while</span> (n % 10 != 0) { sum += n % 10; n /= 10; }
<span style="color: #b57614;">assert</span> <span style="color: #076678;">sum</span> == 3 + 1 + 4 + 8 + 5;
</pre>
</div>

<hr />
<p>
A more elegant, ‚Äúfunctional style‚Äù, solution:
</p>
<div class="org-src-container">
<pre class="src src-java">String.valueOf(<span style="color: #b57614;">n</span>).chars().map(c -&gt; c - <span style="color: #689d6a;">'0'</span>).sum();
</pre>
</div>


<p>
The <code>chars()</code> methods returns a stream of integers (Java
<code class="src src-java"><span style="color: #b57614;">char</span></code>acters are really just integers).
Likewise, <code class="src src-java">IntStream.range(0, 20)</code> makes a
sequence of numbers that we can then <code>map</code> over, then <code>sum, min, max, average</code>.
</p>

</div>
</div>
</div>

<div id="outline-container-orgbac0050" class="outline-2">
<h2 id="orgbac0050"><span class="section-number-2">12.</span> <a href="#orgbac0050">Collections and Streams</a></h2>
<div class="outline-text-2" id="text-12">
<p>
<i>Collections</i> are types that hold a bunch of similar data: Lists,
Sets, and Maps are the most popular. <i>Streams</i> are pipelines for
altering collections: Usually one has a collection, converts it to a
stream by invoking <code>.stream()</code>, then performs <code>map</code> and <code>filter</code>
methods, etc, then ‚Äúcollects‚Äù (i.e., runs the stream pipeline to get
an actual collection value back) the result.
</p>

<hr>

<p>
<b>Lists are ordered collections, that care about multiplicity</b>.  Lists
are made with <code>List.of(x‚ÇÄ, x‚ÇÅ, ‚Ä¶, x‚Çô)</code>.  Indexing, <code>xs.get(ùíæ)</code>, yields
the ùíæ-th element from the start; i.e., the number of items to skip;
whence <code>xs.get(0)</code> is the first element.
</p>

<p>
<b>Sets are unordered collections, that ignore multiplicity</b>. Sets are
made with <code>Set.of(x‚ÇÄ, x‚ÇÅ, ‚Ä¶, x‚Çô)</code>.
</p>

<p>
<b>Maps are pairs of ‚Äòkeys‚Äô along with ‚Äòvalues‚Äô.</b> <code>Map&lt;K, V&gt;</code> is
essentially the class of objects that have no methods but instead have
an arbitary number of properties (the ‚Äòkeys‚Äô of type <code>K</code>), where each
property has a value of type <code>V</code>.  Maps are made with <code>Map.of(k‚ÇÄ, v‚ÇÄ,
‚Ä¶, k‚ÇÅ‚ÇÄ, v‚ÇÅ‚ÇÄ)</code> by explicitly declaraing keys and their associated
values.  The method <code>‚Ñ≥.get(k)</code> returns the value to which the
specified key <code>k</code> is mapped, or <code>null</code> if the map ‚Ñ≥ contains no
mapping for the key. Maps have an <code>entrySet()</code> method that gives a set
of key-value pairs, which can then be converted to a stream, if need
be.
</p>

<hr>

<p>
Other collection methods include, for a collection instance ùíû:
</p>
<ul class="org-ul">
<li><code class="src src-java">&#119966;.size()</code> is the number of elements in the collection</li>
<li><code class="src src-java">&#119966;.isEmpty()</code> ¬†‚â°¬† <code class="src src-java">&#119966;.size() == 0</code></li>
<li><code class="src src-java">&#119966;.contains(<span style="color: #b57614;">e</span>)</code> ¬†‚â°¬† <code class="src src-java">&#119966;.stream().filter(x -&gt; x.equals(e)).count() &gt; 0</code></li>
<li><code class="src src-java">Collections.fill(<span style="color: #b57614;">&#8466;</span>, <span style="color: #b57614;">e</span>)</code> ¬†‚âÖ¬† <code class="src src-java">&#8466;.stream().map(_ -&gt; e).toList()</code>;
i.e., copy list <code>‚Ñí</code> but replace all elements with <code>e</code>.</li>
<li><code class="src src-java">Collections.frequency(<span style="color: #b57614;">&#119966;</span>, <span style="color: #b57614;">e</span>)</code>
counts how many times <code>e</code> occurs in a collection.</li>
<li><code class="src src-java">Collections.max(<span style="color: #b57614;">&#119966;</span>)</code> is the largest value in a collection; likewise <code>min</code>.</li>
<li><code class="src src-java">Collections.nCopies(<span style="color: #b57614;">n</span>, <span style="color: #b57614;">e</span>)</code> is a list of \(n\) copies of <code>e</code>.</li>
</ul>

<hr>

<p>
<b><code class="src src-java"><span style="color: #b57614;">Stream</span>&lt;<span style="color: #b57614;">&#964;</span>&gt;</code> methods</b>
</p>
<ul class="org-ul">
<li><code class="src src-java">Stream.of(x&#8320;, ..., <span style="color: #b57614;">x&#8345;</span>)</code> makes a stream of data, of type œÑ, ready to be acted on.</li>
<li><code class="src src-java">s.map(<span style="color: #b57614;">f</span>)</code> changes the elements according to a function \(f : œÑ ‚Üí œÑ‚Ä≤\).
<ul class="org-ul">
<li><code class="src src-java">s.flatMap(<span style="color: #b57614;">f</span>)</code> transforms each element into a stream since \(f : œÑ ‚Üí Stream<œÑ‚Ä≤>\), then the resulting
stream-of-streams is flattened into a single sequential stream.</li>
<li>As such, to merge a streams of streams just invoke <code>.flatMap(s -&gt; s)</code>.</li>
</ul></li>
<li><code class="src src-java">s.filter(<span style="color: #b57614;">p</span>)</code> keeps only the elements that satisfy property <code>p</code></li>
<li><code class="src src-java">s.count()</code> is the number of elements in the stream</li>
<li><code class="src src-java">s.allMatch(<span style="color: #b57614;">p</span>)</code> tests if all elements  satisfy the <a href="https://download.java.net/java/early_access/panama/docs/api/java.base/java/util/function/Predicate.html">predicate</a> <code>p</code></li>
<li><code class="src src-java">s.anyMatch(<span style="color: #b57614;">p</span>)</code> tests if any element satisfies <code>p</code></li>
<li><code class="src src-java">s.noneMatch(<span style="color: #b57614;">p</span>)</code> ¬†‚â°¬† <code class="src src-java">s.allMatch(p.negate())</code></li>
<li><code class="src src-java">s.distinct()</code> drops all duplicates</li>
<li><code class="src src-java">s.findFirst()</code> returns an <code class="src src-java"><span style="color: #b57614;">Optional</span>&lt;<span style="color: #b57614;">&#964;</span>&gt;</code> denoting the first element, if any.</li>
<li><code class="src src-java">s.forEach(<span style="color: #b57614;">a</span>)</code> to loop over the elements and perform action <code>a</code>.
<ul class="org-ul">
<li>If you want to do some action, and get the stream <code>s</code> back for further use,
then use <code class="src src-java">s.peek(<span style="color: #b57614;">a</span>)</code>.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org32de5b6" class="outline-2">
<h2 id="org32de5b6"><span class="section-number-2">13.</span> <a href="#org32de5b6">Generics</a></h2>
<div class="outline-text-2" id="text-13">
<p>
Java only lets us return a single value from a method, what if we want
to return a pair of values? Easy, let's declare <code>record Pair(Object
first, Object second) { }</code> and then return <code>Pair</code>. This solution has
the same problem as methods that just return <code>Object</code>: It communicates
essentially no information &#x2014;after all, <i>everything is an object!</i>&#x2014;
and so requires dangerous casts to be useful, and the compiler wont
help me avoid type mistakes.
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #b57614;">record</span> <span style="color: #076678;">Pair</span>(<span style="color: #b57614;">Object</span> <span style="color: #076678;">first</span>, <span style="color: #b57614;">Object</span> <span style="color: #076678;">second</span>) { }

<span style="color: #a89984;">// </span><span style="color: #a89984;">This should return an integer and a string</span>
<span style="color: #b57614;">Pair</span> <span style="color: #076678;">myMethod</span>() { <span style="color: #98971a; font-weight: bold;">return</span> <span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">Pair</span>(<span style="color: #689d6a;">"1"</span>, <span style="color: #689d6a;">"hello"</span>); } <span style="color: #a89984;">// </span><span style="color: #a89984;">Oops, I made a typo!</span>

<span style="color: #b57614;">int</span> <span style="color: #076678;">num</span> = (<span style="color: #b57614;">int</span>) (myMethod().first()); <span style="color: #a89984;">// </span><span style="color: #a89984;">BOOM!</span>
</pre>
</div>

<p>
It would be better if we could say ‚Äúthis method returns a pair of an integer and a string‚Äù, for example.
We can do just that with <i>generics</i>!
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #b57614;">record</span> <span style="color: #076678;">Pair&lt;</span><span style="color: #b57614;">A</span><span style="color: #076678;">, </span><span style="color: #b57614;">B</span><span style="color: #076678;">&gt;</span>(<span style="color: #b57614;">A</span> <span style="color: #076678;">first</span>, <span style="color: #b57614;">B</span> <span style="color: #076678;">second</span>) { }

<span style="color: #b57614;">Pair</span>&lt;<span style="color: #b57614;">Integer</span>, <span style="color: #b57614;">String</span>&gt; <span style="color: #076678;">myMethod</span>() { <span style="color: #98971a; font-weight: bold;">return</span> <span style="color: #98971a; font-weight: bold;">new</span> <span style="color: #b57614;">Pair</span>&lt;&gt;(1, <span style="color: #689d6a;">"hello"</span>); }

<span style="color: #b57614;">int</span> <span style="color: #076678;">num</span> = myMethod().first();
</pre>
</div>
<p>
This approach <i>communicates to the compiler my intentions</i> and so the compiler ensures I don't make any silly typos.
Such good communication also means no dangerous casts are required.
</p>

<p>
We can use the new type in three ways:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><code>Pair&lt;A, B&gt;</code></td>
<td class="org-left">explicitly providing the types we want to use <code>Pair</code> with</td>
</tr>

<tr>
<td class="org-left"><code>Pair&lt;&gt;</code></td>
<td class="org-left">letting Java <i>infer, guess,</i> the types for <code>Pair</code> by how we use it</td>
</tr>

<tr>
<td class="org-left"><code>Pair</code></td>
<td class="org-left">defaulting the types to all be <code>Object</code></td>
</tr>
</tbody>
</table>

<p>
The final option is not recommended, since it looses type information. It's only allowed
since older versions of Java do not have type parameters and so, at run time, all type
parameters are ‚Äòerased‚Äô. That is, <i>type parameters only exist at compile time and so cannot
be inspected/observed at run-time.</i>
</p>
</div>
</div>

<p>
<hr><center><a class="tooltip" title="See the colourised Org source of this article; i.e., what I typed to get this nice webpage" href="java-cheat-sheet.org.html"><img
   src="https://img.shields.io/badge/-Source-informational?logo=read-the-docs"></a>&ensp;<a class="tooltip" title="See the various edits to this article over time"href="https://github.com/alhassy/alhassy.github.io/commits/master/posts/java-cheat-sheet.org"><img
   src="https://img.shields.io/badge/-History-informational?logo=github"></a>
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Amiri'>
  <style>
     body {font-family: 'Amiri', sans-serif;}
     table {font-family:  'Scheherazade'; font-size: 105%; }
   </style><br><a href="https://www.buymeacoffee.com/alhassy"><img src="https://img.shields.io/badge/-buy_me_a%C2%A0coffee-gray?logo=buy-me-a-coffee"></a><br><strong> Generated by Emacs and Org-mode (‚Ä¢ÃÄ·¥ó‚Ä¢ÃÅ)Ÿà </strong><center style="font-size: 12px"> <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"> <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"/> </a> <br/> <span xmlns:dct="https://purl.org/dc/terms/" href="https://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type"> <em>Life & Computing Science</em> </span> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://alhassy.github.io/" property="cc:attributionName" rel="cc:attributionURL"> Musa Al-hassy </a> is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"> Creative Commons Attribution-ShareAlike 3.0 Unported License </a></center></center><div hidden> <div id="postamble" class="status"> </div> </div> 
</p>
</div>
</body>
</html>